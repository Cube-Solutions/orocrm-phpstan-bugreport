/*! For license information please see orodatagrid.js.LICENSE.txt */
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[910],{"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/board/board-view.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="board-header-container"><div class="board-header"></div></div>\n<div class="board-body">\n    <div class="board-columns-container"></div>\n    <div class="board-body-loading-message" aria-label="'+(null==(__t=_.__("Loading..."))?"":_.escape(__t))+'"></div>\n</div>\n<div class="no-data"></div>\n';return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/board/card-view.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="<span>\n    Generic card\n    ",console&&console.warn&&console.warn("Please configure `card_view` in datagrid board configuration"),__p+="\n</span>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/board/column-header-view.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="board-column-title" data-grid-header-cell-label><span data-grid-header-cell-text>'+(null==(__t=label)?"":_.escape(__t))+"</span></div>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/board/column-view.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="board-card-list"></div>\n';return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid-settings/datagrid-settings-collection.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="table-header-wrapper" data-role="datagrid-settings-table-header-wrapper">\n    <table class="table-hover table table-condensed">\n        <thead>\n        <tr>\n            <th><span>'+(null==(__t=_.__("oro.datagrid.settings.column.name"))?"":_.escape(__t))+"</span></th>\n            ",addSorting&&(__p+="\n            <th><span>"+(null==(__t=_.__("oro.datagrid.settings.column.sort"))?"":_.escape(__t))+"</span></th>\n            "),__p+="\n            <th><span>"+(null==(__t=_.__("oro.datagrid.settings.column.show"))?"":_.escape(__t))+'</span></th>\n        </tr>\n        </thead>\n    </table>\n</div>\n<div class="table-wrapper" data-role="datagrid-settings-table-wrapper">\n    <table class="table-hover table table-condensed">\n        <thead class="thead-sizing">\n        <tr>\n            <th><span>'+(null==(__t=_.__("oro.datagrid.settings.column.name"))?"":_.escape(__t))+"</span></th>\n            ",addSorting&&(__p+="\n            <th><span>"+(null==(__t=_.__("oro.datagrid.settings.column.sort"))?"":_.escape(__t))+"</span></th>\n            "),__p+="\n            <th><span>"+(null==(__t=_.__("oro.datagrid.settings.column.show"))?"":_.escape(__t))+'</span></th>\n        </tr>\n        </thead>\n        <tbody></tbody>\n    </table>\n</div>\n<div class="no-data">'+(null==(__t=_.__("oro.datagrid.settings.empty_list"))?"":_.escape(__t))+"</div>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid-settings/datagrid-settings-dialog-widget-actions.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="widget-actions form-actions">\n    <button type="reset" class="btn">\n        '+(null==(__t=_.__("oro.datagrid.settings.close.label"))?"":_.escape(__t))+"\n    </button>\n</div>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid-settings/datagrid-settings-filter.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="datagrid-settings-search',0===search.length&&(__p+=" empty"),__p+='"\n     data-role="datagrid-settings-search-wrapper">\n    <input type="text" data-role="datagrid-settings-search" value="'+(null==(__t=search)?"":_.escape(__t))+'"\n            placeholder="'+(null==(__t=_.__("oro.datagrid.settings.filter.search_placeholder"))?"":_.escape(__t))+'" />\n    <a href="#" class="clear fa-close" data-role="datagrid-settings-clear-search"\n       title="'+(null==(__t=_.__("oro.datagrid.settings.filter.clear_search_tooltip"))?"":_.escape(__t))+'"></a>\n</div>\n<a href="#" class="datagrid-settings-renderable-tab',renderable||(__p+=" active"),__p+='"\n   data-role="datagrid-settings-show-all">\n    '+(null==(__t=_.__("oro.datagrid.settings.filter.all"))?"":_.escape(__t))+'\n</a>\n<a href="#" class="datagrid-settings-renderable-tab',renderable&&(__p+=" active"),__p+='"\n   data-role="datagrid-settings-show-selected">\n    '+(null==(__t=_.__("oro.datagrid.settings.filter.selected"))?"":_.escape(__t))+"\n</a>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid-settings/datagrid-settings-item.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<td class="title-cell" title="'+(null==(__t=label)?"":_.escape(__t))+'">\n    <label for="column-'+(null==(__t=cid)?"":_.escape(__t))+'">'+(null==(__t=label)?"":_.escape(__t))+"</label>\n</td>\n",addSorting&&(__p+='\n<td class="sort-cell">\n    ',_.isMobile()?__p+='\n    <span class="btn btn-icon move-up" data-role="moveUp" title="Move column up"><span class="fa-chevron-up"></span></span>\n    <span class="btn btn-icon move-down" data-role="moveDown" title="Move column down"><span class="fa-chevron-down"></span></span>\n    ':__p+='\n    <span title="Move column"><i class="fa-arrows-v handle"></i></span>\n    ',__p+="\n</td>\n"),__p+='\n<td class="visibility-cell" title="'+(null==(__t=label)?"":_.escape(__t))+'">\n    <input id="column-'+(null==(__t=cid)?"":_.escape(__t))+'" type="checkbox" data-role="renderable"\n    ',disabledVisibilityChange&&(__p+="disabled"),__p+="\n    ",renderable&&(__p+="checked"),__p+="/>\n</td>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid-settings/datagrid-settings.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="datagrid-settings-filter" data-role="datagrid-settings-filter"></div>\n<div class="datagrid-settings-actions">\n    <a href="#" data-role="datagrid-settings-select-all" class="pull-right">\n        '+(null==(__t=_.__("oro.datagrid.settings.select_all"))?"":_.escape(__t))+'\n    </a>\n    <a href="#" data-role="datagrid-settings-unselect-all" class="pull-right">\n        '+(null==(__t=_.__("oro.datagrid.settings.unselect_all"))?"":_.escape(__t))+'\n    </a>\n</div>\n<div class="datagrid-settings-table" data-role="datagrid-settings-table"></div>\n<div class="datagrid-settings-right-flap"></div>\n';return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/action-component-dropdown-launcher.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="",obj.attributesTemplate=function(e){_.each(e,(function(e,t){__p+="\n        "+(null==(__t=t)?"":_.escape(__t)),_.isNull(e)||(__p+='="'+(null==(__t=e)?"":_.escape(__t))+'"'),__p+="\n    "}))},__p+="\n\n",actionClassNames=[],actionClassNames.push("action btn"),className&&actionClassNames.push(className),"icon-only"==launcherMode&&actionClassNames.push("btn-icon"),enabled||actionClassNames.push("disabled"),""!=launcherMode&&actionClassNames.push("mode-"+launcherMode),actionClassNames.push("dropdown-toggle dropdown-toggle--no-caret"),__p+="\n\n";var togglerId=_.uniqueId("dropdown-");__p+='\n<div class="'+(null==(__t=wrapperClassName)?"":_.escape(__t))+' dropdown">\n    <a href="#" class="'+(null==(__t=actionClassNames.join(" "))?"":_.escape(__t))+'"\n       title="'+(null==(__t=title)?"":_.escape(__t))+'"\n       role="button" id="'+(null==(__t=togglerId)?"":_.escape(__t))+'" data-toggle="dropdown"\n       aria-haspopup="true" aria-expanded="false"\n       ',"icon-only"==launcherMode&&obj.ariaLabel&&(__p+=' aria-label="'+(null==(__t=ariaLabel)?"":_.escape(__t))+'" '),__p+="\n       ",attributesTemplate(attributes),__p+=">\n        ","icon-text"==launcherMode?__p+='\n            <span class="'+(null==(__t=iconClassName||"fa-"+icon)?"":_.escape(__t))+'" aria-hidden="true"></span>\n            '+(null==(__t=label)?"":_.escape(__t))+"\n        ":"icon-only"==launcherMode?__p+='\n            <span class="'+(null==(__t=iconClassName||"fa-"+icon)?"":_.escape(__t))+' fa--no-offset" aria-hidden="true"></span>\n        ':"text-only"==launcherMode&&(__p+="\n            ",iconClassName&&(__p+='<span class="'+(null==(__t=iconClassName)?"":_.escape(__t))+'" aria-hidden="true"></span>'),__p+="\n            "+(null==(__t=label)?"":_.escape(__t))+"\n        "),__p+='\n    </a>\n    <div class="dropdown-menu" aria-labelledby="'+(null==(__t=togglerId)?"":_.escape(__t))+'"></div>\n</div>\n'}return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/action-header-cell.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var togglerId=_.uniqueId("dropdown-");__p+='\n<div class="dropdown btn-group">\n    <button class="dropdown-toggle dropdown-toggle--no-caret" id="'+(null==(__t=togglerId)?"":_.escape(__t))+'"\n            data-toggle="dropdown"\n            data-placement="bottom-end"\n            data-modifiers="'+(null==(__t=JSON.stringify({preventOverflow:{enabled:!1},hide:{enabled:!1}}))?"":_.escape(__t))+'"\n            aria-haspopup="true"\n            aria-expanded="false"\n            aria-label="'+(null==(__t=_.__("oro.datagrid.mass_action.title"))?"":_.escape(__t))+'"\n            title="'+(null==(__t=_.__("oro.datagrid.mass_action.title"))?"":_.escape(__t))+'"\n            >\n        <span class="fa-ellipsis-h icon" aria-hidden="true"></span>\n    </button>\n    <ul class="dropdown-menu dropdown-menu__action-column" aria-labelledby="'+(null==(__t=togglerId)?"":_.escape(__t))+'" data-action-panel></ul>\n</div>\n'}return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/action-launcher.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="",obj.attributesTemplate=function(e){_.each(e,(function(e,t){__p+="\n        "+(null==(__t=t)?"":_.escape(__t)),_.isNull(e)||(__p+='="'+(null==(__t=e)?"":_.escape(__t))+'"'),__p+="\n    "}))},__p+="\n\n",actionClassNames=[],actionClassNames.push("action"),className&&actionClassNames.push(className),"icon-only"==launcherMode&&actionClassNames.push("btn-icon"),enabled||actionClassNames.push("disabled"),""!=launcherMode&&actionClassNames.push("mode-"+launcherMode),obj.withinDropdown&&actionClassNames.push("dropdown-item"),links&&actionClassNames.push("dropdown-toggle"),__p+="\n\n";var togglerId=_.uniqueId("dropdown-");__p+="\n\n",links&&(__p+='<div class="btn-group">'),__p+="\n\n<"+(null==(__t=tagName)?"":_.escape(__t))+"\n    ","a"===tagName&&(__p+=' href="'+(null==(__t=link)?"":_.escape(__t))+'" role="button"'),__p+='\n    class="'+(null==(__t=actionClassNames.join(" "))?"":_.escape(__t))+'"\n    title="'+(null==(__t=title)?"":_.escape(__t))+'"\n    ',obj.ariaLabel&&(__p+='\n    aria-label="'+(null==(__t=ariaLabel)?"":_.escape(__t))+'"\n    '),__p+="\n    ",attributesTemplate(attributes),__p+="\n    ",links&&(__p+=' data-toggle="dropdown" data-inherit-parent-width="loosely" role="button" id="'+(null==(__t=togglerId)?"":_.escape(__t))+'"\n        aria-haspopup="true" aria-expanded="false" aria-label="'+(null==(__t=label)?"":_.escape(__t))+'"'),__p+=">\n\n    ","icon-text"==launcherMode?__p+='\n        <span class="icon '+(null==(__t=iconClassName||"fa-"+icon)?"":_.escape(__t))+'" aria-hidden="true"></span>\n        '+(null==(__t=label)?"":_.escape(__t))+"\n    ":"icon-only"==launcherMode?__p+='\n        <span class="icon '+(null==(__t=iconClassName||"fa-"+icon)?"":_.escape(__t))+' fa--no-offset" aria-hidden="true"></span>\n    ':"text-only"==launcherMode&&(__p+="\n        ",iconClassName&&(__p+='<span class="icon '+(null==(__t=iconClassName)?"":_.escape(__t))+'" aria-hidden="true"></span>'),__p+="\n        "+(null==(__t=label)?"":_.escape(__t))+"\n    "),__p+="\n</"+(null==(__t=tagName)?"":_.escape(__t))+">\n\n",links&&(__p+='\n    <ul class="dropdown-menu" aria-labelledby="'+(null==(__t=togglerId)?"":_.escape(__t))+'">\n    ',_.each(links,(function(e,t){__p+='\n        <li>\n            <a href="'+(null==(__t=link)?"":_.escape(__t))+'" class="dropdown-item" data-index="'+(null==(__t=t)?"":_.escape(__t))+'" title="'+(null==(__t=e.label)?"":_.escape(__t))+'"\n            ',e.attributes&&attributesTemplate(e.attributes),__p+="\n            ",e.ariaLabel&&(__p+=' aria-label="'+(null==(__t=e.ariaLabel)?"":_.escape(__t))+'" '),__p+='\n            data-key="'+(null==(__t=e.key)?"":_.escape(__t))+'">\n                ',"icon-text"==launcherMode?__p+='\n                    <span class="icon '+(null==(__t=iconClassName||"fa-"+icon)?"":_.escape(__t))+'" aria-hidden="true"></span>\n                    '+(null==(__t=e.label)?"":_.escape(__t))+"\n                ":"icon-only"==launcherMode?__p+='\n                    <span class="icon '+(null==(__t=iconClassName||"fa-"+icon)?"":_.escape(__t))+' fa--no-offset" aria-hidden="true"></span>\n                ':"text-only"==launcherMode&&(__p+="\n                    ",iconClassName&&(__p+='<span class="icon '+(null==(__t=iconClassName)?"":_.escape(__t))+'" aria-hidden="true"></span>'),__p+="\n                    "+(null==(__t=e.label)?"":_.escape(__t))+"\n                "),__p+="\n            </a>\n        </li>\n    "})),__p+="\n    </ul>\n</div>\n"),__p+="\n"}return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/grid-header-cell.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",sortable?__p+='\n<a href="#" class="grid-header-cell__link" role="button" data-grid-header-cell-label>\n    <span class="grid-header-cell__label" data-grid-header-cell-text>'+(null==(__t=label)?"":_.escape(__t))+'</span>\n    <span class="sortable-icon" aria-hidden="true"></span>\n</a>\n':__p+='\n<span class="grid-header-cell__label-container" data-grid-header-cell-label>\n    <span class="grid-header-cell__label" data-grid-header-cell-text>'+(null==(__t=label)?"":_.escape(__t))+"</span>\n</span>\n",__p+="\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/grid-settings.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="datagrid-settings__wrapper">\n    <span class="close fa-close" data-role="close"></span>\n    <h3 class="datagrid-settings__title">'+(null==(__t=title)?"":_.escape(__t))+'</h3>\n\n    <div class="datagrid-settings__tabs" data-tabs-nav></div>\n\n    <div class="datagrid-settings__tabs-content" data-tabs-content>\n        ',_.each(views,(function(e){__p+='\n            <div id="'+(null==(__t=e.id)?"":_.escape(__t))+'" ',e.active||(__p+=' style="display: none;"'),__p+=' data-tab-content="'+(null==(__t=e.id)?"":_.escape(__t))+'"></div>\n        '})),__p+="\n    </div>\n</div>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/grid-view-label.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",navbar?(__p+='\n    <h1 class="oro-subtitle" ',obj.uniqueId&&(__p+=' id="'+(null==(__t=uniqueId)?"":_.escape(__t))+'"'),__p+=">"+(null==(__t=title)?"":_.escape(__t))+"</h1>\n"):(__p+='\n    <h3 class="grid-view-title" ',obj.uniqueId&&(__p+=' id="'+(null==(__t=uniqueId)?"":_.escape(__t))+'"'),__p+=">"+(null==(__t=title)?"":_.escape(__t))+"</h3>\n"),__p+="\n",hasCaret&&(__p+='\n    <span class="grid-view-icon" aria-hidden="true"></span>\n'),__p+="\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/grid-view.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){if(__p+="",choices.length){__p+="\n    ";var gridViewTogglerId=_.uniqueId("dropdown-");__p+='\n    <div class="views-group">\n        <div id="'+(null==(__t=gridViewTogglerId)?"":_.escape(__t))+'"\n             data-toggle="dropdown"\n             data-adjust-height\n             data-placement="bottom-start"\n             class="grid-views-toogler ',disabled&&(__p+="disabled"),__p+='"\n             role="button"\n             aria-haspopup="true"\n             aria-expanded="false"\n        >\n            ',__p+="\n            "+(null==(__t=title)?"":__t)+"\n        </div>\n\n        ",iconClass=_.filter(choices,(function(e){return!1!==e.icon})).length?" has-icons":"",__p+='\n        <div class="grid-views-dropdown dropdown-menu'+(null==(__t=iconClass)?"":_.escape(__t))+'" aria-labelledby="'+(null==(__t=gridViewTogglerId)?"":_.escape(__t))+'">\n            ',_.each(choices,(function(e){__p+='\n                <a class="grid-views-item dropdown-item" href="#" role="button" data-value="'+(null==(__t=e.value)?"":_.escape(__t))+'">\n                    ',e.icon&&(__p+='\n                        <span class="grid-views-choice-icon '+(null==(__t=e.icon)?"":_.escape(__t))+'" aria-hidden="true"></span>\n                    '),__p+='\n                    <span class="grid-views-choice">\n                        '+(null==(__t=e.label)?"":_.escape(__t))+"\n                    </span>\n                </a>\n            "})),__p+="\n        </div>\n    </div>\n"}if(__p+="\n",showActions){__p+="\n    ";var gridViewActionsTogglerId=_.uniqueId("dropdown-");__p+='\n    <div class="actions-group">\n        <button id="'+(null==(__t=gridViewActionsTogglerId)?"":_.escape(__t))+'"\n                class="grid-view-btn btn btn-link"\n                data-toggle="dropdown"\n                data-placement="bottom-start"\n                data-modifiers="'+(null==(__t=JSON.stringify({preventOverflow:{enabled:!1},hide:{enabled:!1}}))?"":_.escape(__t))+'"\n                aria-haspopup="true"\n                aria-expanded="false"\n        >\n            '+(null==(__t=actionsLabel)?"":_.escape(__t))+'\n        </button>\n        <div class="dropdown-menu" aria-labelledby="'+(null==(__t=gridViewActionsTogglerId)?"":_.escape(__t))+'">\n            ',_.each(actions,(function(e){__p+="\n                ",e.enabled&&(__p+='\n                    <a href="#" role="button" class="grid-views-item dropdown-item '+(null==(__t=e.name)?"":_.escape(__t))+'">'+(null==(__t=e.label)?"":_.escape(__t))+"</a>\n                "),__p+="\n            "})),__p+="\n        </div>\n        ",dirty&&(__p+='\n            <span class="edited-label">-&nbsp;'+(null==(__t=editedLabel)?"":_.escape(__t))+"</span>\n        "),__p+="\n    </div>\n"}__p+="\n"}return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/grid.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="toolbar" data-grid-toolbar="top"></div>\n<div class="other-scroll-container">\n    <div class="other-scroll"><div></div></div>\n    <div class="grid-scrollable-container">\n        <div class="grid-container">\n            <'+(null==(__t=tableTagName)?"":_.escape(__t))+' class="grid grid-main-container',tableClassName&&(__p+=" "+(null==(__t=tableClassName)?"":_.escape(__t))),__p+='"></'+(null==(__t=tableTagName)?"":_.escape(__t))+'>\n        </div>\n    </div>\n    <div class="no-data"></div>\n</div>\n<div class="toolbar" data-grid-toolbar="bottom"></div>\n';return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/no-data.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<p class="no-data__text">'+(null==(__t=text)?"":__t)+"</p>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/no-search-results.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<h5 class="no-data__title">'+(null==(__t=title)?"":__t)+'</h5>\n<p class="no-data__text">'+(null==(__t=text)?"":__t)+"</p>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/page-size.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="",showLabels&&(__p+='\n    <span class="control-label">'+(null==(__t=_.__("View per page"))?"":_.escape(__t))+": &nbsp;</span>\n"),__p+="\n";var togglerId=_.uniqueId("dropdown-");__p+='\n<div class="btn-group">\n    <button class="btn dropdown-toggle ',disabled&&(__p+="disabled"),__p+='" type="button"\n            id="'+(null==(__t=togglerId)?"":_.escape(__t))+'" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"\n            aria-label="'+(null==(__t=_.__("View per page"))?"":_.escape(__t))+'" data-placement="bottom-end" data-position-fixed="false">\n        '+(null==(__t=currentSizeLabel)?"":_.escape(__t))+'\n    </button>\n    <ul class="dropdown-menu" aria-labelledby="'+(null==(__t=togglerId)?"":_.escape(__t))+'">\n        ',_.each(items,(function(e){__p+='\n        <li><a class="dropdown-item" href="#" data-size="',_.isUndefined(e.size)?__p+=""+(null==(__t=e)?"":_.escape(__t)):__p+=""+(null==(__t=e.size)?"":_.escape(__t)),__p+='"\n               data-grid-pagesize-trigger>\n            ',_.isUndefined(e.label)?__p+=""+(null==(__t=e)?"":_.escape(__t)):__p+=""+(null==(__t=e.label)?"":_.escape(__t)),__p+="</a></li>\n        "})),__p+="\n    </ul>\n</div>\n",showLabels&&(__p+="\n    <span>"+(null==(__t=_.__("Per page"))?"":_.escape(__t))+"</span>\n"),__p+="\n"}return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/pagination-input.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",_.isMobile()||(__p+="\n    <span>"+(null==(__t=_.__("oro.datagrid.pagination.label"))?"":_.escape(__t))+":</span>\n"),__p+="\n\n",_.each(handles,(function(e){if(__p+="\n    ","input"==e.type)__p+='\n        <input type="number"\n               class="grid-toolbar-input"\n               value="'+(null==(__t=0==state.firstPage?state.currentPage+1:state.currentPage)?"":_.escape(__t))+'"\n            ',disabled&&(__p+="disabled"),__p+='\n            data-grid-pagination-trigger-input aria-label="'+(null==(__t=_.__("oro.datagrid.pagination.input-aria"))?"":_.escape(__t))+'"\n        >\n    ';else{__p+="\n        ";var t=_.isDesktop()?"btn btn-icon btn-light pagination-trigger ":"btn btn-icon pagination-trigger ";t+=e.className?e.className:"",t+=disabled?" disabled":"",__p+='\n        <button class="'+(null==(__t=t)?"":_.escape(__t))+'"\n            ',e.title&&(__p+=' title="'+(null==(__t=e.title)?"":_.escape(__t))+'"'),__p+='\n            data-grid-pagination-trigger\n            data-grid-pagination-direction="'+(null==(__t=e.direction)?"":_.escape(__t))+'"\n            title="'+(null==(__t=e.label)?"":_.escape(__t))+'"\n        >\n        ',e.wrapClass?(__p+="\n            <span",e.wrapClass&&(__p+=' class="'+(null==(__t=e.wrapClass)?"":_.escape(__t))+'"'),__p+='\n                aria-hidden="true"\n            >\n                '+(null==(__t=e.label)?"":_.escape(__t))+"\n            </span>\n        "):__p+="\n            "+(null==(__t=e.label)?"":_.escape(__t))+"\n        ",__p+="\n        </button>\n    "}__p+="\n"})),__p+="\n\n",_.isMobile()||(__p+="\n    <span>"+(null==(__t=_.__("oro.datagrid.pagination.totalPages",{totalPages:state.totalPages||1}))?"":_.escape(__t))+'</span>\n    <span class="totals-label">'+(null==(__t=_.__("oro.datagrid.pagination.totalRecords",{totalRecords:state.totalRecords}))?"":_.escape(__t))+"</span>\n"),__p+="\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/pagination.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",_.isMobile()||(__p+="\n    <span>"+(null==(__t=_.__("oro.datagrid.pagination.label"))?"":_.escape(__t))+":</span>\n"),__p+="\n\n",_.each(handles,(function(e){__p+="\n    ";var t=_.isDesktop()?"btn btn-icon btn-light pagination-trigger ":"btn btn-icon pagination-trigger ";t+=e.className?e.className:"",__p+='\n    <button class="'+(null==(__t=t)?"":_.escape(__t))+'"\n        ',e.title&&(__p+=' title="'+(null==(__t=e.title)?"":_.escape(__t))+'"'),__p+="\n    >\n    ",e.wrapClass?(__p+="\n        <span ",e.wrapClass&&(__p+='class="'+(null==(__t=e.wrapClass)?"":_.escape(__t))+'"'),__p+='\n            aria-hidden="true"\n        >\n            '+(null==(__t=e.label)?"":_.escape(__t))+"\n        </span>\n    "):__p+="\n        "+(null==(__t=e.label)?"":_.escape(__t))+"\n    ",__p+="\n    </button>\n"})),__p+="\n\n",_.isMobile()||(__p+="\n    <span>"+(null==(__t=_.__("oro.datagrid.pagination.totalPages",{totalPages:state.totalPages||1}))?"":_.escape(__t))+"</span>\n    <span>"+(null==(__t=_.__("oro.datagrid.pagination.totalRecords",{totalRecords:state.totalRecords}))?"":_.escape(__t))+"</span>\n"),__p+="\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/select-all-header-cell.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var togglerId=_.uniqueId("dropdown-");__p+='\n<div class="btn-group dropdown">\n    <a href="#" role="button" class="dropdown-toggle dropdown-toggle--no-caret" id="'+(null==(__t=togglerId)?"":_.escape(__t))+'" data-toggle="dropdown"\n            data-modifiers="'+(null==(__t=JSON.stringify({preventOverflow:{enabled:!1},hide:{enabled:!1}}))?"":_.escape(__t))+'"\n            aria-haspopup="true" aria-expanded="false"\n            aria-label="'+(null==(__t=_.__("oro.datagrid.headerCell.selectAll.label"))?"":_.escape(__t))+'"><input type="checkbox" data-select/>\n        <span class="icon" aria-hidden="true"></span>\n    </a>\n    <ul class="dropdown-menu dropdown-menu__select-all-header-cell" aria-labelledby="'+(null==(__t=togglerId)?"":_.escape(__t))+'">\n        <li><a class="dropdown-item" href="#" data-select-all>'+(null==(__t=_.__("oro.datagrid.headerCell.selectAll.all"))?"":_.escape(__t))+'</a></li>\n        <li class="all-visible"><a class="dropdown-item" href="#" data-select-all-visible>'+(null==(__t=_.__("oro.datagrid.headerCell.selectAll.allVisible"))?"":_.escape(__t))+'</a></li>\n        <li><a class="dropdown-item" href="#" data-select-none>'+(null==(__t=_.__("oro.datagrid.headerCell.selectAll.none"))?"":_.escape(__t))+"</a></li>\n    </ul>\n</div>\n"}return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/select-row-cell.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<input type="checkbox" class="select-row-cell-input" data-role="select-row-cell"',checked&&(__p+=' checked="checked"'),__p+=">\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/sorting-dropdown.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var labelId=_.uniqueId("datagrid-toolbar-label-");__p+="\n",hasSortingOrderButton?__p+='\n<span id="'+(null==(__t=labelId)?"":_.escape(__t))+'" class="sorting-label">'+(null==(__t=_.__("oro.datagrid.toolbar_sorting.label"))?"":_.escape(__t))+":</span>\n":inlineSortingLabel&&(__p+='\n<span  id="'+(null==(__t=labelId)?"":_.escape(__t))+'" class="datagrid-tool__label">'+(null==(__t=_.__("oro.datagrid.toolbar_sorting.label"))?"":_.escape(__t))+":</span>\n"),__p+='\n\n<select class="oro-select2 oro-select2--size-s input-widget" data-skip-input-widgets aria-labelledby="'+(null==(__t=labelId)?"":_.escape(__t))+'">\n    ',!1!==disableNotSelectedOption&&null!==currentDirection||(__p+='\n        <option value="not-selected" ',null===currentDirection&&(__p+='selected="selected"'),__p+=">\n            "+(null==(__t=_.__("oro.datagrid.sorters.not_selected"))?"":_.escape(__t))+"\n        </option>\n    "),__p+="\n    ";for(var i=0;i<columns.length;i++)__p+='\n    <option value="'+(null==(__t=columns[i].value)?"":_.escape(__t))+'"',selectedValue===columns[i].value&&(__p+=' selected="selected"'),__p+=">"+(null==(__t=columns[i].label)?"":_.escape(__t)),hasSortingOrderButton||(__p+="&nbsp("+(null==(__t=_.__("oro.datagrid.sorters."+columns[i].sortingType+"."+columns[i].directionValue))?"":_.escape(__t))+")"),__p+="</option>\n    ";__p+="\n</select>\n",hasSortingOrderButton&&(__p+='\n    <span class="sorting-divider" aria-hidden="true">|</span>\n    <button data-name="order-toggle" class="order-toggle btn btn-icon btn-light">\n        <span aria-hidden="true"\n              data-name="order-toggle-icon"\n              class="',"ascending"===currentDirection?__p+="fa-sort-amount-asc-alt":__p+="fa-sort-amount-asc",__p+='"\n        ></span>\n    </button>\n'),__p+="\n"}return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/view-name-error-modal.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<span class="validation-failed" ',obj.id&&(__p+=' id="'+(null==(__t=id)?"":_.escape(__t))+'" '),__p+=' role="alert" >'+(null==(__t=error)?"":_.escape(__t))+"</span>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/view-name-modal.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var gridViewId=_.uniqueId("grid-view-");__p+='\n\n<div class="form-horizontal">\n    <div class="control-group">\n        <label class="control-label" for="'+(null==(__t=gridViewId)?"":_.escape(__t))+'">'+(null==(__t=label)?"":_.escape(__t))+':</label>\n        <div class="controls">\n            <input id="'+(null==(__t=gridViewId)?"":_.escape(__t))+'" data-role="grid-view-input" name="name" type="text" value="'+(null==(__t=value)?"":_.escape(__t))+'">\n        </div>\n    </div>\n    <div class="control-group control-group-checkbox">\n        <label class="control-label" for="gridViewDefault">'+(null==(__t=defaultLabel)?"":_.escape(__t))+':</label>\n        <div class="controls">\n            <input id="gridViewDefault" name="is_default" type="checkbox" ',defaultChecked&&(__p+=" checked "),__p+=" >\n        </div>\n    </div>\n</div>\n"}return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/visible-items-counter.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+=(null==(__t=_.__("oro.datagrid.pagination.visibleItems",{count:state.length,total:state.totalRecords}))?"":_.escape(__t))+"\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/hint/hint-view-template.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="popover" role="tooltip">\n    <div class="arrow" aria-hidden="true"></div>\n    <h3 class="popover-header"></h3>\n    <div class="popover-body popover-no-close-button"></div>\n</div>\n';return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/inline-editing/error-holder.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="error-holder">\n',_.each(messages,(function(e,t){__p+='\n    <span for="'+(null==(__t=t)?"":_.escape(__t))+'" class="validation-failed"><span><span>'+(null==(__t=e)?"":__t)+"</span></span></span>\n"})),__p+="\n</div>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orofilter/templates/filter/choice-tree.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="choice-tree-filter">\n    <input type="hidden" name="value">\n    <input type="hidden" name="type">\n    <div class="oro-action">\n        <div class="btn-group">\n            <button class="btn btn-primary filter-update" type="button">'+(null==(__t=_.__("Update"))?"":_.escape(__t))+"</button>\n        </div>\n    </div>\n</div>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orofilter/templates/filter/dictionary-filter.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var togglerId=_.uniqueId("dropdown-");__p+='\n<div class="choice-filter dictionary-filter">\n    <div class="btn-group btn-block">\n        <button id="'+(null==(__t=togglerId)?"":_.escape(__t))+'" class="btn btn-square-default dropdown-toggle " data-toggle="dropdown"\n                data-inherit-parent-width="loosely"\n                data-adjust-height\n                aria-haspopup="true" aria-expanded="false" aria-label="'+(null==(__t=_.__("Filter criteria"))?"":_.escape(__t))+'">\n            '+(null==(__t=selectedChoiceLabel)?"":_.escape(__t))+'\n        </button>\n        <ul class="dropdown-menu" role="menu" aria-labelledby="'+(null==(__t=togglerId)?"":_.escape(__t))+'">\n            ',_.each(choices,(function(e){__p+="\n            <li",selectedChoice==e.value&&(__p+=' class="active"'),__p+='>\n                <a class="dropdown-item choice-value" href="#" data-value="'+(null==(__t=e.value)?"":_.escape(__t))+'">'+(null==(__t=e.label)?"":_.escape(__t))+"</a>\n            </li>\n            "})),__p+='\n        </ul>\n    </div>\n    <div class="value-field-frame">\n        <input type="text" name="select-values-autocomplete" class="select-values-autocomplete" placeholder="'+(null==(__t=_.__("Choose values"))?"":_.escape(__t))+'" value="">\n        <input class="name_input" type="hidden" name="'+(null==(__t=name)?"":_.escape(__t))+'" id="'+(null==(__t=name)?"":_.escape(__t))+'" value="'+(null==(__t=selectedChoice)?"":_.escape(__t))+'">\n        <button class="btn btn-primary filter-update" type="button">'+(null==(__t=_.__("Update"))?"":_.escape(__t))+"</button>\n    </div>\n</div>\n"}return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orofilter/templates/filter/none-filter.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="<div>"+(null==(__t=popupHint)?"":__t)+"</div>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orofilter/templates/filter/number-range-filter.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var togglerId=_.uniqueId("dropdown-");__p+='\n<div class="choice-filter number-range-filter">\n    <div class="btn-group btn-block">\n        <button id="'+(null==(__t=togglerId)?"":_.escape(__t))+'" class="btn btn-square-default dropdown-toggle" data-toggle="dropdown"\n                data-inherit-parent-width="loosely"\n                data-adjust-height\n                aria-haspopup="true" aria-expanded="false" aria-label="'+(null==(__t=_.__("Filter criteria"))?"":_.escape(__t))+'">\n            '+(null==(__t=selectedChoiceLabel)?"":_.escape(__t))+'\n        </button>\n        <ul class="dropdown-menu" role="menu" aria-labelledby="'+(null==(__t=togglerId)?"":_.escape(__t))+'">\n            ',_.each(choices,(function(e){__p+="\n            <li",selectedChoice==e.value&&(__p+=' class="active"'),__p+='>\n                <a class="dropdown-item choice-value" href="#" data-value="'+(null==(__t=e.value)?"":_.escape(__t))+'">'+(null==(__t=e.label)?"":_.escape(__t))+"</a>\n            </li>\n            "})),__p+='\n        </ul>\n    </div>\n    <div class="value-field-frame">\n        <div class="filter-value">\n            <div class="filter-start">\n                <input type="number" class="" value="'+(null==(__t=value.value)?"":_.escape(__t))+'" name="value">\n            </div>\n            <span class="filter-separator">-</span>\n            <div class="filter-end">\n                <input type="number" value="'+(null==(__t=value.value_end)?"":_.escape(__t))+'" name="value_end">\n            </div>\n        </div>\n        <input class="name_input" type="hidden" name="'+(null==(__t=name)?"":_.escape(__t))+'" id="'+(null==(__t=name)?"":_.escape(__t))+'" value="'+(null==(__t=selectedChoice)?"":_.escape(__t))+'"/>\n        <button class="btn btn-primary filter-update" type="button">'+(null==(__t=_.__("Update"))?"":_.escape(__t))+"</button>\n    </div>\n</div>\n"}return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orofilter/templates/filters-container.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",_.isEmpty(filters)||(__p+="\n    ",_.isMobile()?__p+='\n    <div class="filter-box clearfix">\n        <div class="dropdown">\n            <a href="#" class="btn btn-large dropdown-toggle" data-name="filters-dropdown">\n                '+(null==(__t=_.__("oro.filter.filter_results_trigger"))?"":_.escape(__t))+'\n                <span data-role="reset-all-filters" class="reset-all-filter"></span>\n            </a>\n            <ul class="dropdown-menu">\n                <li>\n                    <div class="filter-container">\n                        <a class="reset-filter-button" href="#">\n                            '+(null==(__t=_.__("oro.filter.filter_reset"))?"":_.escape(__t))+'\n                        </a>\n                        <span class="filter-items"></span>\n                        <div class="filter-items-hint"></div>\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </div>\n    ':__p+='\n    <div class="filter-box clearfix">\n        <div class="filter-container">\n            <span class="filter-items"></span>\n            <div class="filter-items-hint">\n                <a class="reset-filter-button" href="#">\n                    '+(null==(__t=_.__("oro.filter.reset.label"))?"":_.escape(__t))+"\n                </a>\n            </div>\n        </div>\n    </div>\n    ",__p+="\n"),__p+="\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orofilter/templates/filters-dialog-actions.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="widget-actions form-actions">\n    <button data-role="reset-filters" class="btn">\n        '+(null==(__t=_.__("oro.filter.dialog.reset_all"))?"":_.escape(__t))+'\n    </button>\n    <button type="reset" class="btn">\n        '+(null==(__t=_.__("oro.filter.dialog.close"))?"":_.escape(__t))+"\n    </button>\n</div>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orofilter/templates/filters-state-popover.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="popover filters-state-popover" role="tooltip">\n    <div class="arrow"></div>\n    <h3 class="popover-header"></h3>\n    <div class="popover-body popover-no-close-button"></div>\n</div>\n';return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orofilter/templates/filters-state-view.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",filters.length>0&&(__p+='\n<button class="filters-state" type="button">\n    <span class="filters-state__ellipsis">\n        <span class="fa-filter hide-text" aria-hidden="true"></span>\n        ',_.each(filters,(function(e,t){t>0&&(__p+=", "),__p+="<span>"+(null==(__t=e.label)?"":_.escape(__t))+" <span>"+(null==(__t=e.hint)?"":_.escape(__t))+"</span></span>"})),__p+="\n    </span>\n</button>\n"),__p+="\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/oroui/templates/dropdown-menu-collection--item.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<a href="#" data-emulate-btn-press="" class="dropdown-item" data-value="'+(null==(__t=id)?"":_.escape(__t))+'">'+(null==(__t=text)?"":_.escape(__t))+"</a>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/oroui/templates/tab-collection-container.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div data-page-component-responsive-tabs="'+(null==(__t=JSON.stringify(tabOptions))?"":_.escape(__t))+'">\n    <ul class="'+(null==(__t=templateClassName)?"":_.escape(__t))+'" role="tablist" data-name="tabs-list"></ul>\n</div>\n';return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/oroui/templates/tab-collection-item.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<a  href="#"\n    id="'+(null==(__t=uniqueId)?"":_.escape(__t))+'"\n    class="nav-link ',obj.active&&(__p+="active"),__p+='"\n    role="tab"\n    data-emulate-btn-press=""\n    data-toggle="tab"\n    aria-controls="',obj.controlTabPanel?__p+=""+(null==(__t=controlTabPanel)?"":_.escape(__t)):__p+=""+(null==(__t=id)?"":_.escape(__t)),__p+='"\n    aria-selected="',obj.active?__p+="true":__p+="false",__p+='"\n    >\n    '+(null==(__t=label)?"":_.escape(__t))+"\n</a>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/datagrid/action-permissions-field-view.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="field-name"',_.isEmpty(obj.description)||(__p+=' title="'+(null==(__t=description)?"":_.escape(__t))+'"'),__p+=">"+(null==(__t=label)?"":_.escape(__t))+'</div>\n<ul data-name="field-permissions-items" class="action-permissions"></ul>\n';return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/datagrid/action-permissions-row-view.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var labelId=_.uniqueId("label-");__p+="\n";var regionId=_.uniqueId("collapse-region-");__p+='\n<td class="grid-body-cell" colspan="'+(null==(__t=columnsCount)?"":_.escape(__t))+'" role="presentation">\n    <div role="row" aria-rowindex="'+(null==(__t=ariaRowIndex)?"":_.escape(__t))+'" class="entity-permission-container ',0===fields.length&&(__p+=" field-less"),__p+='">\n        <div role="gridcell" aria-colindex="1" class="permissions-cell collapse-expand-action-container">\n            <a href="#" class="collapse-action collapsed" role="button" title="'+(null==(__t=_.__("Expand"))?"":_.escape(__t))+'"\n                ',fields.length||(__p+='\n                    tabindex="-1"\n                '),__p+='\n                data-collapsed-title="'+(null==(__t=_.__("Expand"))?"":_.escape(__t))+'" data-expanded-title="'+(null==(__t=_.__("Collapse"))?"":_.escape(__t))+'"\n                data-toggle="collapse" data-target="#'+(null==(__t=regionId)?"":_.escape(__t))+'"\n                aria-controls="'+(null==(__t=regionId)?"":_.escape(__t))+'" aria-expanded="false"\n                aria-label="'+(null==(__t=_.__("Expand")+"/"+_.__("Collapse"))?"":_.escape(__t))+'"></a>\n            <div id="'+(null==(__t=labelId)?"":_.escape(__t))+'" class="entity-name">'+(null==(__t=label)?"":_.escape(__t))+'</div>\n        </div>\n        <div role="gridcell" aria-colindex="2" class="permissions-cell action-permissions-container">\n            <ul data-name="action-permissions-items" class="action-permissions"></ul>\n        </div>\n        ',!0!==obj.readonlyMode&&(__p+='\n        <div role="gridcell" aria-colindex="3" class="permissions-cell entity-row-action more-bar-holder" data-name="row-action"></div>\n        '),__p+="\n    </div>\n    ",obj.fields&&fields.length&&(__p+='\n    <div id="'+(null==(__t=regionId)?"":_.escape(__t))+'" class="collapse fields-list" data-name="fields-list"\n         role="region" aria-labelledby="'+(null==(__t=labelId)?"":_.escape(__t))+'"></div>\n    '),__p+="\n</td>\n"}return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/datagrid/permission/permission-readonly-view.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="action-permissions__item-wrapper readonly ',noAccess&&(__p+=" action-permissions__item-wrapper--no-access"),__p+='"\n     title="'+(null==(__t=label)?"":_.escape(__t))+" - "+(null==(__t=access_level_label)?"":_.escape(__t))+'">\n    <span class="action-permissions__label">'+(null==(__t=label)?"":_.escape(__t))+'</span>\n    -\n    <span class="action-permissions__value">'+(null==(__t=access_level_label)?"":_.escape(__t))+"</span>\n</div>\n";return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/datagrid/permission/permission-view.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var togglerId=_.uniqueId("dropdown-");__p+='\n<div\n    data-toggle="dropdown" role="button" id="'+(null==(__t=togglerId)?"":_.escape(__t))+'"\n    aria-label="'+(null==(__t=_.__("oro.role.permission.edit_label",{label}))?"":_.escape(__t))+'"\n    aria-haspopup="true" aria-expanded="false"\n    data-target="'+(null==(__t=dropdownTarget)?"":_.escape(__t))+'"\n    data-placement="bottom-end"\n    class="dropdown-toggle dropdown-toggle--no-caret action-permissions__item-wrapper',isAccessLevelChanged&&(__p+=" action-permissions__item-wrapper_changed"),__p+='"\n>\n    <span class="action-permissions__label"\n          title="'+(null==(__t=label)?"":_.escape(__t))+'">'+(null==(__t=label)?"":_.escape(__t))+'</span>\n    -\n    <a href="#"\n       class="action-permissions__dropdown-toggle"\n       data-emulate-btn-press=""\n       title="'+(null==(__t=access_level_label)?"":_.escape(__t))+'">'+(null==(__t=access_level_label)?"":_.escape(__t))+'</a>\n</div>\n<div class="dropdown-menu dropdown-menu__permissions-item" aria-labelledby="'+(null==(__t=togglerId)?"":_.escape(__t))+'">\n    <div data-role="dropdown-menu-content"></div>\n</div>\n'}return __p}},"../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/datagrid/role-permissions-action-view.html":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./bundles/oroui/js/extend/underscore.js");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var togglerId=_.uniqueId("dropdown-");__p+='\n<a href="#" role="button" data-toggle="dropdown" data-placement="bottom-end" data-modifiers="'+(null==(__t=JSON.stringify({preventOverflow:{enabled:!1},hide:{enabled:!1}}))?"":_.escape(__t))+'"\n   class="dropdown-toggle dropdown-toggle--no-caret role-permissions-action-launcher"\n   id="'+(null==(__t=togglerId)?"":_.escape(__t))+'" aria-haspopup="true" aria-expanded="false" aria-label="'+(null==(__t=_.__("oro.role.permission.mass_edit_label"))?"":_.escape(__t))+'">\n    <span class="fa-ellipsis-h fa--no-offset " aria-hidden="true"></span>\n</a>\n<div class="dropdown-menu dropdown-menu__action-cell dropdown-menu__role-permissions-action" aria-labelledby="'+(null==(__t=togglerId)?"":_.escape(__t))+'">\n    <div data-role="dropdown-menu-content"></div>\n</div>\n'}return __p}},"../node_modules/backgrid/lib/backgrid.js":function(e,t,i){var s,n,o;o=this,s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/oroui/js/extend/backbone.js")],n=function(e,t){return o.Backgrid=function(e,t){"use strict";var i="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||i.trim()){i="["+i+"]";var s=new RegExp("^"+i+i+"*"),n=new RegExp(i+i+"*$");String.prototype.trim=function(){if(null==this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(s,"").replace(n,"")}}function o(e,t,i){var s=t-(e+"").length;s=s<0?0:s;for(var n="",o=0;o<s;o++)n+=i;return n+e}var r=t.$,a={Extension:{},resolveNameToClass:function(t,i){if(e.isString(t)){var s=e.map(t.split("-"),(function(e){return e.slice(0,1).toUpperCase()+e.slice(1)})).join("")+i,n=a[s]||a.Extension[s];if(e.isUndefined(n))throw new ReferenceError("Class '"+s+"' not found");return n}return t},callByNeed:function(){var t=arguments[0];if(!e.isFunction(t))return t;var i=arguments[1],s=[].slice.call(arguments,2);return t.apply(i,s+""?s:[])}};e.extend(a,t.Events);var l=a.Command=function(t){e.extend(this,{altKey:!!t.altKey,char:t.char,charCode:t.charCode,ctrlKey:!!t.ctrlKey,key:t.key,keyCode:t.keyCode,locale:t.locale,location:t.location,metaKey:!!t.metaKey,repeat:!!t.repeat,shiftKey:!!t.shiftKey,which:t.which})};e.extend(l.prototype,{moveUp:function(){return 38==this.keyCode},moveDown:function(){return 40===this.keyCode},moveLeft:function(){return this.shiftKey&&9===this.keyCode},moveRight:function(){return!this.shiftKey&&9===this.keyCode},save:function(){return 13===this.keyCode},cancel:function(){return 27===this.keyCode},passThru:function(){return!(this.moveUp()||this.moveDown()||this.moveLeft()||this.moveRight()||this.save()||this.cancel())}});var d=a.CellFormatter=function(){};e.extend(d.prototype,{fromRaw:function(e,t){return e},toRaw:function(e,t){return e}});var c=a.NumberFormatter=function(t){if(e.extend(this,this.defaults,t||{}),this.decimals<0||this.decimals>20)throw new RangeError("decimals must be between 0 and 20")};c.prototype=new d,e.extend(c.prototype,{defaults:{decimals:2,decimalSeparator:".",orderSeparator:","},HUMANIZED_NUM_RE:/(\d)(?=(?:\d{3})+$)/g,fromRaw:function(t,i){if(e.isNull(t)||e.isUndefined(t))return"";var s=(t=parseFloat(t).toFixed(~~this.decimals)).split("."),n=s[0],o=s[1]?(this.decimalSeparator||".")+s[1]:"";return n.replace(this.HUMANIZED_NUM_RE,"$1"+this.orderSeparator)+o},toRaw:function(t,i){if(""===(t=t.trim()))return null;for(var s="",n=t.split(this.orderSeparator),o=0;o<n.length;o++)s+=n[o];var r=s.split(this.decimalSeparator);for(s="",o=0;o<r.length;o++)s=s+r[o]+".";"."===s[s.length-1]&&(s=s.slice(0,s.length-1));var a=1*(1*s).toFixed(~~this.decimals);return e.isNumber(a)&&!e.isNaN(a)?a:void 0}});var u=a.PercentFormatter=function(){a.NumberFormatter.apply(this,arguments)};u.prototype=new a.NumberFormatter,e.extend(u.prototype,{defaults:e.extend({},c.prototype.defaults,{multiplier:1,symbol:"%"}),fromRaw:function(e,t){var i=[].slice.call(arguments,1);return i.unshift(e*this.multiplier),(c.prototype.fromRaw.apply(this,i)||"0")+this.symbol},toRaw:function(t,i){var s=t.split(this.symbol);if(s&&s[0]&&""===s[1]||null==s[1]){var n=c.prototype.toRaw.call(this,s[0]);return e.isUndefined(n)?n:n/this.multiplier}}});var h=a.DatetimeFormatter=function(t){if(e.extend(this,this.defaults,t||{}),!this.includeDate&&!this.includeTime)throw new Error("Either includeDate or includeTime must be true")};h.prototype=new d,e.extend(h.prototype,{defaults:{includeDate:!0,includeTime:!0,includeMilli:!1},DATE_RE:/^([+\-]?\d{4})-(\d{2})-(\d{2})$/,TIME_RE:/^(\d{2}):(\d{2}):(\d{2})(\.(\d{3}))?$/,ISO_SPLITTER_RE:/T|Z| +/,_convert:function(t,i){if(""===(t+"").trim())return null;var s,n=null;if(e.isNumber(t))s=o((d=new Date(t)).getUTCFullYear(),4,0)+"-"+o(d.getUTCMonth()+1,2,0)+"-"+o(d.getUTCDate(),2,0),n=o(d.getUTCHours(),2,0)+":"+o(d.getUTCMinutes(),2,0)+":"+o(d.getUTCSeconds(),2,0);else{var r=(t=t.trim()).split(this.ISO_SPLITTER_RE)||[];n=(s=this.DATE_RE.test(r[0])?r[0]:"")&&r[1]?r[1]:this.TIME_RE.test(r[0])?r[0]:""}var a=this.DATE_RE.exec(s)||[],l=this.TIME_RE.exec(n)||[];if(i){if(this.includeDate&&e.isUndefined(a[0]))return;if(this.includeTime&&e.isUndefined(l[0]))return;if(!this.includeDate&&s)return;if(!this.includeTime&&n)return}var d=new Date(Date.UTC(1*a[1]||0,1*a[2]-1||0,1*a[3]||0,1*l[1]||null,1*l[2]||null,1*l[3]||null,1*l[5]||null)),c="";return this.includeDate&&(c=o(d.getUTCFullYear(),4,0)+"-"+o(d.getUTCMonth()+1,2,0)+"-"+o(d.getUTCDate(),2,0)),this.includeTime&&(c=c+(this.includeDate?"T":"")+o(d.getUTCHours(),2,0)+":"+o(d.getUTCMinutes(),2,0)+":"+o(d.getUTCSeconds(),2,0),this.includeMilli&&(c=c+"."+o(d.getUTCMilliseconds(),3,0))),this.includeDate&&this.includeTime&&(c+="Z"),c},fromRaw:function(t,i){return e.isNull(t)||e.isUndefined(t)?"":this._convert(t)},toRaw:function(e,t){return this._convert(e,!0)}});var p=a.StringFormatter=function(){};p.prototype=new d,e.extend(p.prototype,{fromRaw:function(t,i){return e.isUndefined(t)||e.isNull(t)?"":t+""}});var _=a.EmailFormatter=function(){};_.prototype=new d,e.extend(_.prototype,{toRaw:function(t,i){var s=t.trim().split("@");if(2===s.length&&e.all(s))return t}});var g=a.SelectFormatter=function(){};g.prototype=new d,e.extend(g.prototype,{fromRaw:function(t,i){return e.isArray(t)?t:null!=t?[t]:[]}});var m=a.CellEditor=t.View.extend({initialize:function(e){this.formatter=e.formatter,this.column=e.column,this.column instanceof T||(this.column=new T(this.column)),this.listenTo(this.model,"backgrid:editing",this.postRender)},postRender:function(e,t){return null!=t&&t.get("name")!=this.column.get("name")||this.$el.focus(),this}}),f=a.InputCellEditor=m.extend({tagName:"input",attributes:{type:"text"},events:{blur:"saveOrCancel",keydown:"saveOrCancel"},initialize:function(e){f.__super__.initialize.apply(this,arguments),e.placeholder&&this.$el.attr("placeholder",e.placeholder)},render:function(){var e=this.model;return this.$el.val(this.formatter.fromRaw(e.get(this.column.get("name")),e)),this},saveOrCancel:function(t){var i=this.formatter,s=this.model,n=this.column,o=new l(t),r="blur"===t.type;if(o.moveUp()||o.moveDown()||o.moveLeft()||o.moveRight()||o.save()||r){t.preventDefault(),t.stopPropagation();var a=this.$el.val(),d=i.toRaw(a,s);e.isUndefined(d)?s.trigger("backgrid:error",s,n,a):(s.set(n.get("name"),d),s.trigger("backgrid:edited",s,n,o))}else o.cancel()&&(t.stopPropagation(),s.trigger("backgrid:edited",s,n,o))},postRender:function(e,t){if(null==t||t.get("name")==this.column.get("name"))if("right"===this.$el.css("text-align")){var i=this.$el.val();this.$el.focus().val(null).val(i)}else this.$el.focus();return this}}),b=a.Cell=t.View.extend({tagName:"td",formatter:d,editor:f,events:{click:"enterEditMode"},initialize:function(t){this.column=t.column,this.column instanceof T||(this.column=new T(this.column));var i=this.column,s=this.model,n=this.$el,o=a.resolveNameToClass(i.get("formatter")||this.formatter,"Formatter");e.isFunction(o.fromRaw)||e.isFunction(o.toRaw)||(o=new o),this.formatter=o,this.editor=a.resolveNameToClass(this.editor,"CellEditor"),this.listenTo(s,"change:"+i.get("name"),(function(){n.hasClass("editor")||this.render()})),this.listenTo(s,"backgrid:error",this.renderError),this.listenTo(i,"change:editable change:sortable change:renderable",(function(e){var t=e.changedAttributes();for(var i in t)t.hasOwnProperty(i)&&n.toggleClass(i,t[i])})),this.updateStateClassesMaybe()},updateStateClassesMaybe:function(){var e=this.model,t=this.column,i=this.$el;i.toggleClass("editable",a.callByNeed(t.editable(),t,e)),i.toggleClass("sortable",a.callByNeed(t.sortable(),t,e)),i.toggleClass("renderable",a.callByNeed(t.renderable(),t,e))},render:function(){var e=this.$el;e.empty();var t=this.model,i=this.column.get("name");return e.text(this.formatter.fromRaw(t.get(i),t)),e.addClass(i),this.updateStateClassesMaybe(),this.delegateEvents(),this},enterEditMode:function(){var e=this.model,t=this.column;a.callByNeed(t.editable(),t,e)&&(this.currentEditor=new this.editor({column:this.column,model:this.model,formatter:this.formatter}),e.trigger("backgrid:edit",e,t,this,this.currentEditor),this.undelegateEvents(),this.$el.empty(),this.$el.append(this.currentEditor.$el),this.currentEditor.render(),this.$el.addClass("editor"),e.trigger("backgrid:editing",e,t,this,this.currentEditor))},renderError:function(e,t){null!=t&&t.get("name")!=this.column.get("name")||this.$el.addClass("error")},exitEditMode:function(){this.$el.removeClass("error"),this.currentEditor.remove(),this.stopListening(this.currentEditor),delete this.currentEditor,this.$el.removeClass("editor"),this.render()},remove:function(){return this.currentEditor&&(this.currentEditor.remove.apply(this.currentEditor,arguments),delete this.currentEditor),b.__super__.remove.apply(this,arguments)}}),w=a.StringCell=b.extend({className:"string-cell",formatter:p}),v=a.UriCell=b.extend({className:"uri-cell",title:null,target:"_blank",initialize:function(e){v.__super__.initialize.apply(this,arguments),this.title=e.title||this.title,this.target=e.target||this.target},render:function(){this.$el.empty();var e=this.model.get(this.column.get("name")),t=this.formatter.fromRaw(e,this.model);return this.$el.append(r("<a>",{tabIndex:-1,href:e,title:this.title||t,target:this.target}).text(t)),this.delegateEvents(),this}}),j=(a.EmailCell=w.extend({className:"email-cell",formatter:_,render:function(){this.$el.empty();var e=this.model,t=this.formatter.fromRaw(e.get(this.column.get("name")),e);return this.$el.append(r("<a>",{tabIndex:-1,href:"mailto:"+t,title:t}).text(t)),this.delegateEvents(),this}}),a.NumberCell=b.extend({className:"number-cell",decimals:c.prototype.defaults.decimals,decimalSeparator:c.prototype.defaults.decimalSeparator,orderSeparator:c.prototype.defaults.orderSeparator,formatter:c,initialize:function(e){j.__super__.initialize.apply(this,arguments);var t=this.formatter;t.decimals=this.decimals,t.decimalSeparator=this.decimalSeparator,t.orderSeparator=this.orderSeparator}})),C=(a.IntegerCell=j.extend({className:"integer-cell",decimals:0}),a.PercentCell=j.extend({className:"percent-cell",multiplier:u.prototype.defaults.multiplier,symbol:u.prototype.defaults.symbol,formatter:u,initialize:function(){C.__super__.initialize.apply(this,arguments);var e=this.formatter;e.multiplier=this.multiplier,e.symbol=this.symbol}})),y=a.DatetimeCell=b.extend({className:"datetime-cell",includeDate:h.prototype.defaults.includeDate,includeTime:h.prototype.defaults.includeTime,includeMilli:h.prototype.defaults.includeMilli,formatter:h,initialize:function(t){y.__super__.initialize.apply(this,arguments);var i=this.formatter;i.includeDate=this.includeDate,i.includeTime=this.includeTime,i.includeMilli=this.includeMilli;var s=this.includeDate?"YYYY-MM-DD":"";s+=this.includeDate&&this.includeTime?"T":"",s+=this.includeTime?"HH:mm:ss":"",s+=this.includeTime&&this.includeMilli?".SSS":"",this.editor=this.editor.extend({attributes:e.extend({},this.editor.prototype.attributes,this.editor.attributes,{placeholder:s})})}}),x=(a.DateCell=y.extend({className:"date-cell",includeTime:!1}),a.TimeCell=y.extend({className:"time-cell",includeDate:!1}),a.BooleanCellEditor=m.extend({tagName:"input",attributes:{tabIndex:-1,type:"checkbox"},events:{mousedown:function(){this.mouseDown=!0},blur:"enterOrExitEditMode",mouseup:function(){this.mouseDown=!1},change:"saveOrCancel",keydown:"saveOrCancel"},render:function(){var e=this.model,t=this.formatter.fromRaw(e.get(this.column.get("name")),e);return this.$el.prop("checked",t),this},enterOrExitEditMode:function(e){if(!this.mouseDown){var t=this.model;t.trigger("backgrid:edited",t,this.column,new l(e))}},saveOrCancel:function(e){var t=this.model,i=this.column,s=this.formatter,n=new l(e);if(n.passThru()&&"change"!=e.type)return!0;n.cancel()&&(e.stopPropagation(),t.trigger("backgrid:edited",t,i,n));var o=this.$el;if(n.save()||n.moveLeft()||n.moveRight()||n.moveUp()||n.moveDown()){e.preventDefault(),e.stopPropagation();var r=s.toRaw(o.prop("checked"),t);t.set(i.get("name"),r),t.trigger("backgrid:edited",t,i,n)}else"change"==e.type&&(r=s.toRaw(o.prop("checked"),t),t.set(i.get("name"),r),o.focus())}})),k=(a.BooleanCell=b.extend({className:"boolean-cell",editor:x,events:{click:"enterEditMode"},render:function(){this.$el.empty();var e=this.model,t=this.column,i=a.callByNeed(t.editable(),t,e);return this.$el.append(r("<input>",{tabIndex:-1,type:"checkbox",checked:this.formatter.fromRaw(e.get(t.get("name")),e),disabled:!i})),this.delegateEvents(),this}}),a.SelectCellEditor=m.extend({tagName:"select",events:{change:"save",blur:"close",keydown:"close"},template:e.template('<option value="<%- value %>" <%= selected ? \'selected="selected"\' : "" %>><%- text %></option>',null,{variable:null,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g}),setOptionValues:function(t){this.optionValues=t,this.optionValues=e.result(this,"optionValues")},setMultiple:function(e){this.multiple=e,this.$el.prop("multiple",e)},_renderOptions:function(t,i){for(var s="",n=0;n<t.length;n++)s+=this.template({text:t[n][0],value:t[n][1],selected:e.indexOf(i,t[n][1])>-1});return s},render:function(){this.$el.empty();var t=e.result(this,"optionValues"),i=this.model,s=this.formatter.fromRaw(i.get(this.column.get("name")),i);if(!e.isArray(t))throw new TypeError("optionValues must be an array");for(var n=null,o=null,a=(n=null,null),l=null,d=0;d<t.length;d++)if(n=t[d],e.isArray(n))o=n[0],n=n[1],this.$el.append(this.template({text:o,value:n,selected:e.indexOf(s,n)>-1}));else{if(!e.isObject(n))throw new TypeError("optionValues elements must be a name-value pair or an object hash of { name: 'optgroup label', value: [option name-value pairs] }");a=n.name,(l=r("<optgroup></optgroup>",{label:a})).append(this._renderOptions.call(this,n.values,s)),this.$el.append(l)}return this.delegateEvents(),this},save:function(e){var t=this.model,i=this.column;t.set(i.get("name"),this.formatter.toRaw(this.$el.val(),t))},close:function(e){var t=this.model,i=this.column,s=new l(e);s.cancel()?(e.stopPropagation(),t.trigger("backgrid:edited",t,i,new l(e))):(s.save()||s.moveLeft()||s.moveRight()||s.moveUp()||s.moveDown()||"blur"==e.type)&&(e.preventDefault(),e.stopPropagation(),this.save(e),t.trigger("backgrid:edited",t,i,new l(e)))}})),S=a.SelectCell=b.extend({className:"select-cell",editor:k,multiple:!1,formatter:g,optionValues:void 0,delimiter:", ",initialize:function(e){S.__super__.initialize.apply(this,arguments),this.listenTo(this.model,"backgrid:edit",(function(e,t,i,s){t.get("name")==this.column.get("name")&&(s.setOptionValues(this.optionValues),s.setMultiple(this.multiple))}))},render:function(){this.$el.empty();var t=e.result(this,"optionValues"),i=this.model,s=this.formatter.fromRaw(i.get(this.column.get("name")),i),n=[];try{if(!e.isArray(t)||e.isEmpty(t))throw new TypeError;for(var o=0;o<s.length;o++)for(var r=s[o],a=0;a<t.length;a++){var l=t[a];if(e.isArray(l)){var d=l[0];(l=l[1])==r&&n.push(d)}else{if(!e.isObject(l))throw new TypeError;for(var c=l.values,u=0;u<c.length;u++){var h=c[u];h[1]==r&&n.push(h[0])}}}this.$el.append(n.join(this.delimiter))}catch(e){if(e instanceof TypeError)throw new TypeError("'optionValues' must be of type {Array.<Array>|Array.<{name: string, values: Array.<Array>}>}");throw e}return this.delegateEvents(),this}}),T=a.Column=t.Model.extend({defaults:{name:void 0,label:void 0,sortable:!0,editable:!0,renderable:!0,formatter:void 0,sortType:"cycle",sortValue:void 0,direction:null,cell:void 0,headerCell:void 0},initialize:function(){this.has("label")||this.set({label:this.get("name")},{silent:!0});var e=a.resolveNameToClass(this.get("headerCell"),"HeaderCell"),t=a.resolveNameToClass(this.get("cell"),"Cell");this.set({cell:t,headerCell:e},{silent:!0})},sortValue:function(){var t=this.get("sortValue");return e.isString(t)?this[t]:e.isFunction(t)?t:function(e,t){return e.get(t)}}});e.each(["sortable","renderable","editable"],(function(t){T.prototype[t]=function(){var i=this.get(t);return e.isString(i)?this[i]:e.isFunction(i)?i:!!i}}));var E=a.Columns=t.Collection.extend({model:T}),A=a.Row=t.View.extend({tagName:"tr",initialize:function(e){var i=this.columns=e.columns;i instanceof t.Collection||(i=this.columns=new E(i));for(var s=this.cells=[],n=0;n<i.length;n++)s.push(this.makeCell(i.at(n),e));this.listenTo(i,"add",(function(t,i){var n=i.indexOf(t),o=this.makeCell(t,e);s.splice(n,0,o);var r=this.$el;0===n?r.prepend(o.render().$el):n===i.length-1?r.append(o.render().$el):r.children().eq(n).before(o.render().$el)})),this.listenTo(i,"remove",(function(e,t,i){s[i.index].remove(),s.splice(i.index,1)}))},makeCell:function(e){return new(e.get("cell"))({column:e,model:this.model})},render:function(){this.$el.empty();for(var e=document.createDocumentFragment(),t=0;t<this.cells.length;t++)e.appendChild(this.cells[t].render().el);return this.el.appendChild(e),this.delegateEvents(),this},remove:function(){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];i.remove.apply(i,arguments)}return t.View.prototype.remove.apply(this,arguments)}}),D=a.EmptyRow=t.View.extend({tagName:"tr",emptyText:null,initialize:function(e){this.emptyText=e.emptyText,this.columns=e.columns},render:function(){this.$el.empty();var t=document.createElement("td");t.setAttribute("colspan",this.columns.length);var i=document.createElement("span");return i.innerHTML=e.result(this,"emptyText"),t.appendChild(i),this.el.className="empty",this.el.appendChild(t),this}}),M=a.HeaderCell=t.View.extend({tagName:"th",events:{"click button":"onClick"},initialize:function(e){this.column=e.column,this.column instanceof T||(this.column=new T(this.column));var t=this.column,i=this.collection,s=this.$el;this.listenTo(t,"change:editable change:sortable change:renderable",(function(e){var t=e.changedAttributes();for(var i in t)t.hasOwnProperty(i)&&s.toggleClass(i,t[i])})),this.listenTo(t,"change:direction",this.setCellDirection),this.listenTo(t,"change:name change:label",this.render),a.callByNeed(t.editable(),t,i)&&s.addClass("editable"),a.callByNeed(t.sortable(),t,i)&&s.addClass("sortable"),a.callByNeed(t.renderable(),t,i)&&s.addClass("renderable"),this.listenTo(i.fullCollection||i,"backgrid:sorted",this.removeCellDirection)},removeCellDirection:function(){this.$el.removeClass("ascending").removeClass("descending"),this.column.set("direction",null)},setCellDirection:function(e,t){this.$el.removeClass("ascending").removeClass("descending"),e.cid==this.column.cid&&this.$el.addClass(t)},onClick:function(e){e.preventDefault();var t,i=this.column,s=this.collection,n="backgrid:sort";a.callByNeed(i.sortable(),i,this.collection)&&("toggle"===i.get("sortType")?(t=i,"ascending"===i.get("direction")?s.trigger(n,t,"descending"):s.trigger(n,t,"ascending")):function(e,t){"ascending"===i.get("direction")?s.trigger(n,t,"descending"):"descending"===i.get("direction")?s.trigger(n,t,null):s.trigger(n,t,"ascending")}(0,i))},render:function(){this.$el.empty();var e,t=this.column;return e=a.callByNeed(t.sortable(),t,this.collection)?r("<button>").text(t.get("label")).append("<span class='sort-caret' aria-hidden='true'></span>"):document.createTextNode(t.get("label")),this.$el.append(e),this.$el.addClass(t.get("name")),this.$el.addClass(t.get("direction")),this.delegateEvents(),this}}),O=(a.HeaderRow=a.Row.extend({initialize:function(){a.Row.prototype.initialize.apply(this,arguments)},makeCell:function(e,t){var i=e.get("headerCell")||t.headerCell||M;return new i({column:e,collection:this.collection})}}),a.Header=t.View.extend({tagName:"thead",initialize:function(e){this.columns=e.columns,this.columns instanceof t.Collection||(this.columns=new E(this.columns)),this.row=new a.HeaderRow({columns:this.columns,collection:this.collection})},render:function(){return this.$el.append(this.row.render().$el),this.delegateEvents(),this},remove:function(){return this.row.remove.apply(this.row,arguments),t.View.prototype.remove.apply(this,arguments)}})),N=a.Body=t.View.extend({tagName:"tbody",initialize:function(e){this.columns=e.columns,this.columns instanceof t.Collection||(this.columns=new E(this.columns)),this.row=e.row||this.row||A,this.rows=this.collection.map((function(e){return new this.row({columns:this.columns,model:e})}),this),this.emptyText=e.emptyText,this._unshiftEmptyRowMayBe();var i=this.collection;this.listenTo(i,"add",this.insertRow),this.listenTo(i,"remove",this.removeRow),this.listenTo(i,"sort",this.refresh),this.listenTo(i,"reset",this.refresh),this.listenTo(i,"backgrid:sort",this.sort),this.listenTo(i,"backgrid:edited",this.moveToNextCell),this.listenTo(this.columns,"add remove",this.updateEmptyRow)},_unshiftEmptyRowMayBe:function(){if(0===this.rows.length&&null!=this.emptyText)return this.emptyRow=new D({emptyText:this.emptyText,columns:this.columns}),this.rows.unshift(this.emptyRow),!0},insertRow:function(e,i,s){if(this.rows[0]instanceof D&&this.rows.pop().remove(),i instanceof t.Collection||s){var n=new this.row({columns:this.columns,model:e}),o=i.indexOf(e);this.rows.splice(o,0,n);var r=this.$el,a=r.children(),l=n.render().$el;return o>=a.length?r.append(l):a.eq(o).before(l),this}this.collection.add(e,s=i)},removeRow:function(t,i,s){return s?((e.isUndefined(s.render)||s.render)&&this.rows[s.index].remove(),this.rows.splice(s.index,1),this._unshiftEmptyRowMayBe()&&this.render(),this):(this.collection.remove(t,s=i),void(this._unshiftEmptyRowMayBe()&&this.render()))},updateEmptyRow:function(){null!=this.emptyRow&&this.emptyRow.render()},refresh:function(){for(var e=0;e<this.rows.length;e++)this.rows[e].remove();return this.rows=this.collection.map((function(e){return new this.row({columns:this.columns,model:e})}),this),this._unshiftEmptyRowMayBe(),this.render(),this.collection.trigger("backgrid:refresh",this),this},render:function(){this.$el.empty();for(var e=document.createDocumentFragment(),t=0;t<this.rows.length;t++){var i=this.rows[t];e.appendChild(i.render().el)}return this.el.appendChild(e),this.delegateEvents(),this},remove:function(){for(var e=0;e<this.rows.length;e++){var i=this.rows[e];i.remove.apply(i,arguments)}return t.View.prototype.remove.apply(this,arguments)},sort:function(i,s){if(!e.contains(["ascending","descending",null],s))throw new RangeError('direction must be one of "ascending", "descending" or `null`');e.isString(i)&&(i=this.columns.findWhere({name:i}));var n,o=this.collection;n="ascending"===s?-1:"descending"===s?1:null;var r=this.makeComparator(i.get("name"),n,n?i.sortValue():function(e){return 1*e.cid.replace("c","")});return t.PageableCollection&&o instanceof t.PageableCollection?(o.setSorting(n&&i.get("name"),n,{sortValue:i.sortValue()}),o.fullCollection?(null==o.fullCollection.comparator&&(o.fullCollection.comparator=r),o.fullCollection.sort(),o.trigger("backgrid:sorted",i,s,o),i.set("direction",s)):o.fetch({reset:!0,success:function(){o.trigger("backgrid:sorted",i,s,o),i.set("direction",s)}})):(o.comparator=r,o.sort(),o.trigger("backgrid:sorted",i,s,o),i.set("direction",s)),this},makeComparator:function(e,t,i){return function(s,n){var o,r=i(s,e),a=i(n,e);return 1===t&&(o=r,r=a,a=o),r===a?0:r<a?-1:1}},moveToNextCell:function(e,t,i){var s,n,o,r,l,d=this.collection.indexOf(e),c=this.columns.indexOf(t);if(-1===c)return this;if(this.rows[d].cells[c].exitEditMode(),i.moveUp()||i.moveDown()||i.moveLeft()||i.moveRight()||i.save()){var u=this.columns.length,h=u*this.collection.length;if(i.moveUp()||i.moveDown()){r=d+(i.moveUp()?-1:1);var p=this.rows[r];p?(s=p.cells[c],a.callByNeed(s.column.editable(),s.column,e)&&(s.enterEditMode(),e.trigger("backgrid:next",r,c,!1))):e.trigger("backgrid:next",r,c,!0)}else if(i.moveLeft()||i.moveRight()){for(var _=i.moveRight(),g=d*u+c+(_?1:-1);g>=0&&g<h;_?g++:g--)if(l=g-(r=~~(g/u))*u,s=this.rows[r].cells[l],n=a.callByNeed(s.column.renderable(),s.column,s.model),o=a.callByNeed(s.column.editable(),s.column,e),n&&o){s.enterEditMode(),e.trigger("backgrid:next",r,l,!1);break}g==h&&e.trigger("backgrid:next",~~(g/u),g-r*u,!0)}}return this}});return a.Footer=t.View.extend({tagName:"tfoot",initialize:function(e){this.columns=e.columns,this.columns instanceof t.Collection||(this.columns=new a.Columns(this.columns))}}),a.Grid=t.View.extend({tagName:"table",className:"backgrid",header:O,body:N,footer:null,initialize:function(i){i.columns instanceof t.Collection||(i.columns=new E(i.columns||this.columns)),this.columns=i.columns,this.caption=i.caption;var s=e.omit(i,["el","id","attributes","className","tagName","events"]);this.body=i.body||this.body,this.body=new this.body(s),this.header=i.header||this.header,this.header&&(this.header=new this.header(s)),this.footer=i.footer||this.footer,this.footer&&(this.footer=new this.footer(s)),this.listenTo(this.columns,"reset",(function(){this.header&&(this.header=new(this.header.remove().constructor)(s)),this.body=new(this.body.remove().constructor)(s),this.footer&&(this.footer=new(this.footer.remove().constructor)(s)),this.render()}))},insertRow:function(){return this.body.insertRow.apply(this.body,arguments),this},removeRow:function(){return this.body.removeRow.apply(this.body,arguments),this},insertColumn:function(){return this.columns.add.apply(this.columns,arguments),this},removeColumn:function(){return this.columns.remove.apply(this.columns,arguments),this},sort:function(){return this.body.sort.apply(this.body,arguments),this},render:function(){return this.$el.empty(),this.caption&&this.$el.append(r("<caption>").text(this.caption)),this.header&&this.$el.append(this.header.render().$el),this.footer&&this.$el.append(this.footer.render().$el),this.$el.append(this.body.render().$el),this.delegateEvents(),this.trigger("backgrid:rendered",this),this},remove:function(){return this.header&&this.header.remove.apply(this.header,arguments),this.body.remove.apply(this.body,arguments),this.footer&&this.footer.remove.apply(this.footer,arguments),t.View.prototype.remove.apply(this,arguments)}}),a}(e,t)}.apply(t,s),void 0===n||(e.exports=n)},"../node_modules/jquery-numeric/jquery.numeric.js":(e,t,i)=>{var s,n,o;n=[i("./bundles/oroui/js/extend/jquery.js")],void 0===(o="function"==typeof(s=function(e){e.fn.numeric=function(t,i){"boolean"==typeof t&&(t={decimal:t,negative:!0,decimalPlaces:-1}),void 0===(t=t||{}).negative&&(t.negative=!0);var s=!1===t.decimal?"":t.decimal||".",n=!0===t.negative,o=void 0===t.decimalPlaces?-1:t.decimalPlaces;return i="function"==typeof i?i:function(){},this.data("numeric.decimal",s).data("numeric.negative",n).data("numeric.callback",i).data("numeric.decimalPlaces",o).keypress(e.fn.numeric.keypress).keyup(e.fn.numeric.keyup).blur(e.fn.numeric.blur)},e.fn.numeric.keypress=function(t){var i=e.data(this,"numeric.decimal"),s=e.data(this,"numeric.negative"),n=e.data(this,"numeric.decimalPlaces"),o=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(13==o&&"input"==this.nodeName.toLowerCase())return!0;if(13==o)return!1;if(35==o||36==o||37==o)return!1;var r=!1;if(t.ctrlKey&&97==o||t.ctrlKey&&65==o)return!0;if(t.ctrlKey&&120==o||t.ctrlKey&&88==o)return!0;if(t.ctrlKey&&99==o||t.ctrlKey&&67==o)return!0;if(t.ctrlKey&&122==o||t.ctrlKey&&90==o)return!0;if(t.ctrlKey&&118==o||t.ctrlKey&&86==o||t.shiftKey&&45==o)return!0;if(o<48||o>57){var a=e(this).val();if(0!==e.inArray("-",a.split(""))&&s&&45==o&&(0===a.length||0===parseInt(e.fn.getSelectionStart(this),10)))return!0;i&&o==i.charCodeAt(0)&&-1!=e.inArray(i,a.split(""))&&(r=!1),8!=o&&9!=o&&13!=o&&35!=o&&36!=o&&37!=o&&39!=o&&46!=o?r=!1:void 0!==t.charCode&&(t.keyCode==t.which&&0!==t.which?(r=!0,46==t.which&&(r=!1)):0!==t.keyCode&&0===t.charCode&&0===t.which&&(r=!0)),i&&o==i.charCodeAt(0)&&(r=-1==e.inArray(i,a.split("")))}else if(r=!0,i&&n>0){var l=e.fn.getSelectionStart(this),d=e.fn.getSelectionEnd(this),c=e.inArray(i,e(this).val().split(""));l===d&&c>=0&&l>c&&e(this).val().length>c+n&&(r=!1)}return r},e.fn.numeric.keyup=function(t){var i=e(this).val();if(i&&i.length>0){var s=e.fn.getSelectionStart(this),n=e.fn.getSelectionEnd(this),o=e.data(this,"numeric.decimal"),r=e.data(this,"numeric.negative"),a=e.data(this,"numeric.decimalPlaces");""!==o&&null!==o&&(0===(_=e.inArray(o,i.split("")))&&(this.value="0"+i,s++,n++),1==_&&"-"==i.charAt(0)&&(this.value="-0"+i.substring(1),s++,n++),i=this.value);for(var l=[0,1,2,3,4,5,6,7,8,9,"-",o],d=i.length,c=d-1;c>=0;c--){var u=i.charAt(c);0!==c&&"-"==u?i=i.substring(0,c)+i.substring(c+1):0!==c||r||"-"!=u||(i=i.substring(1));for(var h=!1,p=0;p<l.length;p++)if(u==l[p]){h=!0;break}h&&" "!=u||(i=i.substring(0,c)+i.substring(c+1))}var _,g=e.inArray(o,i.split(""));if(g>0)for(var m=d-1;m>g;m--)i.charAt(m)==o&&(i=i.substring(0,m)+i.substring(m+1));o&&a>0&&(_=e.inArray(o,i.split("")))>=0&&(i=i.substring(0,_+a+1),n=Math.min(i.length,n)),this.value=i,e.fn.setSelection(this,[s,n])}},e.fn.numeric.blur=function(){var t=e.data(this,"numeric.decimal"),i=e.data(this,"numeric.callback"),s=e.data(this,"numeric.negative"),n=this.value;""!==n&&(new RegExp("^"+(s?"-?":"")+"\\d+$|^"+(s?"-?":"")+"\\d*"+t+"\\d+$").exec(n)||i.apply(this))},e.fn.removeNumeric=function(){return this.data("numeric.decimal",null).data("numeric.negative",null).data("numeric.callback",null).data("numeric.decimalPlaces",null).unbind("keypress",e.fn.numeric.keypress).unbind("keyup",e.fn.numeric.keyup).unbind("blur",e.fn.numeric.blur)},e.fn.getSelectionStart=function(e){if("number"!==e.type){if(e.createTextRange&&document.selection){var t=document.selection.createRange().duplicate();return t.moveEnd("character",e.value.length),""==t.text?e.value.length:Math.max(0,e.value.lastIndexOf(t.text))}try{return e.selectionStart}catch(e){return 0}}},e.fn.getSelectionEnd=function(e){if("number"!==e.type){if(e.createTextRange&&document.selection){var t=document.selection.createRange().duplicate();return t.moveStart("character",-e.value.length),t.text.length}return e.selectionEnd}},e.fn.setSelection=function(e,t){if("number"==typeof t&&(t=[t,t]),t&&t.constructor==Array&&2==t.length)if("number"===e.type)e.focus();else if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",t[0]),i.moveEnd("character",t[1]-t[0]),i.select()}else{e.focus();try{e.setSelectionRange&&e.setSelectionRange(t[0],t[1])}catch(e){}}}})?s.apply(t,n):s)||(e.exports=o)},"./bundles/oroaction/js/datagrid/action/button-widget-action.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/orodatagrid/js/datagrid/action/model-action.js"),n=i("./bundles/oroaction/js/button-manager.js"),o=s.extend({options:{operationName:null},buttonManager:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){o.__super__.initialize.call(this,e);const i=t.extend({action:t.pick(this,"name","label")},this.configuration);this.buttonManager=new n(i)},run:function(){this.buttonManager.execute()},dispose:function(){this.disposed||(t.isFunction(this.buttonManager.dispose)&&this.buttonManager.dispose(),delete this.buttonManager,o.__super__.dispose.call(this))}});return o}.call(t,i,t,e))||(e.exports=s)},"./bundles/oroactivity/js/app/components/activity-context-component.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/jquery.js"),s=i("./bundles/orotranslation/js/translator.js"),n=i("./bundles/fosjsrouting/js/router.js"),o=i("./bundles/oroui/js/widget/widget-manager.js"),r=i("./bundles/oroui/js/messenger.js"),a=i("./bundles/oroui/js/mediator.js");return i("./bundles/orodatagrid/js/app/components/multi-grid-component.js").extend({constructor:function e(t){e.__super__.constructor.call(this,t)},onRowSelect:function(e,i){const l=i.model.get("id"),d=this.options.dialogWidgetName,c=this.contextView.currentTargetClass();e._showLoading(),t.ajax({url:n.generate("oro_api_post_activity_relation",{activity:this.options.sourceEntityClassAlias,id:this.options.sourceEntityId}),type:"POST",dataType:"json",data:{targets:[{entity:c,id:l}]},errorHandlerMessage:s("oro.ui.item_add_error")}).done((function(){r.notificationFlashMessage("success",s("oro.activity.contexts.added")),a.trigger("widget_success:activity_list:item:update"),a.trigger("widget:doRefresh:activity-context-activity-list-widget")})).always((function(){e._hideLoading(),d&&o.getWidgetInstanceByAlias(d,(function(e){e.remove()}))}))}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/oroactivity/js/app/models/activity-context-collection.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroactivity/js/app/models/activity-context-model.js");return i("./bundles/oroui/js/app/models/base/collection.js").extend({model:t,constructor:function e(...t){e.__super__.constructor.apply(this,t)}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/oroactivity/js/app/models/activity-context-model.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";return i("./bundles/oroui/js/app/models/base/model.js").extend({defaults:{label:"",first:"",className:"",gridName:""},constructor:function e(...t){e.__super__.constructor.apply(this,t)}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/orocontact/js/datagrid/inline-editing/save-api-accessor.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/tools/api-accessor.js").extend({validateUrlParameters:function(e){const t=this.route.get("routeName"),i=this.httpMethod;this.initRoute(e);const s=this.prepareUrlParameters(e),n=this.route.validateParameters(s);return this.route.set("routeName",t),this.httpMethod=i,n},send:function(e,i,n,o){return e=t.clone(e),this.initRoute(e,i),this.isActiveCreateEntityRoute()&&(i.contactId=e.id,i.primary=!0),s.__super__.send.call(this,e,i,n,o)},initRoute:function(e,i){let s=t.clone(e);this.setUpdateEntityRoute(),s=this.prepareUrlParameters(s),this.route.validateParameters(s)||this.setCreateEntityRoute(),this.route.validateParameters(s)&&this.canSetDeleteEntityRoute(i)&&this.setDeleteEntityRoute()},canSetDeleteEntityRoute:function(e){if(e){if(""===e.email)return!0;if(""===e.phone)return!0}return!1},setUpdateEntityRoute:function(){this.route.set("routeName",this.initialOptions.route),this.httpMethod=this.initialOptions.http_method},setCreateEntityRoute:function(){this.route.set("routeName",this.initialOptions.route_create_entity.name),this.httpMethod=this.initialOptions.route_create_entity.http_method},setDeleteEntityRoute:function(){this.route.set("routeName",this.initialOptions.route_delete_entity.name),this.httpMethod=this.initialOptions.route_delete_entity.http_method},isActiveCreateEntityRoute:function(){return this.route.get("routeName")===this.initialOptions.route_create_entity.name},isActiveDeleteEntityRoute:function(){return this.route.get("routeName")===this.initialOptions.route_delete_entity.name}});return s}.call(t,i,t,e))||(e.exports=s)},"./bundles/orocron/js/filter/command-with-args-filter.js":(e,t,i)=>{var s,n;s=[i("./bundles/orofilter/js/filter/choice-filter.js")],void 0===(n=function(e){"use strict";return e.extend({constructor:function e(t){e.__super__.constructor.call(this,t)}})}.apply(t,s))||(e.exports=n)},"./bundles/orocurrency/js/datagrid/cell/multi-currency-cell.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/orodatagrid/js/datagrid/cell/number-cell.js"),i("./bundles/orodatagrid/js/datagrid/formatter/currency-formatter.js")],void 0===(n=function(e,t,i){"use strict";return t.extend({formatterPrototype:i,style:"currency",constructor:function e(t){e.__super__.constructor.call(this,t)}})}.apply(t,s))||(e.exports=n)},"./bundles/orocurrency/js/datagrid/inline-editing/currency-save-api-accessor.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js");return i("./bundles/oroui/js/tools/api-accessor.js").extend({formatBody:function(e){let t;const i={},s=this.initialOptions.cell_field,n=this.initialOptions.value_field,o=this.initialOptions.currency_field;return s in e&&(t=e[s],t.length>3?(i[n]=Number(e[s].substring(3)).toFixed(4),i[o]=e[s].substring(0,3)):(i[n]=null,i[o]=null)),i},onAjaxError:function(e){if(e.responseJSON&&e.responseJSON.errors){let i=[];const s=e.responseJSON.errors,n=this.initialOptions.cell_field;t.each(t.pick(this.initialOptions,"value_field","currency_field"),(function(e){const n=t.result(s.children,e);n&&t.isArray(n.errors)&&(i=i.concat(n.errors),delete s.children[e])})),0!==i.length&&(0==n in s.children&&(s.children[n]={}),t.isArray(s.children[n].errors)||(s.children[n].errors=[]),s.children[n].errors=s.children[n].errors.concat(i),e.responseJSON.errors=s)}return e}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/components/cell-popup-editor-component.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/extend/jquery.js"),n=i("./bundles/orotranslation/js/translator.js"),o=i("./bundles/oroui/js/mediator.js"),r=i("./bundles/oroui/js/app/components/base/component.js"),a=i("./bundles/orodatagrid/js/app/views/inline-editing/error-holder-view.js"),l=i("./bundles/oroui/js/tools/overlay.js"),d=r.extend({TAB_KEY_CODE:9,ENTER_KEY_CODE:13,ESCAPE_KEY_CODE:27,ARROW_LEFT_KEY_CODE:37,ARROW_TOP_KEY_CODE:38,ARROW_RIGHT_KEY_CODE:39,ARROW_BOTTOM_KEY_CODE:40,lockUserActions:!1,OVERLAY_TOOL_DEFAULTS:{zIndex:1,position:{my:"left top",at:"left top",collision:"flipfit"}},listen:{saveAction:"saveCurrentCell",cancelAction:"cancelEditing",saveAndExitAction:"saveCurrentCell",saveAndEditNextAction:"saveCurrentCellAndEditNext",cancelAndEditNextAction:"editNextCell",saveAndEditPrevAction:"saveCurrentCellAndEditPrev",cancelAndEditPrevAction:"editPrevCell",saveAndEditNextRowAction:"saveCurrentCellAndEditNextRow",cancelAndEditNextRowAction:"editNextRowCell",saveAndEditPrevRowAction:"saveCurrentCellAndEditPrevRow",cancelAndEditPrevRowAction:"editPrevRowCell"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(this.options=e||{},!this.options.plugin)throw new Error('Option "plugin" is required');if(!this.options.cell)throw new Error('Option "cell" is required');if(!this.options.view)throw new Error('Option "view" is required');if(!this.options.save_api_accessor)throw new Error('Option "save_api_accessor" is required');this.errorHolderView=new a({el:this.options.cell.$el[0],within:this.options.plugin.main.$(".other-scroll-container")}),this.listenTo(this.options.plugin.main,"scroll",(function(){this.errorHolderView.updatePosition()})),this.listenTo(this.options.plugin,"lockUserActions",(function(e){this.lockUserActions=e})),this.listenTo(this.options.cell,"dispose",(()=>this.dispose())),d.__super__.initialize.call(this,e),this.enterEditMode()},createView:function(){const e=this.options.view,i=this.options.cell,n=t.extend({},this.options.viewOptions,this.getRestrictedOptions(),{autoRender:!0,model:i.model,fieldName:i.column.get("name"),metadata:i.column.get("metadata")});this.formState&&(this.updateModel(i.model,this.oldState),this.errorHolderView.render(),this.options.plugin.main.trigger("content:update"),n.value=this.formState);const o=this.view=new e(n);o.$el.addClass("inline-editor-wrapper");const r={of:i.$el,within:i.$el.closest("tbody")};i.el&&"right"===getComputedStyle(i.el).textAlign&&s.extend(r,{at:"right top",my:"right top"});const a=s.extend(!0,{},this.OVERLAY_TOOL_DEFAULTS,{insertInto:i.$el,position:r});this.resizeToCell(o,i);const d=l.createOverlay(o.$el,a);o.trigger("change:visibility"),this.listenTo(o,{dispose:function(){d.remove()},change:function(){i.$el.toggleClass("has-error",!o.isValid()),this.errorHolderView.updatePosition()},keydown:this.onKeyDown,focus:function(){d.focus(),this.errorHolderView.updatePosition()},blur:function(){if(d.blur(),o.isValid())this.saveCurrentCell();else{this.options.cell.$el.toggleClass("has-error",!this.view.isValid()),this.formState=this.view.getFormState();const e=this.view.getModelUpdateData();this.oldState=t.pick(this.options.cell.model.toJSON(),t.keys(e)),this.exitEditMode(),this.updateModel(this.options.cell.model,e),this.errorHolderView.render(),this.options.plugin.main.trigger("content:update"),this.errorHolderView.updatePosition()}}}),o.trigger("change"),this.errorHolderView.render()},getRestrictedOptions:function(){const e=this.options.cell.model.get("entity_restrictions"),i=t.filter(e,(function(e){return e.field===this.options.cell.column.get("name")}),this),s={};return t.each(i,(function(e){"disallow"===e.mode?s.choices=t.omit(this.options.viewOptions.choices,e.values):"allow"===e.mode&&(s.choices=t.pick(this.options.viewOptions.choices,e.values))}),this),s},resizeToCell:function(e,t){e.$el.width(t.$el.outerWidth())},saveCurrentCell:function(){if(!this.view.isChanged())return this.exitEditMode(!0),!0;if(!this.view.isValid())return!1;const e=this.options.cell;let i=this.getServerUpdateData();this.applyDivisor(i,!1),this.formState=this.view.getFormState();const s=this.view.getModelUpdateData();if(e.$el.addClass("loading"),this.oldState=t.pick(e.model.toJSON(),t.keys(s)),this.exitEditMode(),this.updateModel(e.model,s),this.errorHolderView.render(),this.options.plugin.main.trigger("content:update"),this.options.save_api_accessor.initialOptions.field_name){const e=t.keys(i);if(e.length>1)throw new Error("Only single field editors are supported with field_name option");const s={};s[this.options.save_api_accessor.initialOptions.field_name]=i[e[0]],i=s}let o=this.options.save_api_accessor.send(e.model.toJSON(),i,{},{processingMessage:n("oro.form.inlineEditing.saving_progress"),preventWindowUnload:n("oro.form.inlineEditing.inline_edits"),errorHandlerMessage:!1});return this.constructor.processSavePromise&&(o=this.constructor.processSavePromise(o,e.column.get("metadata"))),this.options.view.processSavePromise&&(o=this.options.view.processSavePromise(o,e.column.get("metadata"))),o.done(this.onSaveSuccess.bind(this)).fail(this.onSaveError.bind(this)).always((function(){e.$el.removeClass("loading")})),o},updateModel:function(e,t){for(const i in t)t.hasOwnProperty(i)&&void 0===t[i]&&(e.unset(i),delete t[i]);e.set(t)},enterEditMode:function(){this.options.grid.trigger("grid-cell:enter-edit-mode",this.options.cell),this.view||(this.options.cell.$el.removeClass("view-mode save-fail"),this.options.cell.$el.addClass("edit-mode"),this.createView(this.options),this.listenTo(this.view,"all",(function(e,...t){"dispose"!==e&&this.trigger(e,...t)}),this))},exitEditMode:function(e){this.view&&(this.errorHolderView.parseValidatorErrors(this.view.validator.errorList),this.options.cell.disposed||this.options.cell.$el.removeClass("edit-mode").addClass("view-mode"),this.view.dispose(),this.stopListening(this.view),delete this.view),this.options.grid.trigger("grid-cell:exit-edit-mode",this.options.cell),e&&this.dispose()},toggleHeaderCellHighlight:function(e,t){const i=this.options.plugin.main.columns.indexOf(e.column),s=this.options.plugin.main.findHeaderCellByIndex(i);s&&s.$el.toggleClass("header-cell-highlight",t)},revertChanges:function(){!this.options.cell.disposed&&this.oldState&&(this.options.cell.model.set(this.oldState),delete this.oldState,this.options.plugin.main.trigger("content:update"))},cancelEditing:function(){this.revertChanges(),this.exitEditMode(!0)},editNextCell:function(){this.exitAndNavigate("editNextCell")},editNextRowCell:function(){this.exitAndNavigate("editNextRowCell")},editPrevCell:function(){this.exitAndNavigate("editPrevCell")},editPrevRowCell:function(){this.exitAndNavigate("editPrevRowCell")},exitAndNavigate:function(e){const t=this.options.plugin,i=this.options.cell;t[e](i)},saveCurrentCellAndEditNext:function(){this.saveAndNavigate("editNextCell")},saveCurrentCellAndEditPrev:function(){this.saveAndNavigate("editPrevCell")},saveCurrentCellAndEditNextRow:function(){this.saveAndNavigate("editNextRowCell")},saveCurrentCellAndEditPrevRow:function(){this.saveAndNavigate("editPrevRowCell")},saveAndNavigate:function(e){const t=this.options.plugin,i=this.options.cell;this.isNavigationAvailable()&&t[e](i)},onKeyDown:function(e){this.onGenericTabKeydown(e),this.onGenericEnterKeydown(e),this.onGenericEscapeKeydown(e),this.onGenericArrowKeydown(e)},onGenericEnterKeydown:function(e){if(this.disposed)return;const t=this.options.plugin,i=this.options.cell;e.keyCode===this.ENTER_KEY_CODE&&!e.ctrlKey&&this.isNavigationAvailable()&&(e.shiftKey?t.editPrevRowCell(i):t.editNextRowCell(i),e.preventDefault())},onGenericTabKeydown:function(e){if(this.disposed)return;const t=this.options.plugin,i=this.options.cell;e.keyCode===this.TAB_KEY_CODE&&this.isNavigationAvailable()&&(e.shiftKey?t.editPrevCell(i):t.editNextCell(i),e.preventDefault())},onGenericEscapeKeydown:function(e){e.keyCode===this.ESCAPE_KEY_CODE&&(this.lockUserActions||(this.revertChanges(),this.exitEditMode(!0)),e.preventDefault())},onGenericArrowKeydown:function(e){if(this.disposed)return;const t=this.options.plugin,i=this.options.cell;if(e.altKey&&this.isNavigationAvailable())switch(e.keyCode){case this.ARROW_LEFT_KEY_CODE:t.editPrevCell(i),e.preventDefault();break;case this.ARROW_RIGHT_KEY_CODE:t.editNextCell(i),e.preventDefault();break;case this.ARROW_TOP_KEY_CODE:t.editPrevRowCell(i),e.preventDefault();break;case this.ARROW_BOTTOM_KEY_CODE:t.editNextRowCell(i),e.preventDefault()}},isNavigationAvailable:function(){return!this.lockUserActions&&(!this.view||this.view.isValid())},isChanged:function(){return this.view&&this.view.isChanged()||this.oldState},onSaveSuccess:function(e){if(!this.options.cell.disposed&&this.options.cell.$el){if(e)if(e.hasOwnProperty("fields")||t.every(t.keys(e),(function(e){return this.options.cell.model.attributes.hasOwnProperty(e)}),this)){const i=e.hasOwnProperty("fields")?e.fields:e;this.applyDivisor(i,!0);const s=t.invert(this.options.save_api_accessor.routeParametersRenameMap);t.each(i,(function(e,t){const i=s.hasOwnProperty(t)?s[t]:t;void 0!==this.options.cell.model.get(i)&&this.options.cell.model.set(i,e)}),this)}else e.hasOwnProperty("httpMethod")&&"DELETE"===e.httpMethod&&t.each(this.options.save_api_accessor.routeParametersRenameMap,(function(e,t){this.options.cell.model.set(t,"")}),this);this.options.cell.$el.removeClass("save-fail").addClassTemporarily("save-success",2e3)}o.execute("showFlashMessage","success",n("oro.form.inlineEditing.successMessage")),delete this.oldState,delete this.formState,this.errorHolderView.setErrorMessages({}),this.exitEditMode(!0)},onSaveError:function(e){const i="responseJSON"in e&&"code"in e.responseJSON?e.responseJSON.code:e.status,s=[];let r;if(400!==i){switch(this.options.cell.disposed||(r=this.options.cell.column.get("label"),this.options.cell.$el.addClass("save-fail")),i){case 403:s.push(n("oro.datagrid.inline_editing.message.save_field.permission_denied",{fieldLabel:r}));break;case 500:e.responseJSON.message?s.push(n(e.responseJSON.message)):s.push(n("oro.ui.unexpected_error"));break;default:s.push(n("oro.ui.unexpected_error"))}this.revertChanges(),this.exitEditMode(!0),t.each(s,(function(e){o.execute("showMessage","error",e)}))}else this.onValidationError(e)},onValidationError:function(e){let i,s;const r=t.result(e.responseJSON,"errors");if(r)t.each(r.children,(function(e){t.isArray(e.errors)&&o.execute("showMessage","error",e.errors[0])})),t.isArray(r.errors)&&o.execute("showMessage","error",n(r.errors[0])),i=t.result(r.children,this.options.cell.column.get("name")),i||"undefined"===this.options.viewOptions||"undefined"===this.options.viewOptions.value_field_name||(i=t.result(r.children,this.options.viewOptions.value_field_name)),i&&t.isArray(i.errors)?s={value:n(i.errors[0])}:t.isArray(r.errors)&&(s={value:n(r.errors[0])}),this.errorHolderView.setErrorMessages(s);else if(t.isArray(e.responseJSON)){const i=t.chain(e.responseJSON).map(t.property("detail")).filter().value();if(this.disposed||this.options.cell.disposed)t.each(i,t.partial(o.execute,"showMessage","error"));else{const e=t.first(i);e&&this.errorHolderView.setErrorMessages({value:e})}}},getServerUpdateData:function(){return this.view.getServerUpdateData()},applyDivisor:function(e,i){const s=this.options.cell.column.attributes.metadata,n=s.name;t.has(s,"divisor")&&(isNaN(e[n])||(e[n]=i?e[n]/s.divisor:e[n]*s.divisor))}});return d}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/components/column-renderer-component.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/app/components/base/component.js").extend({columns:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){s.__super__.initialize.call(this,e)},dispose:function(){this.disposed||s.__super__.dispose.call(this)},getHtml:function(e){return e.html()},getRawAttributes:function(e,t){return t.class=t.class||"",e.length&&(t.class=this._getElementClasses(e,t.class)),this._getAttributesRaw(t)},_getElementClasses:function(e,i){const s=e.attr("class")||"",n=t.union(i.split(" "),s.split(" "));return t.without(n,"")},_getAttributesRaw:function(e){let i="";return t.each(e,(function(e,s){i+=" "+s+'="'+(t.isArray(e)?e.join(" "):e)+'"'})),i.trim()}});return s}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/components/datagrid-allow-tracking-component.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/app/components/base/component.js"),s=i("./bundles/orosync/js/content/grid-builder.js"),n=t.extend({optionNames:t.prototype.optionNames.concat(["gridName"]),constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){s.allowTracking(this.gridName),n.__super__.initialize.call(this,e)}});return n}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/components/datagrid-component.js":(e,t,i)=>{var s;s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/jquery.js"),s=i("./bundles/oroui/js/extend/underscore.js"),n=i("./bundles/oroui/js/tools.js"),o=i("./bundles/oroui/js/app/services/load-modules.js"),r=i("./bundles/oroui/js/mediator.js"),a=i("./bundles/oroui/js/extend/backbone.js"),l=i("./bundles/oroui/js/app/components/base/component.js"),d=i("./bundles/orodatagrid/js/pageable-collection.js"),c=i("./bundles/orodatagrid/js/datagrid/grid.js"),u=i("./bundles/orodatagrid/js/map-action-module-name.js"),h=i("./bundles/orodatagrid/js/map-cell-module-name.js"),p=i("./bundles/oroui/js/app/plugins/plugin-manager.js"),_=i("./bundles/orodatagrid/js/datagrid/metadata-model.js"),g=i("./bundles/orodatagrid/js/datagrid-theme-options-manager.js"),m="orodatagrid/js/app/plugins/grid/sticked-scrollbar-plugin",f=function(e){return e+"Cell"},b=function(e){return e+"Action"},w=l.extend({currentAppearanceKey:"grid",currentAppearanceId:void 0,changeAppearanceEnabled:!1,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.pluginManager=new p(this),this.changeAppearanceEnabled="appearanceData"in e.metadata.state,(!e.enableFilters||"filters"in e.metadata&&!e.metadata.filters.length)&&(e.builders=s.reject(e.builders,(function(e){return"orofilter/js/datafilter-builder"===e}))),e.metadata.rowLinkEnabled&&e.builders.push("orodatagrid/js/cell-links/builder"),e.builders.push("orodatagrid/js/inline-editing/builder"),e.builders.push("orodatagrid/js/appearance/builder");const i=this;this._deferredInit(),this.built=t.Deferred(),e=e||{},this.fixStates(e),this.processOptions(e);const n=[],r=[];s.each(e.builders,(function(i){const a=t.Deferred();n.push(a.promise()),o(i,(function(t){r.push(t),s.has(t,"processDatagridOptions")?t.processDatagridOptions(a,e):a.resolve()}))})),t.when(...n).always((()=>{this.initDataGrid(e),this.built.then((function(){const n=[];function o(){throw new TypeError("Builder does not have init method")}for(let i=0;i<r.length;i++){const a=r[i],l=t.Deferred();n.push(l.promise()),s.has(a,"init")&&"function"==typeof a.init?a.init(l,e):(l.resolve(),s.defer(o))}t.when(...n).always((function(...t){i.changeAppearanceEnabled&&i.selectAppearanceById(e.metadata.state.appearanceData.id),i.subComponents=s.compact(t),i._resolveDeferredInit(),i.$componentEl.find(".view-loading").remove(),i.$el.show(),i.grid.shown=!0,i.grid.trigger("shown")}))}))}))},processOptions:function(e){if(void 0===e.inputName)throw new Error("Option inputName has to be specified");e.metadata.options.toolbarOptions=t.extend(!0,e.metadata.options.toolbarOptions,e.toolbarOptions),e.$el=t(e._sourceElement),e.gridName=e.gridName||e.metadata.options.gridName,e.builders=e.builders||[],e.builders.push("orodatagrid/js/grid-views-builder"),e.gridPromise=this.built.promise()},initDataGrid:function(e){this.$componentEl=e.$el,this.insertDataGrid(e),this.gridName=e.gridName,this.inputName=e.inputName,this.data=e.data,this.themeOptions=e.themeOptions||{};const t=s.extend(e.metadata.customModules||{},this.themeOptions.customModules);this.metadata=s.defaults(e.metadata,{columns:[],options:{},state:{},initialState:{},rowActions:{},massActions:{},customModules:t}),this.metadataModel=new _(this.metadata),this.modules={},this.collectModules(),o(this.modules,this.build,this),this.listenTo(this.metadataModel,"change:massActions",(function(e,t){this.grid.massActions.reset(this.buildMassActionsOptions(t))}),this)},insertDataGrid:function(e){this.$el=t('<div data-layout="separate">'),this.$componentEl.append(this.$el)},collectModules:function(){const e=this.modules,t=this.metadata;s.each(t.columns,(function(t){const i=t.type;e[f(i)]=h(i)})),s.each(s.values(t.rowActions),(function(t){const i=t.frontend_type;e[b(i)]=u(i)})),s.each(s.values(t.massActions),(function(t){const i=t.frontend_type;e[b(i)]=u(i)})),s.each(t.customModules,(function(t,i){s.isString(t)&&(e[function(e){return e+"Custom"}(i)]=t)})),s.each(this.data.data,(function(t){s.each(t.action_configuration,(function(t){const i=t.confirmation&&t.confirmation.component;i&&(e[i]=i)}))})),this.themeOptions.headerHide||(this.metadata.enableFloatingHeaderPlugin?e.FloatingHeaderPlugin="orodatagrid/js/app/plugins/grid/floating-header-plugin":this.metadata.enableFullScreenLayout&&(e.FullscreenPlugin="orodatagrid/js/app/plugins/grid/fullscreen-plugin")),t.options.toolbarOptions.addDatagridSettingsManager&&(e.DatagridSettingsPlugin="orodatagrid/js/app/plugins/grid/datagrid-settings-plugin"),this.themeOptions.showMassActionOnToolbar&&(e.ToolbarMassActionPlugin="orodatagrid/js/app/plugins/grid/toolbar-mass-action-plugin"),this.themeOptions.disableStickedScrollbar||(this.metadata.responsiveGrids&&this.metadata.responsiveGrids.enable?e.StickedScrollbarPlugin=m:!n.isMobile()&&this.metadata.enableFullScreenLayout||(e.StickedScrollbarPlugin=m)),this.themeOptions.enabledAccessibilityPlugin&&(e.AccessibilityPlugin="orodatagrid/js/app/plugins/grid/accessibility-plugin")},build:function(e){let t;const i=e.GridView||c,n=e.PageableCollection||d;t={},this.data&&this.data.data&&(t=this.data.data);const o=this.combineCollectionOptions(e);this.data&&this.data.options&&s.extend(o,this.data.options);const a=new n(t,o),l=this.combineGridOptions();r.trigger("datagrid_create_before",l,a),l.el=this.$el[0],l.themeOptionsConfigurator(i,l);const u=new i(s.extend({collection:a},l));this.grid=u,u.render(),this.changeAppearanceEnabled&&(u.on("changeAppearance",this.onChangeAppearance.bind(this)),a.on("updateState",(()=>{this.currentAppearanceKey===a.state.appearanceType&&this.currentAppearanceId===a.state.appearanceData.id||this.selectAppearanceById(a.state.appearanceData.id)}))),r.trigger("datagrid:rendered",u),this.collection=a,!1!==l.routerEnabled&&this.traceChanges();const h=this.built;u.deferredRender?u.deferredRender.then((function(){h.resolve(u)})):h.resolve(u)},onChangeAppearance:function(e,t){this.selectAppearance(e,t)},selectAppearanceById:function(e){const t=s.find(this.metadata.options.appearances,(function(t){return t.id===e||""===e&&void 0===t.id}));if(t)this.selectAppearance(t.type,t);else{const t=new Error("Could not find appearance `"+e+"`");setTimeout((function(){throw t}),0)}},selectAppearance:function(e,t){if(this.currentAppearanceKey===e&&this.currentAppearanceId===t.id)return;if(this.currentAppearanceKey=e,this.currentAppearanceId=t.id,this.lastAppearancePlugin&&(this.pluginManager.remove(this.lastAppearancePlugin),delete this.lastAppearancePlugin),this.grid.trigger("appearanceChanged",e,t),"grid"===e)return;const i=t.plugin;if(!i)throw new Error("Could not find plugin for appearance key `"+e+"`");this.lastAppearancePlugin=i,this.pluginManager.create(i,t||{}),this.pluginManager.enable(i)},combineCollectionOptions:function(e){return s.extend({inputName:this.gridName,parse:!0,url:"/user/json",state:s.extend({filters:{},sorters:{},columns:{}},this.metadata.state),initialState:this.metadata.initialState,mode:this.metadata.mode||"server",modules:e},this.metadata.options)},combineGridOptions:function(){const e={},t={sortable:!1},i=this.modules,n=this.metadata,o=this.metadata.plugins||[],r=s.map(n.columns,(function(e){const n=["name","label","renderable","editable","sortable","sortingType","align","order","manageable","required","shortenableLabel","cellClassName","notMarkAsBlank"],o=s.extend({},t,s.pick.apply(null,[e].concat(n))),r=s.omit.apply(null,[e].concat(n.concat("type")));let a=i[f(e.type)];return s.isEmpty(r)||(a=a.extend(r)),o.cell=a,o}));s.each(n.rowActions,(function(t,s){e[s]=i[b(t.frontend_type)].extend(t)}));const l=this.buildMassActionsOptions(this.metadata.massActions);Object.values(s.pick(i,["FloatingHeaderPlugin","FullscreenPlugin","DatagridSettingsPlugin","ToolbarMassActionPlugin","AccessibilityPlugin"])).forEach((e=>o.push(e))),i.StickedScrollbarPlugin&&(this.metadata.responsiveGrids&&this.metadata.responsiveGrids.enable?o.push({constructor:i.StickedScrollbarPlugin,options:{viewport:this.metadata.responsiveGrids.viewport||{}}}):o.push(i.StickedScrollbarPlugin));const d=n.options.appearances||[];switch(d.length){case 0:case 1:break;default:n.options.toolbarOptions.addAppearanceSwitcher=!0,n.options.toolbarOptions.availableAppearances=d.map((function(e){return{key:e.type,id:e.id||"by_type",label:e.label,className:"btn",iconClassName:e.icon,options:e}}))}return{name:this.gridName,columns:r,rowActions:e,massActions:new a.Collection(l),toolbarOptions:n.options.toolbarOptions||{},multipleSorting:n.options.multipleSorting||!1,entityHint:n.options.entityHint,noDataMessages:n.options.noDataMessages||{},exportOptions:n.options.export||{},routerEnabled:!!s.isUndefined(n.options.routerEnabled)||n.options.routerEnabled,multiSelectRowEnabled:n.options.multiSelectRowEnabled||l.length,rowClickAction:n.options.rowClickAction||!1,metadata:this.metadata,metadataModel:this.metadataModel,plugins:o,themeOptionsConfigurator:g.createConfigurator(this.themeOptions)}},buildMassActionsOptions:function(e){const t=this.modules,i=[];return s.each(e,(function(e,n){s.has(t,b(e.frontend_type))&&i.push({action:n,module:t[b(e.frontend_type)].extend(e)})})),i},fixStates:function(e){e.metadata&&(this.fixState(e.metadata.state),this.fixState(e.metadata.initialState))},fixState:function(e){s.isArray(e.filters)&&s.isEmpty(e.filters)&&(e.filters={}),s.isArray(e.sorters)&&s.isEmpty(e.sorters)&&(e.sorters={})},dispose:function(){this.subComponents&&(s.each(this.subComponents,(function(e){e&&"function"==typeof e.dispose&&e.dispose()})),delete this.subComponents),w.__super__.dispose.call(this)},traceChanges:function(){const e=this;this.updateStateInUrl(),this.listenTo(this.collection,{updateState:this.updateStateInUrl,reset:this.updateStateInUrl}),r.once("page:beforeChange",(function(){e.stopListening(e.collection)}))},updateStateInUrl:function(){const e=this.collection.stateHashKey(),t=this.collection.stateHashValue(!0);r.execute("changeUrlParam",e,t)}});return w}.call(t,i,t,e),void 0===s||(e.exports=s)},"./bundles/orodatagrid/js/app/components/grid-sidebar-component.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/extend/jquery.js"),n=i("./bundles/oroui/js/mediator.js"),o=i("./bundles/fosjsrouting/js/router.js"),r=i("./bundles/oroui/js/widget/widget-manager.js"),a=i("./bundles/oroui/js/app/components/base/component.js"),l=i("./bundles/orodatagrid/js/pageable-collection.js"),d=a.extend({options:{sidebarAlias:"",widgetAlias:"",widgetRoute:"oro_datagrid_widget",widgetRouteParameters:{gridName:""},gridParam:"grid"},listen:{"grid_load:complete mediator":"onGridLoadComplete"},gridCollection:{},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.options=t.defaults(e||{},this.options),n.on("grid-sidebar:change:"+this.options.sidebarAlias,this.onSidebarChange,this)},onGridLoadComplete:function(e,t){if(e.inputName===this.options.widgetRouteParameters.gridName){this.gridCollection=e;const i=this;r.getWidgetInstanceByAlias(this.options.widgetAlias,(function(){i._patchGridCollectionUrl(i._getQueryParamsFromUrl(location.search))})),this.options._sourceElement.closest('[data-role="grid-sidebar-component-container"]').find(t).length&&n.trigger("grid-sidebar:load:"+this.options.sidebarAlias)}},onSidebarChange:function(e){const i=t.extend(this._getQueryParamsFromUrl(location.search),this._getDatagridParams(),e.params);e=t.extend({reload:!0,updateUrl:!0},e);const s=t.extend(t.omit(this.options.widgetRouteParameters,this.options.gridParam),i);if(e.updateUrl&&this._pushState(t.omit(i,t.isNull)),this._patchGridCollectionUrl(i),e.reload)if(e.widgetReload){const e=this;r.getWidgetInstanceByAlias(this.options.widgetAlias,(function(t){t.loading&&t.loading.abort(),t.setUrl(o.generate(e.options.widgetRoute,s)),t.render()}))}else this.gridCollection.getPage(1)},_patchGridCollectionUrl:function(e){const i=this.gridCollection;if(!t.isUndefined(i)){let s=i.url;if(t.isUndefined(s))return;const n=t.extend(this._getQueryParamsFromUrl(s),t.omit(e,this.options.gridParam));-1!==s.indexOf("?")&&(s=s.substring(0,s.indexOf("?"))),t.isEmpty(n)||(i.url=s+"?"+this._urlParamsToString(n))}},_pushState:function(e){const i=this._urlParamsToString(t.omit(e,["saveState"])),s=n.execute("pageCache:getCurrent");n.execute("changeUrl",s.path+"?"+i)},_getQueryParamsFromUrl:function(e){if(t.isUndefined(e))return{};if(-1===e.indexOf("?"))return{};const i=e.substring(e.indexOf("?")+1,e.length);return i.length?l.decodeStateData(i):{}},_urlParamsToString:function(e){return s.param(e)},_getDatagridParams:function(){const e={};return t.has(this.gridCollection,"options")?(e[this.gridCollection.options.gridName]=this.gridCollection.urlParams,e):e},dispose:function(){this.disposed||(n.off("grid-sidebar:change:"+this.options.sidebarAlias),delete this.gridCollection,d.__super__.dispose.call(this))}});return d}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/components/multi-grid-component.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/mediator.js"),n=i("./bundles/oroui/js/widget/widget-manager.js"),o=i("./bundles/oroui/js/app/components/base/component.js"),r=i("./bundles/orodatagrid/js/app/views/multi-grid-view.js");return o.extend({options:{},contextView:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.options=e,this.initView(),this.contextView.render(),this._bindGridEvent()},initView:function(){let e=this.options.params||{},i={};n.getWidgetInstanceByAlias(this.options.dialogWidgetName,(function(e){i=e.options.routeParams||{}})),t.isEmpty(i)||(e=t.extend({},e,{routeParams:i})),this.contextView=new r({items:this.options.items||[],el:this.options._sourceElement,params:e,dialogWidgetName:this.options.dialogWidgetName,gridWidgetName:this.options.gridWidgetName})},_bindGridEvent:function(){const e=this,t=this.options.gridWidgetName;t&&n.getWidgetInstanceByAlias(t,(function(t){t.on("grid-row-select",e.onRowSelect.bind(e,t))}))},onRowSelect:function(e,t){const i=t.model.get("id"),o=this.options.dialogWidgetName,r=this.contextView.currentTargetClass();s.trigger(o+":select",JSON.stringify({entityClass:r,entityId:i})),n.getWidgetInstanceByAlias(o,(function(e){e.remove()}))}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/components/toolbar-mass-action-component.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/app/components/base/component.js"),n=i("./bundles/orodatagrid/js/datagrid/actions-panel.js"),o=s.extend({grid:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){t.extend(this,t.pick(e,["collection","actions","grid"]));const i=[],s=this.grid;this.actions.each((function(e){const t=new(e.get("module"))({datagrid:s});this.listenTo(t,"preExecute",this.onActionRun.bind(this)),i.push(t)}),this),this.actionsPanel=new n({actions:i,el:e._sourceElement}),this.actionsPanel.render(),this.listenTo(this.grid.collection,"backgrid:refresh",(function(){this.actionsPanel.$el.is(":visible")&&this.actionsPanel.$el.dropdown("toggle")})),o.__super__.initialize.call(this,e)},onActionRun:function(e){e&&e.disposed||e.launcherInstance.$el.trigger("tohide.bs.dropdown")},dispose:function(){this.disposed||(delete this.collection,delete this.actions,delete this.grid,o.__super__.dispose.call(this))}});return o}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/models/board-data-collection.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/orotranslation/js/translator.js"),i("./bundles/oroui/js/extend/chaplin.js"),i("./bundles/oroui/js/app/models/base/collection.js")],void 0===(n=function(e,t,i,s){"use strict";const n=s.extend({constructor:function e(...t){e.__super__.constructor.apply(this,t)},initialize:function(e,t){n.__super__.initialize.call(this,e,t)},updateBoardItem:function(e,t){e=this.get(e.get("id"));const i=this.indexOf(e);let s;if(t.insertAfter){if(t.insertAfter=this.get(t.insertAfter),!t.insertAfter)throw new Error("`insertAfter` contains item which does not belong to this collection");this.models.splice(i,1),s=this.indexOf(t.insertAfter),this.models.splice(s+1,0,e)}else if(t.insertBefore){if(t.insertBefore=this.get(t.insertBefore),!t.insertBefore)throw new Error("`insertBefore` contains item which does not belong to this collection");s=this.indexOf(t.insertBefore),this.models.splice(s,0,e)}else this.models.splice(i,1),this.models.unshift(e);t.properties&&e.set(t.properties,{silent:!0}),this.trigger("sort")}});return n}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/app/models/datagrid-settings-list/datagrid-settings-list-collection.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/app/models/base/collection.js").extend({comparator:"order",minVisibleColumnsQuantity:1,constructor:function e(...t){e.__super__.constructor.apply(this,t)},initialize:function(e,i){t.extend(this,t.pick(i,["minVisibleColumnsQuantity"])),s.__super__.initialize.call(this,e,i),this.on({"change:renderable":this.updateVisibilityChange})},reset:function(...e){s.__super__.reset.apply(this,e),this.updateVisibilityChange(),this.each((function(e,t){e.set("order",t)}))},updateVisibilityChange:function(){const e=this.where({renderable:!0}).length<=this.minVisibleColumnsQuantity;this.each((function(t){const i=Boolean(t.get("renderable")&&(e||t.get("required")));t.get("disabledVisibilityChange")!==i&&t.set("disabledVisibilityChange",i)}),this)}});return s}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/models/datagrid-settings-list/datagrid-settings-list-filter-model.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";return i("./bundles/oroui/js/app/models/base/model.js").extend({defaults:{search:"",renderable:!1},constructor:function e(...t){e.__super__.constructor.apply(this,t)},filterer:function(e){const t=this.get("search").toLowerCase();return!(t.length>0&&-1===e.get("label").toLowerCase().indexOf(t)||this.get("renderable")&&!e.get("renderable"))}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/plugins/grid-component/board-appearance-plugin.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/jquery.js"),s=i("./bundles/oroui/js/extend/underscore.js"),n=i("./bundles/oroui/js/extend/backbone.js"),o=i("./bundles/oroui/js/app/plugins/base/plugin.js"),r=i("./bundles/oroui/js/tools/collection-tools.js"),a=i("./bundles/oroui/js/tools.js"),l=i("./bundles/orodatagrid/js/app/models/board-data-collection.js"),d=o.extend({defaultPagesize:10,enable:function(){const e=this,t=this.options.board_view,i=this.options.column_view,n=this.options.column_header_view,o=this.options.card_view;this.view=new t({readonly:this.options.readonly,columnView:i,columnHeaderView:n,cardView:o,boardPlugin:this,columns:this.getColumns(),boardCollection:this.getBoardCollection(),serverCollection:this.main.collection,cardActions:this.main.grid.rowActions}),this.listenTo(this.view,"update",(function(e,t){t.column.get("transition").class.build(e,t.column,this,t.relativePosition).start()})),this.listenTo(this.view,"navigate",(function(e,t,i){i.parameters||(i.parameters={}),i.parameters.boardColumnIds=JSON.stringify(t.ids),this.main.grid.runRowClickAction(e,i)})),this.listenTo(this.view,"loadMoreIfPossible",(function(){this.main.collection.isLoadingMore||this.main.collection.hasExtraRecordsToLoad()&&this.main.collection.loadMore()})),this.view.render(),this.view.$el.insertAfter(this.main.$el.find(".other-scroll-container")),this.main.$el.find(".other-scroll-container, .pagination, .page-size, .datagrid-settings, .extra-actions-panel").hide(),this.main.$el.find(".visible-items-counter").show(),this.main.$el.find(".board").show(),this.restoreSortableOnColumns=[],this.main.grid.columns.filter((function(t){if(t.get("name")===e.options.group_by)return!0})).forEach((function(t){t.get("sortable")&&(e.restoreSortableOnColumns.push(t),t.set({sortable:!1}))})),"board"===this.main.collection.state.appearanceType&&this.main.collection.state.appearanceData.id===this.options.id||(this.oldPageSize=this.main.collection.state.pageSize,this.main.collection.state.pageSize=this.options.pagesize||this.defaultPagesize,this.main.collection.state.sorters.hasOwnProperty(this.options.group_by)&&(this.oldSorting=s.extend({},this.main.collection.state.sorters),delete this.main.collection.state.sorters[this.options.group_by],0===s.keys(this.main.collection.state.sorters).length&&(this.main.collection.state.sorters=s.extend({},this.main.collection.initialState.sorters))),this.main.collection.setAppearance("board",{id:this.options.id})),d.__super__.enable.call(this)},disable:function(){this.main.$el.find(".board").hide(),this.main.$el.find(".other-scroll-container, .pagination, .page-size, .datagrid-settings, .extra-actions-panel").show(),this.main.$el.find(".visible-items-counter").hide(),this.restoreSortableOnColumns&&this.restoreSortableOnColumns.length&&(this.restoreSortableOnColumns.forEach((function(e){e.set({sortable:!0})})),delete this.restoreSortableOnColumns),this.main.pluginManager.disposing||"grid"===this.main.collection.state.appearanceType&&void 0===this.main.collection.state.appearanceData.id||(this.oldSorting&&(this.main.collection.state.sorters=this.oldSorting||this.main.collection.initialState.sorters,delete this.oldSorting),this.main.collection.state.pageSize=this.oldPageSize||this.main.collection.initialState.pageSize,this.main.collection.setAppearance("grid",{id:void 0})),this._collection&&this._collection.dispose(),this.view.dispose(),this._columns||(this._columns.each((function(e){e.dispose()})),this._columns.dispose()),d.__super__.disable.call(this)},getBoardCollection:function(){return this._collection||(this._collection=new l(this.main.collection.models),this._collection.listenTo(this.main.collection,"add remove reset sort",(()=>{this._collection.reset(this.main.collection.models)}))),this._collection},getColumns:function(){const e=this;function t(t,i){return{id:t,ids:i.ids,columnDefinition:i,label:i.label,items:r.createFilteredCollection(e.getBoardCollection(),{criteria:function(t){return-1!==i.ids.indexOf(t.get(e.options.group_by))}}),transition:i.transition}}if(!this._columns){const e=[];for(let i=0;i<this.options.columns.length;i++){const s=this.options.columns[i];e.push(t(i,s))}this._columns=new n.Collection(e)}return this._columns}},{defaultOptions:{board_view:"orodatagrid/js/app/views/board/board-view",card_view:"orodatagrid/js/app/views/board/card-view",column_header_view:"orodatagrid/js/app/views/board/column-header-view",column_view:"orodatagrid/js/app/views/board/column-view"},saveApiAccessorDefaults:{class:"oroui/js/tools/api-accessor",http_method:"PATCH"},transitionDefaults:{class:"orodatagrid/js/app/transitions/update-main-property-transition"},processMetadata:function(e,i){return s.defaults(e,this.defaultOptions),e.default_transition.save_api_accessor||(e.default_transition.save_api_accessor=s.extend({},i.metadata.inline_editing.save_api_accessor)),s.defaults(e.default_transition.save_api_accessor,this.saveApiAccessorDefaults),e.columns.forEach((function(t){t.transition||(t.transition=e.default_transition),t.transition.save_api_accessor||(t.transition.save_api_accessor=e.default_transition.save_api_accessor),s.extend(t.transition,d.transitionDefaults)})),t.when(a.loadModuleAndReplace(e,"board_view"),a.loadModuleAndReplace(e,"card_view"),a.loadModuleAndReplace(e,"column_header_view"),a.loadModuleAndReplace(e,"column_view"),t.when(...e.columns.map((function(e){return a.loadModuleAndReplace(e.transition,"class")}))),t.when(...e.columns.map((function(e){return a.loadModuleAndReplace(e.transition.save_api_accessor,"class")}))))}});return d}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/plugins/grid/accessibility-plugin.js":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g});var s=i("./bundles/oroui/js/app/plugins/base/plugin.js"),n=i.n(s),o=i("./bundles/oroui/js/extend/backbone.js");class r{constructor(e){if(void 0===e||!(e[0]instanceof HTMLElement))throw new Error('Option "$table" is required');this.$table=e,this.setCurrentCell(e.find("[aria-colindex]:first"))}setCurrentCell(e){if(!this.$table[0].contains(e[0])||!e.is("[aria-colindex]")||e.is(this._$cell))return this;const{_$cell:t}=this;return this._$cell=e,this.trigger("change:current",e,t),this}get $cell(){return this._$cell}get $row(){return this.$cell.closest("[aria-rowindex]")}get colindex(){return Number(this.$cell.attr("aria-colindex"))}get rowindex(){return Number(this.$row.attr("aria-rowindex"))}get index(){return[this.rowindex,this.colindex]}prev(){const e=this.$cell.prevAll("[aria-colindex]:visible:first");return e.length&&this.setCurrentCell(e),this}next(){const e=this.$cell.nextAll("[aria-colindex]:visible:first");return e.length&&this.setCurrentCell(e),this}firstInRow(){const e=this.$row.find("[aria-colindex]:visible:first");return this.$cell.is(e)||this.setCurrentCell(e),this}lastInRow(){const e=this.$row.find("[aria-colindex]:visible:last");return this.$cell.is(e)||this.setCurrentCell(e),this}prevRow(){return this._goToRow(-1)}nextRow(){return this._goToRow(1)}firstRow(){return this._goToRow(-1/0)}lastRow(){return this._goToRow(1/0)}_goToRow(e){const t=this.$table.find("[aria-rowindex]:visible"),i=t.index(this.$row);let s,n;for(e===-1/0?(s=0,e=1):e===1/0?(s=t.length-1,e=-1):s=i+e;s!==i&&s>=0&&s<t.length&&!n;)n=t.eq(s).find(`[aria-colindex="${this.colindex}"]:visible:first`),n.length||(s+=e,n=null);return n&&this.setCurrentCell(n),this}}Object.assign(r.prototype,o.Events);const a=r;var l=i("./bundles/oroui/js/tools/manage-focus.js"),d=i("./bundles/oroui/js/extend/underscore.js"),c=i.n(d),u=i("./bundles/oroui/js/extend/jquery.js"),h=i.n(u);function p(e){return e.clone().find(".sr-only").remove().end().text().trim()}const _=n().extend({iterator:null,events:()=>({"select2-close table.grid"(){this._forceInnerFocus=!0},"focusin table.grid":"onFocusin","focusout table.grid":"onFocusout","keydown table.grid":"onKeyDown","keyup table.grid":"onKeyUp"}),ignoreEntrusted:"[data-toggle]",_isDocumentClick:!1,_isDocumentKeyPressed:void 0,_isFocusInside:!1,_forceInnerFocus:!1,_lastIndex:null,constructor:function e(t,i){e.__super__.constructor.call(this,t,i)},initialize(e,t){Object.assign(this,c().pick(t,"ignoreEntrusted")),this.listenTo(this.main,{"content:update"(){this.enabled&&!this.suspended&&this.$table.is(":visible")&&this._resumeNavigation()},"loading-mask:show":this._suspendNavigation,"loading-mask:hide":this._resumeNavigation}),this.listenToOnce(this.main,"rendered",(()=>{this.$table=this.main.$("table.grid"),this.enable()})),_.__super__.initialize.call(this,e,t)},delegateEvents(){_.__super__.delegateEvents.call(this),h()(document).on({[`mousedown${this.ownEventNamespace()}`]:this.onDocumentMouseDown.bind(this),[`mouseup${this.ownEventNamespace()}`]:this.onDocumentMouseUp.bind(this),[`dragstart${this.ownEventNamespace()}`]:this.onDocumentDragstart.bind(this),[`keydown${this.ownEventNamespace()}`]:this.onDocumentKeyDown.bind(this),[`keyup${this.ownEventNamespace()}`]:this.onDocumentKeyUp.bind(this)})},undelegateEvents(){_.__super__.undelegateEvents.call(this),h()(document).off(this.ownEventNamespace())},dispose(){this.disposed||(this.disable(),_.__super__.dispose.call(this))},enable(){void 0!==this.$table&&0!==this.$table.length&&(this.iterator=new a(this.$table),this.listenTo(this.iterator,"change:current",this.onCurrentChange),this._resetCurrent(),this.delegateEvents(),_.__super__.enable.call(this))},disable(){this.enabled&&(this.$table&&this.$table.find("[aria-colindex]").removeAttr("tabindex").removeAttr("data-ignore-tabbable"),this.undelegateEvents(),this.stopListening(this.iterator),delete this.iterator,this.enabled=!1,this.trigger("disabled"))},onFocusin(e){clearTimeout(this._focusoutTimeoutID);const t=this.$table.find(e.target),i=t.closest("[aria-colindex]"),s=this._isDocumentClick||(this._isFocusInside||"Tab"!==this._isDocumentKeyPressed)&&(!e.relatedTarget||this.$table[0].contains(e.relatedTarget))&&(!i.is("[data-ignore-tabbable]")||this._isFocusInside||this._forceInnerFocus);let n;if((i.is(t)||s)&&(n=i,this._isFocusInside=!i.is(t)&&!this.entrustedTabbable(i).is(t)),n)this.iterator.setCurrentCell(n);else if(!i.is("[data-ignore-tabbable]")){const e=this.defineFocusElement({allowInnerFocus:s});this.focusElement(e)}!this.isInnerFocus()&&t.is(document.activeElement)&&e.target.classList.add("focus-via-arrows-keys"),this._forceInnerFocus=!1,delete this._lastIndex},onFocusout(e){if((!e.relatedTarget||!this.$table[0].contains(e.relatedTarget))&&(this._focusoutTimeoutID=setTimeout((()=>{this.disposed||(this._isFocusInside=!1,this.removeIgnoreTabbableAttributes())}),10),!e.relatedTarget&&h()(document.activeElement).is("body"))){const t=h()(e.target).closest(".dropdown-menu");if(t.length){const e=t.parent().find('[data-toggle="dropdown"]');this.focusElement(e.is(":tabbable")?e:e.find(":tabbable:first"))}else this.suspended||this._isDocumentClick||(this._lastIndex=this.iterator.index,setTimeout((()=>{this._restoreCurrent()})))}const t=h()(e.relatedTarget).closest('[role="dialog"], [role="alertdialog"]');t.length&&(this._lastIndex=this.iterator.index,t.is(".ui-dialog")?t.one("dialogclose",this.onDialogClose.bind(this)):t.one("hidden.bs.modal",this.onDialogClose.bind(this))),e.target.classList.remove("focus-via-arrows-keys")},onKeyDown(e){const t=this.$table.find(e.target),{$cell:i}=this.iterator;if(this.isInnerFocus())"Escape"===e.key?(this._isFocusInside=!1,this.focusElement(i),e.preventDefault()):l.Z.preventTabOutOfContainer(e,i);else switch(e.key){case"Tab":this.addIgnoreTabbableAttributes();break;case"ArrowLeft":this.iterator.prev(),e.preventDefault();break;case"ArrowRight":this.iterator.next(),e.preventDefault();break;case"ArrowUp":this.iterator.prevRow(),e.preventDefault();break;case"ArrowDown":this.iterator.nextRow(),e.preventDefault();break;case"Home":e.ctrlKey&&this.iterator.firstRow(),this.iterator.firstInRow(),e.preventDefault();break;case"End":e.ctrlKey&&this.iterator.lastRow(),this.iterator.lastInRow(),e.preventDefault();break;case"PageDown":e.preventDefault(),!this.main.disposed&&this.main.collection.hasNext()&&this.main.collection.getNextPage();break;case"PageUp":e.preventDefault(),!this.main.disposed&&this.main.collection.hasPrevious()&&this.main.collection.getPreviousPage();break;case"Enter":case" ":const s=this.entrustedTabbable(i),n=i.find(":tabbable");t.is("[aria-colindex]")&&!s.length&&(n.length?(this._isFocusInside=!0,this.focusElement(n.first())):(t.trigger("mousedown"),t.trigger("mouseup"),t.click()),e.preventDefault())}},onKeyUp(e){"Tab"===e.key&&this.removeIgnoreTabbableAttributes()},onCurrentChange(){if(this._updateTabindexAttribute(),this.$table[0].contains(document.activeElement)){const e=this.defineFocusElement({allowInnerFocus:!0});this.focusElement(e)}},addIgnoreTabbableAttributes(){this.$table.find("[aria-colindex]").attr("data-ignore-tabbable","")},removeIgnoreTabbableAttributes(){this.$table.find("[aria-colindex]").removeAttr("data-ignore-tabbable")},defineFocusElement({allowInnerFocus:e=!1}){const t=this.entrustedTabbable(this.iterator.$cell);return e&&this.iterator.$cell[0].contains(document.activeElement)&&!t.length?h()(document.activeElement):t.length?t:this.iterator.$cell},focusElement(e){const{$cell:t}=this.iterator;t.is(e)||t.removeAttr("data-ignore-tabbable"),e.is(document.activeElement)||e.focus()},entrustedTabbable(e){const t=e.find(":tabbable");return 1===t.length&&t.is(`:not(${this.ignoreEntrusted})`)&&p(t)===p(e)?t:h()()},isInnerFocus(){const{$cell:e}=this.iterator;return this._isFocusInside&&!e.is(document.activeElement)&&!this.entrustedTabbable(e).is(document.activeElement)},onDialogClose(){this._restoreCurrent()},onDocumentMouseDown(){this._isDocumentClick=!0},onDocumentMouseUp(){this._isDocumentClick=!1},onDocumentDragstart(){this._isDocumentClick=!1},onDocumentKeyDown(e){this._isDocumentKeyPressed=e.key},onDocumentKeyUp(){delete this._isDocumentKeyPressed},_updateTabindexAttribute(){const{$cell:e}=this.iterator;this.entrustedTabbable(e).length?e.removeAttr("tabindex"):e.attr("tabindex",0),this.$table.find("[aria-colindex]").not(e).attr("tabindex",-1)},_resetCurrent(){const e=this.iterator;if(this.iterator.setCurrentCell(this.$table.find("[aria-colindex]:visible:first")),this.$table.find("[aria-colindex]:not(th)").length)for(;e.$cell.is("th")&&e.$cell!==e.nextRow().$cell;);e.$cell.is(".select-row-cell")&&e.next(),e.$cell.is(".action-cell")&&e.prev()},_restoreCurrent(){if(!this._lastIndex)return;let e,[t,i]=this._lastIndex;for(delete this._lastIndex;(!e||!e.length)&&t>=0;)e=this.$table.find(`[aria-rowindex="${t}"] [aria-colindex="${i}"]`),t-=1;if(e&&e.length&&(this.iterator.setCurrentCell(e),h()(document.activeElement).is("body"))){const e=this.defineFocusElement({});this.focusElement(e)}},_suspendNavigation(){this.suspended=!0,this.$table[0].contains(document.activeElement)&&(this._lastIndex=this.iterator.index,document.activeElement.blur())},_resumeNavigation(){this.suspended=!1,this.enabled&&(this._lastIndex?this._restoreCurrent():this.$table.find(this.iterator.$cell).is(":visible")||this._resetCurrent(),this._updateTabindexAttribute())}}),g=_},"./bundles/orodatagrid/js/app/plugins/grid/datagrid-settings-plugin.js":(e,t,i)=>{var s;s=function(e,t,s){"use strict";const n=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/orotranslation/js/translator.js"),r=i("./bundles/oroui/js/app/plugins/base/plugin.js"),a=i("./bundles/orodatagrid/js/datagrid/action/show-component-action.js"),l=i("./bundles/orodatagrid/js/app/views/grid/datagrid-manage-column-view.js"),d=i("./bundles/orodatagrid/js/app/views/grid/datagrid-manage-filter-view.js"),c=i("./bundles/orodatagrid/js/app/views/grid/datagrid-settings-view.js");let u=i("./bundles/oroui/js/app/services/module-config.js").Z(s.id);u=n.extend({icon:"cog",wrapperClassName:"datagrid-settings "+(n.isRTL()?"dropright":"dropleft"),label:o("oro.datagrid.settings.title"),ariaLabel:o("oro.datagrid.settings.title_aria_label")},u);const h=r.extend({enable:function(){this.listenTo(this.main,"beforeToolbarInit",this.onBeforeToolbarInit),h.__super__.enable.call(this)},onBeforeToolbarInit:function(e){const t={datagrid:this.main,launcherOptions:n.extend(u,{allowDialog:n.isMobile(),componentConstructor:e.componentConstructor||c,viewConstructors:e.viewConstructors||[{id:"grid",label:o("oro.datagrid.settings.tab.grid"),view:l,options:{collection:this.main.columns}},{id:"filters",label:o("oro.datagrid.settings.tab.filters"),view:d,options:{collection:n.filter(this.main.metadata.filters,(function(e){return e.visible})),addSorting:!1}}],columns:this.main.columns},e.datagridSettings),order:600};e.addToolbarAction(new a(t))}});return h}.call(t,i,t,e),void 0===s||(e.exports=s)},"./bundles/orodatagrid/js/app/plugins/grid/floating-header-plugin.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/jquery.js"),s=i("./bundles/oroui/js/extend/underscore.js"),n=i("./bundles/oroui/js/app/plugins/base/plugin.js"),o=i("./bundles/oroui/js/extend/backbone.js"),r=i("./bundles/oroui/js/mediator.js"),a=i("./bundles/oroui/js/tools/scroll-helper.js"),l=n.extend({initialize:function(e){this.grid=e,this.grid.on("shown",this.onGridShown.bind(this)),this.grid.on("changeAppearance",(()=>{delete this.headerHeight})),this.selectMode=this.selectMode.bind(this),this.checkLayout=this.checkLayout.bind(this),this.fixHeaderCellWidth=this.fixHeaderCellWidth.bind(this)},onGridShown:function(){this.enabled&&!this.connected&&this.enable()},enable:function(){this.grid.rendered?(this.setupCache(),this.$el.addClass("with-floating-header"),this.rescrollCb=this.enableOtherScroll(),this.fixHeaderCellWidth(),this.supportDropdowns(),this.listenTo(r,"layout:headerStateChange",this.checkLayout),this.listenTo(r,"layout:reposition",this.checkLayout),this.listenTo(this.grid,"content:update",this.onGridContentUpdate),this.listenTo(this.grid,"ensureCellIsVisible",this.ensureCellIsVisible),this.checkLayoutIntervalId=setInterval(this.checkLayout,400),this.connected=!0,l.__super__.enable.call(this)):l.__super__.enable.call(this)},disable:function(){this.connected=!1,clearInterval(this.checkLayoutIntervalId),this.domCache.gridContainer.parents().add(document).off(".float-thead"),this.manager.disposing||(this.setFloatTheadMode("default"),this.disableOtherScroll(),this.$grid.off(".float-thead"),this.domCache.headerCells.attr("style","")),this.$el.removeClass("with-floating-header"),l.__super__.disable.call(this)},setupCache:function(){this.$grid=this.grid.$grid,this.$el=this.grid.$el,this.documentHeight=a.documentHeight(),this.domCache={body:t(document.body),gridContainer:this.$grid.parent(),headerCells:this.$grid.find("th:first").parent().find("th.renderable"),otherScrollContainer:this.$grid.parents(".other-scroll-container:first"),gridScrollableContainer:this.$grid.parents(".grid-scrollable-container:first"),otherScroll:this.$el.find(".other-scroll"),otherScrollInner:this.$el.find(".other-scroll > div"),thead:this.$grid.find("thead:first"),theadTr:this.$grid.find("thead:first tr:first")},this.headerHeight||(this.headerHeight=this.domCache.theadTr.height())},supportDropdowns:function(){const e=s.debounce((()=>{this.domCache.thead.find('.show > [data-toggle="dropdown"]').trigger("tohide.bs.dropdown")}),100,!0);this.$grid[0].addEventListener("click",(i=>{const s=t(i.target).is("input[type=checkbox]"),n=t(i.target).closest('[data-toggle="dropdown"]');n.length&&n.parent().is("thead:first .dropdown:not(.show)")&&!s&&(e(),this.isHeaderDropdownVisible=!0,a.scrollIntoView(n[0],void 0,10,10))}),!0),this.$grid.on("hide.bs.dropdown",(()=>{this.isHeaderDropdownVisible=!1,this.selectMode()})),this.domCache.gridContainer.parents().add(document).on("scroll.float-thead",(()=>{e(),this.checkLayout()})),this.domCache.gridScrollableContainer.on("updateScroll",this.selectMode.bind(this))},fixHeaderCellWidth:function(){r.trigger("gridHeaderCellWidth:beforeUpdate"),this.setupCache();const e=this.domCache.headerCells,t=this.domCache.gridScrollableContainer[0].scrollLeft;let i=0;const n=[];e.attr("style",""),this.$grid.css({width:""}),this.domCache.gridContainer.css({width:""}),this.$el.removeClass("floatThead");const o=this.$grid[0].scrollWidth;e.each((function(e,t){n.push(t.scrollWidth)}));const a=s.reduce(n,(function(e,t){return e+t}));a!==o&&(i=(o-a)/n.length),e.each((function(e,t){const s=n[e]+i;t.style.width=s+"px",t.style.maxWidth=s+"px",t.style.minWidth=s+"px",t.style.boxSizing="border-box"})),"default"!==this.currentFloatTheadMode&&this.$el.addClass("floatThead"),this.$grid.css({width:o}),this.domCache.gridContainer.css({width:o}),this.domCache.gridScrollableContainer[0].scrollLeft=t,r.trigger("gridHeaderCellWidth:updated"),this.selectMode()},selectMode:function(){const e=this.domCache.gridContainer[0].getBoundingClientRect(),t=a.getVisibleRect(this.$grid[0],{top:-this.headerHeight},"default"===this.currentFloatTheadMode);let i="default";(t.top!==e.top&&e.bottom>this.headerHeight||"fullscreen"===this.grid.layout)&&(i=this.isHeaderDropdownVisible?"relative":"fixed"),this.setFloatTheadMode(i,t,e),this._lastClientRect=this.domCache.otherScrollContainer[0].getBoundingClientRect(),this._lastScrollLeft=this.domCache.gridScrollableContainer.scrollLeft(),this.rescrollCb&&this.rescrollCb()},setFloatTheadMode:function(e,t,i){let n;switch(t||(t=a.getVisibleRect(this.domCache.gridContainer[0],{top:-this.headerHeight},"default"===this.currentFloatTheadMode)),i||(i=this.domCache.gridContainer[0].getBoundingClientRect()),e){case"relative":this.currentFloatTheadMode!==e&&(this.$el.removeClass("floatThead-fixed"),this.$el.addClass("floatThead-relative floatThead"),this._ensureTHeadSizing()),n=this.domCache.thead[0].getBoundingClientRect(),this.domCache.thead.css({width:"",top:t.top-i.top,left:""}),this.domCache.theadTr.css({["margin"+(s.isRTL()?"Right":"Left")]:s.isRTL()?n.right-i.right:i.left-n.left}),"relative"===e&&(this._lastScrollTop=this.domCache.gridScrollableContainer.scrollTop());break;case"fixed":this.currentFloatTheadMode!==e&&(this.$el.removeClass("floatThead-relative"),this.$el.addClass("floatThead-fixed floatThead"),this._ensureTHeadSizing()),this.domCache.thead.css({top:t.top,width:t.right-t.left,height:Math.min(this.headerHeight,t.bottom-t.top),left:t.left}),n=this.domCache.thead[0].getBoundingClientRect(),this.domCache.theadTr.css({["margin"+(s.isRTL()?"Right":"Left")]:s.isRTL()?n.right-i.right:i.left-n.left});break;default:this.currentFloatTheadMode!==e&&(this.$grid.find(".thead-sizing").remove(),this.$el.removeClass("floatThead-relative floatThead-fixed floatThead"),this.domCache.thead.attr("style",""),this.domCache.theadTr.attr("style",""))}this.currentFloatTheadMode=e},onGridContentUpdate:function(){const e=this.$grid.find(".thead-sizing");e.length&&(e.remove(),this._ensureTHeadSizing()),this.fixHeaderCellWidth()},_ensureTHeadSizing:function(){if(!this.$grid.find(".thead-sizing").length){const e=this.domCache.thead.clone();e.addClass("thead-sizing"),e.find("th").attr("style",""),e.insertAfter(this.domCache.thead)}},enableOtherScroll:function(){let e;const t=this,i=this.domCache.gridScrollableContainer,n=this.domCache.otherScroll,a=this.domCache.otherScrollInner,l=r.execute("layout:scrollbarWidth"),d=new o.Model;if(this.scrollStateModel=d,0===l)return s.noop;function c(e){d.set({scrollTop:e.currentTarget.scrollTop})}function u(){d.set({headerHeight:t.headerHeight});const e=i[0].getBoundingClientRect().height;let s=i[0].scrollHeight;const n=i[0].offsetHeight;n!==e&&n===Math.round(e)&&(s-=1),t.scrollVisible=i[0].clientHeight<s,d.set({visible:t.scrollVisible,scrollHeight:i[0].scrollHeight,clientHeight:i[0].clientHeight,scrollTop:i[0].scrollTop}),d.set({clientWidth:i[0].clientWidth})}return d.on("change:headerHeight",(function(t,s){e=s+1,n.css({width:l,marginTop:e}),d.trigger("change:scrollHeight",d,i[0].scrollHeight),d.trigger("change:clientHeight",d,i[0].clientHeight)}),this),d.on("change:visible",(function(e,t){i.css({width:"calc(100% + "+(t?l:0)+"px)"}),n.css({display:t?"block":"none"}),i.toggleClass("scrollbar-is-visible",Boolean(t))}),this),d.on("change:clientHeight",(function(t,i){n.css({height:i-e})}),this),d.on("change:clientWidth",(function(e,t){n.css({["margin"+(s.isRTL()?"Right":"Left")]:t-l})}),this),d.on("change:scrollHeight",(function(t,i){a.css({height:i-e})})),d.on("change:scrollTop",(function(e,t){n[0].scrollTop!==t&&(n[0].scrollTop=t),i[0].scrollTop!==t&&(i[0].scrollTop=t)}),this),i.on("scroll",c),n.on("scroll",c),u(),u},disableOtherScroll:function(){this.domCache.gridScrollableContainer.off("scroll",this.rescrollCb),this.domCache.otherScroll.off("scroll"),this.domCache.otherScroll.css({display:"none"}),this.domCache.gridScrollableContainer.css({width:""}).removeClass("scrollbar-is-visible"),this.domCache.gridScrollableContainer.off("updateScroll"),this.domCache.gridContainer.css({width:""}),this.$grid.css({width:""}),this.scrollStateModel.destroy(),delete this.scrollStateModel,delete this.rescrollCb},checkLayout:function(){if(!this.connected)return;let e;if("default"===this.currentFloatTheadMode&&"fullscreen"===this.grid.layout&&"default"===this.currentFloatTheadMode&&0!==this.domCache.gridScrollableContainer.scrollTop())return void this.selectMode();if("relative"===this.currentFloatTheadMode&&this.domCache.gridScrollableContainer.scrollTop()!==this._lastScrollTop)return void this.selectMode();const t=this.domCache.otherScrollContainer[0].getBoundingClientRect();this._lastClientRect&&this._lastClientRect.top===t.top&&this._lastClientRect.left===t.left&&this._lastClientRect.right===t.right?(e=this.domCache.gridScrollableContainer.scrollLeft(),this._lastScrollLeft!==e?(this.selectMode(),this._lastScrollLeft=e):this._lastClientRect.bottom!==t.bottom&&this.rescrollCb()):this._lastClientRect&&this._lastClientRect.left===t.left&&this._lastClientRect.right===t.right?this.selectMode():this.fixHeaderCellWidth(),this._lastClientRect=t},ensureCellIsVisible:function(e,t){e.isDefaultPrevented()||this.currentFloatTheadMode in{relative:!0,fixed:!0}&&(this.fixHeaderCellWidth(),a.scrollIntoView(t.el,((e,t)=>{this.domCache.gridScrollableContainer&&this.domCache.gridScrollableContainer.length&&e===this.domCache.gridScrollableContainer[0]&&(t.top+=this.headerHeight)})),e.preventDefault())}});return l}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/plugins/grid/fullscreen-plugin.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/app/plugins/base/plugin.js"),n=i("./bundles/oroui/js/mediator.js"),o=i("./bundles/oroui/js/tools.js"),r=i("./bundles/orodatagrid/js/app/plugins/grid/floating-header-plugin.js"),a=i("./bundles/oroui/js/tools/scroll-helper.js"),l=s.extend({enable:function(){this.listenTo(this.main,"shown rendered content:update",this.updateLayout,this),this.main.filterManager?this.listenFilterManager():this.listenTo(this.main,"filterManager:connected",this.listenFilterManager,this),this.listenTo(n,"layout:reposition",this.updateLayout,this),this.updateLayout(),l.__super__.enable.call(this)},disable:function(){clearTimeout(this.updateLayoutTimeoutId),this.setLayout("default"),l.__super__.disable.call(this)},listenFilterManager:function(){const e=t.debounce(this.updateLayout.bind(this),10);this.listenTo(this.main.filterManager,"afterUpdateList",e),this.listenTo(this.main.filterManager,"updateFilter",e)},getCssHeightCalcExpression:function(){return"calc(100vh - "+(a.documentHeight()-n.execute("layout:getAvailableHeight",this.main.$grid.parents(".grid-scrollable-container:first")))+"px)"},updateLayout:function(){if(!this.main.shown)return clearTimeout(this.updateLayoutTimeoutId),void(this.updateLayoutTimeoutId=t.delay(this.updateLayout.bind(this),0));clearTimeout(this.updateLayoutTimeoutId),o.isMobile()&&this.manager.enable(r);const e=n.execute("layout:getPreferredLayout",this.main.$grid);this.setLayout(e)},setLayout:function(e){if(e!==this.main.layout){switch(this.main.layout=e,e){case"fullscreen":n.execute("layout:disablePageScroll",this.main.$el),this.main.$grid.parents(".grid-scrollable-container").css({maxHeight:this.getCssHeightCalcExpression()}),this.manager.enable(r);break;case"scroll":case"default":n.execute("layout:enablePageScroll"),this.main.$grid.parents(".grid-scrollable-container").css({maxHeight:""}),this.manager.disable(r);break;default:throw new Error("Unknown grid layout")}this.main.trigger("layout:update")}else"fullscreen"===e&&(this.main.$grid.parents(".grid-scrollable-container").css({maxHeight:this.getCssHeightCalcExpression()}),this.main.trigger("layout:update"))}});return l}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/plugins/grid/inline-editing-plugin.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/orotranslation/js/translator.js"),n=i("./bundles/oroui/js/extend/jquery.js"),o=i("./bundles/oroui/js/mediator.js"),r=i("./bundles/oroui/js/app/plugins/base/plugin.js"),a=i("./bundles/orodatagrid/js/datagrid/cell-iterator.js"),l=i("./bundles/oroui/js/tools/api-accessor.js"),d=i("./bundles/oroui/js/modal.js"),c=i("./bundles/orodatagrid/js/app/plugins/grid/inline-editing-plugin/split-event-list.js"),u=i("./bundles/oronavigation/js/app/services/page-state-checker.js");i("./bundles/orodatagrid/js/app/components/cell-popup-editor-component.js"),i("./bundles/oroform/js/app/views/editor/text-editor-view.js");const h=r.extend({helpMessage:s("oro.form.inlineEditing.helpMessage"),modalOptions:{title:s("oro.datagrid.inline_editing.refresh_confirm_modal.title"),content:s("oro.ui.leave_page_with_unsaved_data_confirm"),okText:s("Ok, got it"),className:"modal modal-primary",cancelText:s("Cancel")},activeEditorComponents:null,initialize:function(e,t){this.activeEditorComponents=[],this.patchCellConstructor=this.patchCellConstructor.bind(this),this.hasChanges=this.hasChanges.bind(this),h.__super__.initialize.call(this,e,t)},enable:function(){if(this.main.$el.addClass("grid-editable"),this.listenTo(this.main.collection,{beforeFetch:this.beforeGridCollectionFetch}),this.main.columns?this.processColumnsAndListenEvents():this.listenToOnce(this.main,"columns:ready",this.processColumnsAndListenEvents),this.listenTo(o,{"page:beforeChange":this.removeActiveEditorComponents,"openLink:before":this.beforePageChange,"page:beforeRedirectTo":this.beforeRedirectTo,"page:beforeRefresh":this.beforeRefresh}),!this.options.metadata.inline_editing.save_api_accessor)throw new Error('"save_api_accessor" option is required');const e=this.options.metadata.inline_editing.save_api_accessor.class;this.saveApiAccessor=new e(t.omit(this.options.metadata.inline_editing.save_api_accessor,"class")),this.main.rendered&&this.main.body.refresh(),u.registerChecker(this.hasChanges),h.__super__.enable.call(this),n(window).on("beforeunload."+this.cid,this.onWindowUnload.bind(this))},processColumnsAndListenEvents:function(){this.processColumns(),this.listenTo(this.main.columns,{"change:renderable":this.onColumnStateChange}),this.main.columns.trigger("change:columnEventList")},processColumns:function(){this.main.columns.each(this.patchCellConstructor)},disable:function(){n(window).off("."+this.cid),this.removeActiveEditorComponents(),this.manager.disposing||(this.main.columns.each(this.removePatchForCellConstructor),this.main.$el.removeClass("grid-editable"),this.main.body.refresh()),u.removeChecker(this.hasChanges),h.__super__.disable.call(this)},onColumnStateChange:function(){for(let e=0;e<this.activeEditorComponents.length;e++){const t=this.activeEditorComponents[e];t.options.cell.column&&t.options.cell.column.get("renderable")||(t.dispose(),e--)}},confirmNavigation:function(){const e=new d(this.modalOptions),t=n.Deferred();return t.always((()=>{this.stopListening(e)})),this.listenTo(e,"ok",(function(){t.resolve()})),this.listenTo(e,"cancel close",(function(){t.reject(t.promise(),"abort")})),t.then((()=>u.ignoreChanges())),e.open(),t},beforeGridCollectionFetch:function(e,t){if(this.hasChanges()){const e=this.confirmNavigation();e.then(this.removeActiveEditorComponents.bind(this)),t.waitForPromises.push(e.promise())}else this.removeActiveEditorComponents()},beforeRefresh(e){return this.beforeNavigation(e)},beforeRedirectTo(e){return this.beforeNavigation(e)},beforeNavigation:function(e){if(this.hasChanges()){const t=this.confirmNavigation();e.push(t.promise())}},beforePageChange:function(e){!e.prevented&&this.hasChanges()&&(e.prevented=!window.confirm(s("oro.ui.leave_page_with_unsaved_data_confirm")))},onWindowUnload:function(){if(this.hasChanges()&&!u.hasChangesIgnored())return s("oro.ui.leave_page_with_unsaved_data_confirm")},patchCellConstructor:function(e){const i=e.get("cell"),n=this,o=i.prototype.className,r=new c(i,"isEditable",{dblclick:"enterEditModeIfNeeded","mousedown [data-role=edit]":"enterEditModeIfNeeded",click:t.noop,mouseenter:"delayedIconRender"}),a=i.extend({constructor:function(e){this.column=e.column,i.call(this,e)},className:t.isFunction(o)?function(){const e=o.call(this);return(e?e+" ":"")+(n.isEditable(this)?"editable view-mode prevent-text-selection-on-dblclick":"")}:function(){const e=n.isEditable(this)?"editable view-mode prevent-text-selection-on-dblclick":"";return(o?o+" ":"")+e},events:r.generateDeclaration(),delayedIconRender:function(){this.$('[data-role="edit"]').length||(this.$el.append('<span class="inline-editor-edit-action"><button data-role="edit" class="inline-actions-btn skip-row-click hide-text"title="'+t.escape(s("Edit"))+'"><span class="fa-pencil" aria-hidden="true"></span></button></span>'),this.$el.attr("title",n.helpMessage))},isEditable:function(){return n.isEditable(this)},enterEditModeIfNeeded:function(e){this.isEditable()&&n.enterEditMode(this),e.preventDefault(),e.stopPropagation()}});e.set({cell:a,oldCell:i})},removePatchForCellConstructor:function(e){e.get("oldCell")&&e.set({cell:e.get("oldCell"),oldCell:!1})},hasChanges:function(){return t.some(this.activeEditorComponents,(function(e){return e.isChanged()}))},isEditable:function(e){const i=e.column.get("metadata");if(!i||!e.model||!e.column.get("renderable"))return!1;const s=e.column.get("name");return!t.find(e.model.get("entity_restrictions"),(function(e){return e.field===s&&"full"===e.mode}))&&!(!i.inline_editing||!i.inline_editing.enable)&&this.getCellEditorOptions(e).save_api_accessor.validateUrlParameters(e.model.toJSON())},getCellEditorOptions:function(e){let i=e.column.get("cellEditorOptions");if(!i){const s=e.column.get("metadata");i=n.extend(!0,{},t.result(t.result(s,"inline_editing"),"editor"));let o=t.result(t.result(s,"inline_editing"),"save_api_accessor");if(i.component_options||(i.component_options={}),o){if(!(o instanceof l)){const e=t.extend({},this.options.metadata.inline_editing.save_api_accessor,o);o=new(0,e.class)(t.omit(e,"class"))}i.save_api_accessor=o}else i.save_api_accessor=this.saveApiAccessor;const r=t.result(s.inline_editing,"validation_rules")||{};t.each(r,(function(e,t){r[t]=e||{}})),i.viewOptions=n.extend(!0,{},i.view_options||{},{validationRules:r}),e.column.set("cellEditorOptions",i)}return i},getOpenedEditor:function(e){return t.find(this.activeEditorComponents,(function(t){return t.options.cell===e}))},enterEditMode:function(e,i){let s;if(e.trigger("before-enter-edit-mode"),this._focusedCell&&this._focusedCell!==e&&(s=this.getOpenedEditor(this._focusedCell),s&&s.view&&s.view.blur()),s=this.getOpenedEditor(e),s)return s.enterEditMode(),void s.view.focus(!!i);this.main.ensureCellIsVisible(e);const n=this.getCellEditorOptions(e);n.viewOptions.className=this.buildClassNames(n,e).join(" ");const o=n.component,r=n.view;if(!r)throw new Error("Editor view in not available for `"+e.column.get("name")+"` column");const a=new o(t.extend({},n.component_options,{cell:e,view:r,viewOptions:n.viewOptions,save_api_accessor:n.save_api_accessor,grid:this.main,plugin:this}));this.activeEditorComponents.push(a),this.listenTo(a,"dispose",(function(){if(this.disposed)return;this._focusedCell&&this.highlightCell(this._focusedCell,!1);const e=this.activeEditorComponents.indexOf(a);-1!==e&&this.activeEditorComponents.splice(e,1)})),this.listenTo(a.view,{focus:function(){this._focusedCell=e,this.highlightCell(e,!0)},blur:function(){this.highlightCell(e,!1)}}),a.view.scrollIntoView(),a.view.focus(!!i)},buildClassNames:function(e,t){const i=["skip-row-click"];return e.view_options&&e.view_options.css_class_name&&i.push(e.view_options.css_class_name),t.column.get("name")&&i.push(t.column.get("name")+"-column-editor"),this.main.name&&i.push(this.main.name+"-grid-editor"),t.column.get("metadata")&&t.column.get("metadata").type&&i.push(t.column.get("metadata").type+"-frontend-type-editor"),i},editNextCell:function(e){this.editCellByIteratorMethod("next",e)},editNextRowCell:function(e){this.editCellByIteratorMethod("nextRow",e)},editPrevCell:function(e){this.editCellByIteratorMethod("prev",e)},editPrevRowCell:function(e){this.editCellByIteratorMethod("prevRow",e)},editCellByIteratorMethod:function(e,t){const i="prev"===e;this.trigger("lockUserActions",!0);const s=new a(this.main,t),n=t=>this.isEditable(t)?t:s[e]().then(n);s[e]().then(n).done((e=>{this.enterEditMode(e,i),this.trigger("lockUserActions",!1)})).fail(((e,t)=>{this.trigger("lockUserActions",!1)}))},removeActiveEditorComponents:function(){for(let e=0;e<this.activeEditorComponents.length;e++)this.activeEditorComponents[e].dispose();this.activeEditorComponents=[]},lastHighlightedCell:null,highlightCell:function(e,t){(t=!1!==t)!=(this.lastHighlightedCell===e)&&(this.lastHighlightedCell&&t&&this.highlightCell(this.lastHighlightedCell,!1),this.toggleHeaderCellHighlight(e,t),t?(e.disposed||e.$el.parent("tr:first").addClass("row-edit-mode"),this.lastHighlightedCell=e):(e.disposed||e.$el.parent("tr:first").removeClass("row-edit-mode"),this.lastHighlightedCell=null))},toggleHeaderCellHighlight:function(e,t){const i=this.main.columns.indexOf(e.column),s=this.main.findHeaderCellByIndex(i);s&&s.$el.toggleClass("header-cell-highlight",t)}});return h}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/plugins/grid/inline-editing-plugin/split-event-list.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js")],void 0===(n=function(e){"use strict";function t(t,i,s){this.View=t,this.extendedEvents=s,this.testFnName=i,this.canGenerateEventsAsObject=!e.isFunction(t.prototype.events)}return t.prototype={canGenerateEventsAsObject:!1,selectAndRun:function(t,i,s,n){if(this[t]()){if(e.isString(i)&&(i=this[i]),!i)return;i.call(this,n)}else{if(e.isString(s)&&(s=this[s]),!s)return;s.call(this,n)}},generateEvents:function(t){const i=this.canGenerateEventsAsObject?this.View.prototype.events:this.View.prototype.events.call(t),s=Object.create(i);for(const t in this.extendedEvents)this.extendedEvents.hasOwnProperty(t)&&(s[t]=e.partial(this.selectAndRun,this.testFnName,this.extendedEvents[t],i[t]));return s},generateDeclaration:function(){const e=this;return this.canGenerateEventsAsObject?this.generateEvents():function(){e.generateEvents(this)}}},t}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/app/plugins/grid/toolbar-mass-action-plugin.js":(e,t,i)=>{var s;s=function(e,t,s){"use strict";const n=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/orotranslation/js/translator.js"),r=i("./bundles/oroui/js/app/plugins/base/plugin.js"),a=i("./bundles/orodatagrid/js/datagrid/action/show-component-action.js"),l=i("./bundles/orodatagrid/js/app/components/toolbar-mass-action-component.js");let d=i("./bundles/oroui/js/app/services/module-config.js").Z(s.id);d=n.extend({icon:"ellipsis-h",wrapperClassName:"toolbar-mass-actions",label:o("oro.datagrid.mass_action.title"),attributes:{"data-placement":"bottom-end"}},d);const c=r.extend({enable:function(){this.listenTo(this.main,"beforeToolbarInit",this.onBeforeToolbarInit),c.__super__.enable.call(this)},onBeforeToolbarInit:function(e){const t={datagrid:this.main,launcherOptions:n.extend(d,{componentConstructor:l,collection:e.collection,actions:this.main.massActions})};e.actions.push(new a(t))}});return c}.call(t,i,t,e),void 0===s||(e.exports=s)},"./bundles/orodatagrid/js/app/transitions/abstract-transition.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";return i("./bundles/oroui/js/base-class.js").extend({constructor:function e(t){e.__super__.constructor.call(this,t),this.model=t.model,this.column=t.column,this.boardCollection=t.boardCollection,this.relativePosition=t.relativePosition,this.apiAccessor=t.apiAccessor},start:function(e){throw new Error("Expected abstract method `start` to be implemented")}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/transitions/update-main-property-transition.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/orotranslation/js/translator.js"),n=i("./bundles/orodatagrid/js/app/transitions/abstract-transition.js"),o=i("./bundles/oroui/js/mediator.js"),r=n.extend({constructor:function e(t){e.__super__.constructor.call(this,t),this.propertyName=t.propertyName,this.boardPlugin=t.boardPlugin},start:function(){const e=this,i=this.model,n=this.boardCollection,r=this.getPropertiesUpdates(),a=this.getRestoreUpdates(),l=this.relativePosition;return l.properties=r,n.updateBoardItem(i,l),i.set({transitionStatus:"in_progress",transitionStatusUpdateTime:new Date}),this.apiAccessor.send(i.toJSON(),r,{},{processingMessage:s("oro.form.inlineEditing.saving_progress")}).then((function(n){return i.set(t.extend({transitionStatus:"success",transitionStatusUpdateTime:new Date},n.fields||{})),o.execute("showFlashMessage","success",s("oro.form.inlineEditing.successMessage"),{delay:e.boardPlugin.view.earlyChangeTimeout}),!0}),(function(e){n.updateBoardItem(i,a),i.set({transitionStatus:"error",transitionStatusUpdateTime:new Date}),o.execute("showMessage","error",e.responseJSON.message,{onClose:function(){i.set({transitionStatus:"not_started",transitionStatusUpdateTime:new Date})}})}))},getPropertiesUpdates:function(){const e={};return e[this.propertyName]=this.column.get("columnDefinition").ids[0],e},getRestoreUpdates:function(){const e=this.boardPlugin.getColumns().find((e=>-1!==e.get("ids").indexOf(this.model.get(this.propertyName)))),t=e.get("items").indexOf(this.model);return{insertAfter:0===t?void 0:e.get("items").at(t-1),properties:this.getRestorePropertiesUpdates()}},getRestorePropertiesUpdates:function(){const e={};return e[this.propertyName]=this.model.get(this.propertyName),e}},{build:function(e,t,i,s){const n=t.get("columnDefinition").transition.save_api_accessor;return new r({model:e,propertyName:i.options.group_by,column:t,boardPlugin:i,boardCollection:i.getBoardCollection(),relativePosition:s,apiAccessor:new n.class(n)})}});return r}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/views/board/board-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/jquery.js"),s=i("./bundles/oroui/js/extend/underscore.js"),n=i("./bundles/orotranslation/js/translator.js"),o=i("./bundles/oroui/js/mediator.js"),r=i("./bundles/oroui/js/app/views/base/view.js"),a=i("./bundles/oroui/js/app/views/base/collection-view.js"),l=i("./bundles/oroui/js/app/views/loading-mask-view.js"),d=i("./bundles/oroui/js/tools/scroll-helper.js"),c=r.extend({className:"board",template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/board/board-view.html"),earlyChangeTimeout:2e3,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.readonly=e.readonly,this.columns=e.columns,this.boardPlugin=e.boardPlugin,this.columnView=e.columnView,this.columnHeaderView=e.columnHeaderView,this.cardView=e.cardView,this.boardCollection=e.boardCollection,this.serverCollection=e.serverCollection,this.cardActions=e.cardActions,this.listenTo(this.serverCollection,"change reset add remove",this.updateNoDataBlock),c.__super__.initialize.call(this,e)},dispose:function(){clearInterval(this.setTrackScrollInterval),c.__super__.dispose.call(this)},_ensureElement:function(){c.__super__._ensureElement.call(this),this.className&&this.$el.addClass(s.result(this,"className"))},render:function(){const e=this;c.__super__.render.call(this),this.updateNoDataBlock(),this.subview("header",new a({autoRender:!0,el:this.$(".board-header"),collection:this.columns,itemView:function(t){return t=s.extend(s.pick(e,"boardCollection"),t),new e.columnHeaderView(t)},readonly:this.readonly})),this.subview("body",new a({autoRender:!0,el:this.$(".board-columns-container"),collection:this.columns,readonly:this.readonly,itemView:function(i){i.readonly=e.readonly,i.boardCollection=e.boardCollection;const n=i.model.get("ids"),o=new e.columnView(s.extend(i,{cardView:function(s){s.readonly=e.readonly,s.actions=t.extend(!0,{},e.cardActions),s.actionOptions={parameters:{boardColumnIds:JSON.stringify(n)}},s.datagrid=e.boardPlugin.main.grid,s.earlyTransitionStatusChangeTimeout=e.earlyChangeTimeout;const o=new e.cardView(s);return e.listenTo(o,"navigate",(function(t,s){e.trigger("navigate",t,i.model.get("columnDefinition"),s)})),o}}));return e.listenTo(o,"move",e.onItemMove),e.listenTo(o,"dragStart",e.startIntensiveScrollTracking),e.listenTo(o,"dragEnd",e.stopIntensiveScrollTracking),o}})),this.$(".board-body").on("scroll",this.onBoardBodyScroll.bind(this)),this.loadingMask=new l({container:this.$el}),this.listenTo(this.serverCollection,"request",(function(e,t){this._beforeRequest();const i=this,s=t.always;t.always=function(...e){s.apply(this,e),i.disposed||i._afterRequest(this)}})),this.setTrackScrollInterval=setInterval(this.trackScroll.bind(this),300),this.listenTo(this.serverCollection,"change reset add remove",s.debounce(this.trackScroll.bind(this),0))},updateNoDataBlock:function(){let e;const t=this.boardPlugin.main.grid,i=this.serverCollection.models.length<=0;if(i){const i={entityHint:(t.entityHint||n(t.noDataTranslations.entityHint)).toLowerCase()};e=s.isEmpty(this.serverCollection.state.filters)?t.noDataTemplate({text:n(t.noDataTranslations.noEntities,i)}):t.noSearchResultsTemplate({title:n(t.noDataTranslations.noResultsTitle),text:n(t.noDataTranslations.noResults,i)}),this.$(".no-data").html(e)}this.$el.toggleClass("no-data-visible",i)},startIntensiveScrollTracking:function(){this.dragTrackScrollInterval=setInterval(this.trackScroll.bind(this),0)},stopIntensiveScrollTracking:function(){clearInterval(this.dragTrackScrollInterval)},getCssHeightCalcExpression:function(){return"calc(100vh - "+(d.documentHeight()-o.execute("layout:getAvailableHeight",this.$(".board-body")))+"px)"},trackScroll:function(){const e=this.$(".board-body")[0],i=d.hasScroll(e,"top");i!==this.lastHasScroll&&(this.subview("header").$el.css({paddingRight:i?d.scrollbarWidth():0}),this.lastHasScroll=i),t(e).css({maxHeight:this.getCssHeightCalcExpression()})},_beforeRequest:function(){this.serverCollection.isLoadingMore?this.$(".board-body").addClass("loading-more"):this.loadingMask.show()},_afterRequest:function(){this.loadingMask.hide(),this.$(".board-body").removeClass("loading-more")},onItemMove:function(e){const t={position:e.position,column:e.column,relativePosition:{}};e.column.get("items").length&&(0===e.position?t.relativePosition.insertBefore=e.column.get("items").at(0):t.relativePosition.insertAfter=e.column.get("items").at(Math.min(e.position-1,e.column.get("items").length-1))),s.defer((()=>{this.trigger("update",e.model,t)}))},onBoardBodyScroll:function(){const e=this.$(".board-body")[0];this.subview("header").$el.css({"margin-left":-1*e.scrollLeft}),e.scrollTop>e.scrollHeight-e.offsetHeight-50&&this.trigger("loadMoreIfPossible")}});return c}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/views/board/card-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/app/views/base/view.js"),s=i("./bundles/orolocale/js/formatter/number.js"),n=i("./bundles/orolocale/js/formatter/datetime.js"),o=i("./bundles/oroui/js/tools/scroll-helper.js"),r=i("./bundles/orodatagrid/js/app/views/grid/actions-view.js"),a=t.extend({className:"card-view",cardActionsElementSelector:'[data-placeholder-for="actions"]',template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/board/card-view.html"),keepElement:!1,earlyTransitionStatusChangeTimeout:2e3,events:{'click [data-action="navigate"]':"navigate"},listen:{"change model":"render"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){a.__super__.initialize.call(this,e),this.readonly=e.readonly,this.datagrid=e.datagrid,this.actions=e.actions,this.actionOptions=e.actionOptions,e.earlyTransitionStatusChangeTimeout&&(this.earlyTransitionStatusChangeTimeout=e.earlyTransitionStatusChangeTimeout)},getTemplateData:function(){const e=a.__super__.getTemplateData.call(this);return e.numberFormatter=s,e.datetimeFormatter=n,e.readonly=this.readonly,e},render:function(){a.__super__.render.call(this),this.$el.attr({"data-transition-status":this.model.get("transitionStatus"),"data-readonly":this.readonly}),this.trackErrorTransitionStatus(),this.trackEarlyTransitionStatusChange(),this.model?(this.$el.removeAttr("data-non-valid"),this.$el.data({model:this.model})):this.$el.attr("data-non-valid",""),this.renderCardActionsDropdown(this.cardActionsElementSelector)},trackErrorTransitionStatus:function(){"error"===this.model.get("transitionStatus")?this.scrolledToErrorCard||(o.scrollIntoView(this.el,void 0,20,20),this.scrolledToErrorCard=!0):delete this.scrolledToErrorCard},trackEarlyTransitionStatusChange:function(){const e=this.$el;if(e.removeClass("transition-status-just-changed"),clearTimeout(this.transitionStatusUpdateTimeout),!this.model.get("transitionStatusUpdateTime"))return;const t=(new Date).getTime(),i=this.model.get("transitionStatusUpdateTime").getTime(),s=this.earlyTransitionStatusChangeTimeout-(t-i);s>0&&(e.addClass("transition-status-just-changed"),this.transitionStatusUpdateTimeout=setTimeout((function(){e.removeClass("transition-status-just-changed")}),s))},navigate:function(e){e.preventDefault(),this.trigger("navigate",this.model,{doExecute:!0})},renderCardActionsDropdown:function(e){const t=this.$(e);t.length&&(this.cardActionsView?this.cardActionsView.setElement(t):this.cardActionsView=new r({el:t,actions:this.actions,model:this.model,actionConfiguration:this.model.get("action_configuration"),datagrid:this.datagrid,actionOptions:this.actionOptions,showCloseButton:!1}),this.cardActionsView.render())}});return a}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/views/board/column-header-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/app/views/base/view.js"),s=i("./bundles/orodatagrid/js/app/views/hint-view.js"),n=t.extend({className:"board-column-header",template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/board/column-header-view.html"),events:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.boardCollection=e.boardCollection,this.listenTo(this.boardCollection,"add remove reset sort",this.markIfEmpty),n.__super__.initialize.call(this,e),this.markIfEmpty()},markIfEmpty:function(){this.$el.toggleClass("empty",0===this.model.get("items").length)},onMouseEnter:function(e){this.subview("hint",new s({el:this.$("[data-grid-header-cell-label]"),offsetOfEl:this.$el,autoRender:!0,popoverConfig:{content:this.model.get("label")}})),this.hintTimeout=setTimeout(function(){const e=this.subview("hint");e&&!e.fullLabelIsVisible()&&e.show()}.bind(this),300)},onMouseLeave:function(e){clearTimeout(this.hintTimeout),this.subview("hint")&&this.removeSubview("hint")}});return n}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/views/board/column-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/jquery.js"),s=i("./bundles/oroui/js/app/views/base/view.js"),n=i("./bundles/oroui/js/app/views/base/collection-view.js"),o=s.extend({className:"board-column",template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/board/column-view.html"),constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.cardView=e.cardView,this.readonly=e.readonly,this.boardCollection=e.boardCollection,this.listenTo(this.boardCollection,"add remove reset sort",this.cleanupViews),o.__super__.initialize.call(this,e)},render:function(){const e=this;this.subview("columns")&&!this.readonly&&this.destroySortable(),o.__super__.render.call(this),this.subview("columns",new n({autoRender:!0,el:this.$el,collection:this.model.get("items"),itemView:this.cardView,animationDuration:0})),this.readonly||(this.listenTo(this.model.get("items"),"change reset add remove",(function(){e.$el.sortable("refresh")})),this.initSortable())},initSortable:function(){const e=this;this.subview("columns").$el.sortable({connectWith:".board-column",placeholder:"board-card-placeholder",cancel:"[data-non-valid]",forcePlaceholderSize:!0,start:function(){t(document.body).addClass("force-grabbed-cursor"),e.trigger("dragStart")},stop:function(){t(document.body).removeClass("force-grabbed-cursor"),e.trigger("dragEnd")},update:function(t,i){const s=i.item[0],n=Array.prototype.indexOf.call(s.parentNode.children,s);if(s.parentNode===e.el){if(!i.item.data("model"))throw new Error("Trying to receive non card element");e.trigger("move",{model:i.item.data("model"),column:e.model,position:n})}else o._lastDropIndex=n;return!1},receive:function(t,i){if(!i.item.data("model"))throw new Error("Trying to receive non card element");return e.trigger("move",{model:i.item.data("model"),column:e.model,position:o._lastDropIndex}),!1},over:function(){e.$el.addClass("drag-over")},out:function(){e.$el.removeClass("drag-over")}})},destroySortable:function(){this.subview("columns").$el.sortable("destroy")},cleanupViews:function(){const e=this.subview("columns");e&&e.cleanup()},dispose:function(){this.subview("columns")&&!this.readonly&&this.destroySortable(),o.__super__.dispose.call(this)}});return o}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/views/datagrid-settings-list/datagrid-settings-list-collection-view.js":(e,t,i)=>{var s;s=function(e,t,s){"use strict";const n=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid-settings/datagrid-settings-collection.html"),o=i("./bundles/oroui/js/extend/jquery.js"),r=i("./bundles/oroui/js/extend/underscore.js"),a=i("./bundles/oroui/js/app/views/base/collection-view.js"),l=i("./bundles/orodatagrid/js/app/models/datagrid-settings-list/datagrid-settings-list-filter-model.js"),d=i("./bundles/orodatagrid/js/app/views/datagrid-settings-list/datagrid-settings-list-item-view.js");let c=i("./bundles/oroui/js/app/services/module-config.js").Z(s.id);i("./bundles/oroui/js/extend/jquery-ui/widgets/sortable.js"),c=r.extend({fallbackSelector:".no-data"},c);const u=a.extend({animationDuration:0,template:n,itemView:d,className:"dropdown-menu",listSelector:"tbody",fallbackSelector:c.fallbackSelector,events:{"click tbody tr [data-role=moveUp]":"onMoveUp","click tbody tr [data-role=moveDown]":"onMoveDown"},listen:{"change collection":"filter",visibilityChange:"updateHeaderWidths","layout:reposition mediator":"updateHeaderWidths"},orderShift:0,filterModel:null,addSorting:!0,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(r.extend(this,r.pick(e,["orderShift","filterModel","addSorting"])),!(this.filterModel instanceof l))throw new TypeError('Invalid required option "filterModel"');e.filterer=this.filterModel.filterer.bind(this.filterModel),u.__super__.initialize.call(this,e)},delegateListeners:function(){return this.listenTo(this.filterModel,"change",this.filter),u.__super__.delegateListeners.call(this)},render:function(){return u.__super__.render.call(this),this.addSorting&&this.initSorting(),this.updateHeaderWidths(),this},initItemView:function(...e){const t=u.__super__.initItemView.apply(this,e);return t.setFilterModel(this.filterModel),t.setSorting(this.addSorting),t},getTemplateData:function(){const e=u.__super__.getTemplateData.call(this);return e.addSorting=this.addSorting,e},initSorting:function(){let e;this.$("tbody").sortable({cursor:"move",delay:50,revert:10,axis:"y",containment:this.$("tbody"),items:"tr",tolerance:"pointer",handle:".handle",helper:(t,i)=>(e=o("<tr />",{class:"sortable-placeholder"}),i.children().each((function(){const t=o(this).width();o(this).width(t),e.append(o("<td />").append(o("<div/>").width(t)))})),i.parent().append(e),i),stop:()=>{e.remove(),this.onReorder()}}).disableSelection()},onMoveUp:function(e){const t=this.$(e.currentTarget).closest("tr"),i=t.prev();i.length&&(t.insertBefore(i),this.onReorder())},onMoveDown:function(e){const t=this.$(e.currentTarget).closest("tr"),i=t.next();i.length&&(t.insertAfter(i),this.onReorder())},onReorder:function(){let e=!1;const t=this.$("tbody tr").toArray();r.each(this.subviews,(function(i){const s=t.indexOf(i.el)+this.orderShift;i.model.get("order")!==s&&(e=!0,i.model.set("order",s))}),this),e&&(this.collection.sort(),this.trigger("reordered"))},toggleFallback:function(){const e=Boolean(this.visibleItems.length);this.$('[data-role="datagrid-settings-table-header-wrapper"], [data-role="datagrid-settings-table-wrapper"]').toggle(e),u.__super__.toggleFallback.call(this)},updateHeaderWidths:function(){let e;const t=this.$('[data-role="datagrid-settings-table-wrapper"]'),i=t.children("table"),s=i.find("thead th"),n=this.$('[data-role="datagrid-settings-table-header-wrapper"] tr th');for(t.css("padding-"+(r.isRTL()?"left":"right"),0),t[0].clientWidth>0&&t.css("padding-"+(r.isRTL()?"left":"right"),i.width()-t[0].clientWidth+"px"),e=0;e<s.length-1;e+=1)o(n[e]).width(o(s[e]).width())}});return u}.call(t,i,t,e),void 0===s||(e.exports=s)},"./bundles/orodatagrid/js/app/views/datagrid-settings-list/datagrid-settings-list-filter-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid-settings/datagrid-settings-filter.html"),s=i("./bundles/oroui/js/extend/underscore.js"),n=i("./bundles/oroui/js/mediator.js"),o=i("./bundles/oroui/js/app/views/base/view.js").extend({template:t,autoRender:!0,events:{'input [data-role="datagrid-settings-search"]':"onSearch",'click [data-role="datagrid-settings-clear-search"]':"onClearSearch",'click [data-role="datagrid-settings-show-all"]':"onShowAll",'click [data-role="datagrid-settings-show-selected"]':"onShowSelected"},listen:{"change model":"updateView"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.onSearch=s.debounce(this.onSearch,100),o.__super__.initialize.call(this,e)},updateView:function(){const e=this.model.get("search"),t=Boolean(this.model.get("renderable"));this.$('[data-role="datagrid-settings-search"]').val(e),this.$('[data-role="datagrid-settings-search-wrapper"]').toggleClass("empty",!e.length),this.$('[data-role="datagrid-settings-show-all"]').toggleClass("active",!t),this.$('[data-role="datagrid-settings-show-selected"]').toggleClass("active",t),n.trigger("layout:reposition")},onSearch:function(e){this.model.set("search",e.currentTarget.value)},onClearSearch:function(e){e.preventDefault(),e.stopPropagation(),this.$('[data-role="datagrid-settings-search"]').focus(),this.model.set("search",""),n.trigger("layout:reposition")},onShowAll:function(e){e.preventDefault(),e.stopPropagation(),this.model.set("renderable",!1)},onShowSelected:function(e){e.preventDefault(),e.stopPropagation(),this.model.set("renderable",!0)}});return o}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/views/datagrid-settings-list/datagrid-settings-list-item-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid-settings/datagrid-settings-item.html"),s=i("./bundles/oroui/js/extend/jquery.js"),n=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/oroui/js/app/views/base/view.js").extend({template:t,tagName:"tr",events:{"change input[type=checkbox][data-role=renderable]":"updateModel"},listen:{addedToParent:"delegateEvents","change:disabledVisibilityChange model":"render","change:renderable model":"updateView"},addSorting:!1,constructor:function e(t){e.__super__.constructor.call(this,t)},render:function(){return o.__super__.render.call(this),this.$el.toggleClass("renderable",this.model.get("renderable")),this.$el.inputWidget("seekAndCreate"),this},setFilterModel:function(e){this.filterModel=e,this.listenTo(this.filterModel,"change:search",this.render)},setSorting:function(e){this.addSorting=e},getTemplateData:function(){const e=this.filterModel.get("search"),t=o.__super__.getTemplateData.call(this);return t.cid=this.model.cid,t.label=n.escape(t.label),e.length>0&&(t.label=this.highlightLabel(t.label,e)),t.addSorting=this.addSorting,t},highlightLabel:function(e,t){let i=e;const s=t.length,n=e.toLowerCase().indexOf(t.toLowerCase());return-1!==n&&(i=e.substr(0,n)+'<span class="column-filter-match">'+e.substr(n,s)+"</span>"+e.substr(n+s)),i},updateModel:function(e){const t=s(e.target).prop("checked");this.model.set("renderable",t)},updateView:function(){const e=this.model.get("renderable");this.$("input[type=checkbox][data-role=renderable]").prop("checked",e),this.$el.toggleClass("renderable",e)}});return o}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/views/datagrid-settings-list/datagrid-settings-list-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid-settings/datagrid-settings.html"),s=i("./bundles/oroui/js/extend/underscore.js"),n=i("./bundles/oroui/js/extend/jquery.js"),o=i("./bundles/oroui/js/app/views/base/view.js").extend({template:t,autoRender:!0,className:"dropdown-menu",events:{'click [data-role="datagrid-settings-select-all"]':"onSelectAll",'click [data-role="datagrid-settings-unselect-all"]':"onUnselectAll",'click [data-role="datagrid-settings-reset"]':"reset",'click [data-role="close"]':"closeDropdown"},listen:{"change:renderable collection":"onRenderableChange","layout:reposition mediator":"adjustListHeight"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){o.__super__.initialize.call(this,e),this.filterer=e.columnFilterModel.filterer.bind(e.columnFilterModel),this.onRenderableChange=s.debounce(this.onRenderableChange,0),this.listenTo(e.columnFilterModel,"change",this.updateView)},render:function(){return o.__super__.render.call(this),this.updateView(),this},updateView:function(){const e=this._getFilteredModels(),t=Boolean(s.find(e,(function(e){return!e.get("renderable")}))),i=Boolean(s.find(e,(function(e){return e.get("renderable")}))),n=Boolean(s.find(e,(function(e){return e.get("renderable")!==e.get("metadata").renderable}))),o=[{$el:this.$('[data-role="datagrid-settings-select-all"]'),toApply:!t},{$el:this.$('[data-role="datagrid-settings-unselect-all"]'),toApply:!i},{$el:this.$('[data-role="datagrid-settings-reset"]'),toApply:!n}];for(const{$el:e,toApply:t}of o)e.toggleClass("disabled",t),e.is(":button")?e.attr("disabled",t):e.attr("aria-disabled",t);this.toggleWholeSelectButtons(t)},toggleWholeSelectButtons:function(e){this.$('[data-role="datagrid-settings-select-all"]').toggleClass("hide-action",!e),this.$('[data-role="datagrid-settings-unselect-all"]').toggleClass("hide-action",e)},adjustListHeight:function(){const e=n(window).height(),t=this.$('[data-role="datagrid-settings-table-wrapper"]'),i=(this.$('[data-role="datagrid-settings-footer"]').outerHeight()||0)+this.getUIDialogActionHeight()+this.getDropdownBottomInnerOffset(),s=t[0].getBoundingClientRect(),o=(this.$('[data-role="datagrid-settings-table"]').outerHeight(!0)-s.height)/2;t.css("max-height",Math.max(e-s.top-o-i,120)+"px")},getUIDialogActionHeight:function(){const e=this.$el.closest(".ui-dialog").find(".ui-dialog-buttonpane");return e.length?e.outerHeight():0},getDropdownBottomInnerOffset:function(){const e=this.$el.closest(".dropdown-menu");return parseInt(e.length?window.getComputedStyle(e.get(0),null).getPropertyValue("padding-bottom"):0)},updateStateView:function(){this.adjustListHeight()},onRenderableChange:function(){this.updateView()},onSelectAll:function(e){e.preventDefault(),s.each(this._getFilteredModels(),(function(e){e.set("renderable",!0)}))},onUnselectAll:function(e){e.preventDefault(),s.each(this._getFilteredModels(),(function(e){e.get("disabledVisibilityChange")||e.set("renderable",!1)}))},reset:function(e){e.preventDefault(),s.each(this._getFilteredModels(),(function(e){e.set("renderable",e.get("metadata").renderable)}))},_getFilteredModels:function(){return s.filter(this.collection.filter(this.filterer),(function(e){return!e.get("disabledVisibilityChange")}))},closeDropdown:function(){this.$el.trigger("tohide.bs.dropdown")}});return o}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/views/grid/actions-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/jquery.js"),s=i("./bundles/oroui/js/extend/underscore.js"),n=i("./bundles/orotranslation/js/translator.js"),o=i("./bundles/oroui/js/app/views/base/view.js").extend({actions:void 0,actionsHideCount:3,launchers:void 0,showCloseButton:!1,baseMarkup:s.template('<div class="more-bar-holder"><div class="dropleft"><a class="dropdown-toggle" href="#" role="button" id="<%- togglerId %>" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="<%- label %>"><span class="icon fa-ellipsis-h" aria-hidden="true"></span></a><ul class="dropdown-menu dropdown-menu__action-cell launchers-dropdown-menu" aria-labelledby="<%- togglerId %>"></ul></div></div>'),simpleBaseMarkup:s.template('<div class="more-bar-holder action-row"></div>'),closeButtonTemplate:s.template('<li class="dropdown-close"><i class="fa-close hide-text">'+n("Close")+"</i></li>"),launchersContainerSelector:".launchers-dropdown-menu",launchersListTemplate:s.template('<% if (withIcons) { %><li><ul class="launchers-list"></ul></li><% } else { %><li class="well-small"><ul class="unstyled launchers-list"></ul></li><% } %>'),simpleLaunchersListTemplate:s.template('<% if (withIcons) { %><ul class="launchers-list"></ul><% } else { %><ul class="unstyled launchers-list"></ul><% } %>'),launcherItemTemplate:s.template('<li class="launcher-item"></li>'),events:{click:"_showDropdown","mouseover .dropdown-toggle":"_showDropdown","mouseleave .dropleft.show":"_hideDropdown","click .dropdown-close .fa-close":"_hideDropdown"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){const t=e||{};this.subviews=[],s.isEmpty(t.actionsHideCount)||(this.actionsHideCount=t.actionsHideCount),this.showCloseButton=t.showCloseButton,o.__super__.initialize.call(this,e),this.actions=this.createActions(t),s.each(this.actions,(function(e){this.listenTo(e,"preExecute",this.onActionRun)}),this),this.subviews.push(...this.actions)},dispose:function(){this.disposed||(delete this.actions,delete this.column,o.__super__.dispose.call(this))},onActionRun:function(e){this.$('.show > [data-toggle="dropdown"]').trigger("tohide.bs.dropdown")},createActions:function(e){const t=[],i=e.actions,n=e.actionConfiguration;return s.each(i,(function(i,s){n&&!1===n[s]||t.push(this.createAction(i,e))}),this),t},isEmpty:function(){return!this.actions.length},createAction:function(e,t){return new e(s.extend({model:t.model,datagrid:t.datagrid},t.actionOptions))},createLaunchers:function(){return s.map(this.actions,(function(e){return e.createLauncher({})}),this)},render:function(){let e=!1;return s.isEmpty(this.actions)?(this.$el.empty(),this):(this.actions.length<this.actionsHideCount&&(e=!0,this.baseMarkup=this.simpleBaseMarkup,this.launchersListTemplate=this.simpleLaunchersListTemplate,this.launchersContainerSelector=".more-bar-holder"),this.$el.html(this.baseMarkup(this.getTemplateData())),this.isLauncherListFilled=!1,e&&this.fillLauncherList(),this)},getTemplateData:function(){return{togglerId:"actions-view-dropdown-"+this.cid,label:n("oro.datagrid.card_actions.label")}},fillLauncherList:function(){if(!this.isLauncherListFilled){this.isLauncherListFilled=!0;const e=this.createLaunchers(),t=this.getLaunchersByIcons(e),i=this.$(this.launchersContainerSelector);this.showCloseButton&&e.length>=this.actionsHideCount&&i.append(this.closeButtonTemplate()),t.withIcons.length&&this.renderLaunchersList(t.withIcons,{withIcons:!0}).appendTo(i),t.withIcons.length&&t.withoutIcons.length&&i.append('<li class="divider"></li>'),t.withoutIcons.length&&this.renderLaunchersList(t.withoutIcons,{withIcons:!1}).appendTo(i)}},renderLaunchersList:function(e,i){i=i||{};const n=t(this.launchersListTemplate(i)),o=n.filter(".launchers-list").length?n:t(".launchers-list",n);return s.each(e,(function(e){o.append(this.renderLauncherItem(e))}),this),n},renderLauncherItem:function(e,i){i=i||{};const s=t(this.launcherItemTemplate(i)),n=s.filter(".launcher-item").length?s:t(".launcher-item",s);n.append(e.render().$el);const o="mode-"+e.launcherMode;return n.addClass(o),s},getLaunchersByIcons:function(e){const t={withIcons:[],withoutIcons:[]};return s.each(e,(function(e){e.icon?t.withIcons.push(e):t.withoutIcons.push(e)}),this),t},_showDropdown:function(e){this.fillLauncherList(),this.$('[data-toggle="dropdown"]').parent().hasClass("show")||this.$('[data-toggle="dropdown"]').dropdown("toggle"),e.stopPropagation()},_hideDropdown:function(e){this.$('[data-toggle="dropdown"]').parent().hasClass("show")&&this.$('[data-toggle="dropdown"]').dropdown("toggle"),e.stopPropagation()}});return o}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/views/grid/datagrid-manage-column-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/tools.js"),n=i("./bundles/orodatagrid/js/app/views/grid/datagrid-module-manager-view.js"),o=i("./bundles/orodatagrid/js/app/models/datagrid-settings-list/datagrid-settings-list-collection.js"),r=n.extend({defaultState:null,listen:{"dropdown-launcher:hide mediator":"_onDatagridSettingsHide"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this._createManagedCollection(),this.defaultState=s.deepClone(this.grid.collection.state),this._onDatagridSettingsHide=t.debounce(this._onDatagridSettingsHide,100),r.__super__.initialize.call(this,e),this._applyState(this.grid.collection,this.grid.collection.state)},delegateListeners:function(){return this.listenTo(this.grid.collection,"updateState",this._applyState),this.listenTo(this.grid.collection,"sync",this._onSync),this.listenTo(this.collection,"change:renderable",t.debounce(this._pushState,this.pushStateTimeout)),this.listenTo(this.collection,"sort",(function(){this.columns.sort()})),n.__super__.delegateListeners.call(this)},_createManagedCollection:function(){const e=[];this.collection.each((function(i,s){const n=!1!==i.get("manageable");(t.isUndefined(i.get("order"))||n)&&i.set("order",s,{silent:!0}),n&&e.push(i)})),this.collection=new o(e)},_pushState:function(){if(this._applyingState||this._isStateSynced())return;const e=this._createState();this.grid.collection.updateState({columns:e})},_applyState:function(e,i){const{columns:s}=i||this.grid.collection.state;this._isStateSynced(i)||(this._applyingState=!0,this.collection.each((function(e,i){let n;const o=e.get("name");n=s[o]?t.defaults(t.pick(s[o],["renderable","order"]),{renderable:!0}):{renderable:!0,order:i},e.set(n)})),this.collection.sort(),this._applyingState=!1)},_isStateSynced(e){const{columns:t}=e||this.grid.collection.state,i=this._createState();return s.isEqualsLoosely(i,t)},_createState:function(){const e={};return this.collection.each((function(t){const i=t.get("name"),s=t.get("order");e[i]={renderable:t.get("renderable")},void 0!==s&&(e[i].order=s)}),this),e},_onSync:function(){this.defaultState=s.deepClone(this.grid.collection.state)},_onDatagridSettingsHide:function(){this._pushState(),this._isRefreshNeeded(this.defaultState)&&this._refreshCollection()},_isRefreshNeeded:function(e){const{refresh:i}=this.grid.collection.state.parameters||{};return!i&&t.filter(this._createState(),(function(t,i){return t.renderable&&!e.columns[i].renderable})).length>0},_refreshCollection:function(){this.grid.setAdditionalParameter("refresh",!0),this.grid.collection.fetch({reset:!0}).then((()=>{this.grid.removeAdditionalParameter("refresh")}))}});return r}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/views/grid/datagrid-manage-filter-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/mediator.js"),n=i("./bundles/orodatagrid/js/app/views/grid/datagrid-module-manager-view.js"),o=i("./bundles/orodatagrid/js/app/models/datagrid-settings-list/datagrid-settings-list-collection.js"),r=n.extend({constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){const t=this._applyState(e.collection,this.grid.collection.state.filters);this.collection=new o(t),this.defaultState=this._getEnabledState(),r.__super__.initialize.call(this,e)},delegateListeners:function(){return this.listenTo(this.grid.collection,"sync",this._onSync),this.listenTo(this.collection,"change:renderable",t.debounce(this._pushState,this.pushStateTimeout)),n.__super__.delegateListeners.call(this)},_pushState:function(){const e=this._getEnabledState();t.haveEqualSet(this.defaultState,e)||s.trigger("filters:update",e)},_onSync:function(){this.defaultState=this._getEnabledState()},_getEnabledState:function(){const e=[];return this.collection.each((function(t){t.get("renderable")&&e.push(t.get("name"))}),this),e},_applyState:function(e,i){return t.each(e,(function(e){const s="__"+e.name;t.has(i,s)&&(e.renderable="0"!==i[s]),e.metadata={renderable:e.renderable}})),e}});return r}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/views/grid/datagrid-module-manager-view.js":(e,t,i)=>{var s;s=function(e,t,s){"use strict";const n=i("./bundles/oroui/js/app/views/base/view.js"),o=i("./bundles/oroui/js/extend/underscore.js"),r=i("./bundles/orodatagrid/js/extend/backgrid.js"),a=i("./bundles/orodatagrid/js/app/models/datagrid-settings-list/datagrid-settings-list-filter-model.js"),l=i("./bundles/orodatagrid/js/app/views/datagrid-settings-list/datagrid-settings-list-filter-view.js"),d=i("./bundles/orodatagrid/js/app/views/datagrid-settings-list/datagrid-settings-list-collection-view.js"),c=i("./bundles/orodatagrid/js/app/views/datagrid-settings-list/datagrid-settings-list-view.js");let u=i("./bundles/oroui/js/app/services/module-config.js").Z(s.id);u=o.extend({enableFilters:!0},u);const h=n.extend({optionNames:n.prototype.optionNames.concat(["columns","grid","collection","addSorting","enableFilters","datagridSettingsListView"]),columns:null,collection:null,grid:null,addSorting:!0,enableFilters:u.enableFilters,datagridSettingsListView:c,collectionFilterModel:null,pushStateTimeout:200,_defaultState:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(!(e.columns instanceof r.Columns))throw new TypeError('The "columns" option have to be instance of Backgrid.Columns');if(!(e.grid instanceof r.Grid))throw new TypeError('The "grid" option have to be instance of Backgrid.Grid');this.collection.comparator="order",this.collectionFilterModel=new a,this.render=this.render.bind(this,e),h.__super__.initialize.call(this,e)},dispose:function(){this.disposed||(delete this.columns,delete this.grid,h.__super__.dispose.call(this))},render:function(e){const t=this.collection[0]?this.collection[0].get("order"):0;this.subview("datagridSettingsListView",new this.datagridSettingsListView({el:e._sourceElement,collection:this.collection,columnFilterModel:this.collectionFilterModel})),this.enableFilters&&this.subview("datagridSettingsListFilterView",new l({el:this.subview("datagridSettingsListView").$('[data-role="datagrid-settings-filter"]').get(0),model:this.collectionFilterModel})),this.subview("datagridSettingsListCollectionView",new d({el:this.subview("datagridSettingsListView").$('[data-role="datagrid-settings-table"]').get(0),collection:this.collection,filterModel:this.collectionFilterModel,addSorting:this.addSorting,orderShift:t})),this.listenTo(this.subview("datagridSettingsListCollectionView"),"reordered",this._pushState)},beforeOpen:function(e){this.subview("datagridSettingsListCollectionView")||this.render(),o.invoke(this.subviews,"beforeOpen",e)},updateViews:function(){this.subview("datagridSettingsListCollectionView").updateHeaderWidths(),this.subview("datagridSettingsListView").updateStateView()}});return h}.call(t,i,t,e),void 0===s||(e.exports=s)},"./bundles/orodatagrid/js/app/views/grid/datagrid-settings-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/extend/jquery.js"),n=i("./bundles/oroui/js/app/views/base/view.js"),o=i("./bundles/oroui/js/app/views/tab-collection-view.js"),r=i("./bundles/oroui/js/app/models/base/collection.js"),a=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/grid-settings.html"),l=i("./bundles/oroui/js/mediator.js"),d=n.extend({optionNames:["viewConstructors","title","template"],autoRender:!0,template:a,title:t.__("oro.datagrid.settings.title"),tabsNav:"[data-tabs-nav]",tabsContent:"[data-tabs-content]",views:null,uniqueId:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.options=e,d.__super__.initialize.call(this,e),this.uniqueId=t.uniqueId(this.cid),this.views=new r(t.map(this.viewConstructors,(function(e,i){return 0===i&&(e.active=!0),e.uniqueId=t.uniqueId(e.id),e.id="datagrid-settings-"+e.id+"-"+this.uniqueId,e}),this)),this.setElement(e._sourceElement)},dispose:function(){this.disposed||d.__super__.dispose.call(this)},onTabChange:function(e){this.views.each((function(e){this.getElement(e.id).hide()}),this),e.hasChanged("active")&&!0===e.get("active")&&(this.getElement(e.id).show(),this.subview(e.id).updateViews(),this.getElement(e.get("uniqueId")).tab("show"))},getElement:function(e){return s("#"+e)},render:function(){d.__super__.render.call(this),this.tabs=new o({el:this.$(this.tabsNav),animationDuration:0,collection:this.views,useDropdown:this.options.useDropdown}),this.views.each(this.renderSubview,this),this.listenTo(this.views,"change",this.onTabChange),l.execute("hideLoading")},renderSubview:function(e){const i=e.get("id"),s=e.get("view");this.subview(i,new s(t.extend({_sourceElement:this.$("#"+i),grid:this.options.grid,columns:this.options.columns},e.get("options"))))},getTemplateData:function(){return{title:this.title,views:this.views.toJSON(),viewId:this.uniqueId}},updateViews:function(){t.invoke(this.subviews,"updateViews")},beforeOpen:function(e){t.invoke(this.subviews,"beforeOpen",e)}});return d}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/views/hint-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/app/views/base/view.js"),s=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/hint/hint-view-template.html"),n=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/oroui/js/extend/jquery.js"),r={content:"",trigger:"manual",placement:"bottom",animation:!1,container:"body",template:s()},a=t.extend({noWrap:!0,offsetOfEl:null,textEl:"[data-grid-header-cell-text]",constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){n.extend(this,n.pick(e,["offsetOfEl","textEl","popoverConfig"])),this.$el.popover(n.extend({offset:this.calcPopoverOffset()},r,this.popoverConfig)),a.__super__.initialize.call(this,e)},show:function(){this.disposed||this.$el.popover("show")},hide:function(){this.disposed||this.$el.popover("hide")},fullLabelIsVisible:function(){const e=this.$(this.textEl).get(0)||null;return!e||e.scrollWidth<=e.offsetWidth},calcPopoverOffset:function(){let e=0;const t=o(this.offsetOfEl);return t.length&&(e=t[0].getBoundingClientRect().bottom-this.$el[0].getBoundingClientRect().bottom),[0,e].join(", ")},dispose:function(){this.disposed||(this.$el.popover("hide"),this.$el.popover("dispose"),a.__super__.dispose.call(this))}});return a}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/views/inline-editing/error-holder-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/jquery.js"),s=i("./bundles/oroui/js/extend/underscore.js"),n=i("./bundles/oroui/js/app/views/base/view.js"),o=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/inline-editing/error-holder.html");function r(e){if(!e||!s.isFunction(e.getBoundingClientRect))return null;const t=s.pick(e.getBoundingClientRect(),["top","right","bottom","left","width","height"]);return s.forEach(e.childNodes,(function(e){const i=r(e);i&&(t.top=Math.min(t.top,i.top),t.left=Math.min(t.left,i.left),t.right=Math.max(t.right,i.right),t.bottom=Math.max(t.bottom,i.bottom))})),t.width=t.right-t.left,t.height=t.bottom-t.top,t}i("../node_modules/jquery-ui/ui/position.js");const a=n.extend({keepElement:!0,DEFAULT_POSITION:"top",POSITION_CLASSES:{bottom:"error-message-below",right:"error-message-right",left:"error-message-left"},DROPDOWNS:[".select2-container.select2-drop-below",".timepicker-dialog-is-below",".ui-datepicker-dialog-is-below"],DROPUPS:[".select2-container.select2-drop-above",".timepicker-dialog-is-above",".ui-datepicker-dialog-is-above"],offsetDefault:{top:0,right:0,bottom:0,left:0},events:{click:"updatePosition",mouseenter:"updatePosition",updatePosition:"updatePosition","datepicker:dialogShow":"updatePosition","datepicker:dialogReposition":"updatePosition","datepicker:dialogHide":"updatePosition",showTimepicker:"updatePosition",hideTimepicker:"updatePosition","select2-open":"updatePosition","select2-close":"updatePosition"},within:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(!e.within)throw new Error('Option "within" is required');this._errors={},s.extend(this,s.pick(e,["within"])),a.__super__.initialize.call(this,e)},render:function(){const e=this.$("form");this.$(".error-holder").remove(),this.$el.toggleClass("has-error",!s.isEmpty(this._errors)),s.isEmpty(this._errors)||(e.length&&e.data("validator")?e.data("validator").showErrors(this._errors):this.$el.append(o({messages:this._errors})))},dispose:function(){this.disposed||(this.$(".error-holder").remove(),this.$el.removeClass("has-error"),delete this.within,a.__super__.dispose.call(this))},getWithinRect:function(){const e=s.pick(this.within[0].getBoundingClientRect(),["top","right","bottom","left","width","height"]),i=this.within.find("thead:first").outerHeight(),n=t.position.scrollbarWidth();return e.top+=i,e.height-=i,this.within.find(".grid-container").height()>e.height&&(e.right-=n,e.width-=n),this.within.find(".grid-container").width()>e.width&&(e.bottom-=n,e.height-=n),e},updatePosition:function(){const e=this.getErrorMessageElements();if(0===e.length)return;const t=this.getWithinRect(),i=s.keys(this.POSITION_CLASSES),n=this.getPositionByClass();if(n===this.DEFAULT_POSITION){if(this.checkPosition(n,t,e[0]))return}else i.unshift(this.DEFAULT_POSITION);const o=e.css("opacity");e.css("opacity",0);for(let s=0;s<i.length;s++){const n=i[s];if(this.setPositionClass(n),this.checkPosition(n,t,e[0]))break}e.css("opacity",o)},checkPosition:function(e,t,i){const n="check"+s.capitalize(e);return!!s.isFunction(this[n])&&this[n](t,i)},checkTop:function(e,t){if(this.$(this.DROPUPS.join(", ")).length>0)return!1;const i=r(t);return i&&i.top>=e.top&&i.right<=e.right},checkBottom:function(e,t){if(this.$(this.DROPDOWNS.join(", ")).length>0)return!1;const i=r(t);return i&&i.bottom<=e.bottom&&i.right<=e.right},checkRight:function(e,t){const i=r(t);return i&&i.right<=e.right},checkLeft:function(e,t){const i=r(t);return i&&i.left>=e.left},getErrorMessageElements:function(){return this.$(".validation-failed:visible")},setErrorMessages:function(e){this._errors=e,this.render()},parseValidatorErrors:function(e){const t={};s.each(e,(function(e){t[e.element.getAttribute("name")]=e.message}),this),this._errors=t},setPositionClass:function(e){const t=s.values(s.omit(this.POSITION_CLASSES,e));this.$el.removeClass(t.join(" ")),e!==this.DEFAULT_POSITION&&this.$el.addClass(s.result(this.POSITION_CLASSES,e))},getPositionByClass:function(){return s.findKey(this.POSITION_CLASSES,(function(e){return this.$el.hasClass(e)}),this)||this.DEFAULT_POSITION}});return a}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/app/views/multi-grid-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/extend/jquery.js"),n=i("./bundles/oroactivity/js/app/models/activity-context-collection.js"),o=i("./bundles/oroui/js/app/views/base/view.js"),r=i("./bundles/oroui/js/widget/widget-manager.js"),a=i("./bundles/fosjsrouting/js/router.js");return o.extend({constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.options=e,this.template=t.template(s("#multi-grid-item").html()),this.collection=new n,this.initEvents(),this.options.items&&(t.first(this.options.items).first=!0,t.each(t.rest(this.options.items),(function(e){e.first=!1})),this.collection.add(this.options.items))},add:function(e){this.collection.add(e)},render:function(){0===this.collection.models.length?this.$el.hide():this.$el.show()},initEvents:function(){const e=this,i=this.$(".context-items-dropdown"),n=this.$(".activity-context-current-item");this.collection.on("add",(function(o){let l=e.options.params.grid_query||{params:{}};l.params.class_name=o.get("className"),l.gridName=o.get("gridName"),t.isUndefined(e.options.params.routeParams)||(l=t.extend({},l,{params:e.options.params.routeParams}));const d=a.generate("oro_datagrid_widget",l),c=e.template({entity:o}),u=s(c);o.attributes.first&&(n.html(o.attributes.label),e.currentTargetClass(o.attributes.className)),i.append(u),i.find(".dropdown-item:last").click((function(){e.currentTargetClass(o.attributes.className),i.find(".dropdown-item").each((function(){s(this).removeClass("active")}));const t=s(this);n.html(t.html()),t.addClass("active");const a=e.options.gridWidgetName;r.getWidgetInstanceByAlias(a,(function(e){e.setUrl(d),e.render()}))}))}))},currentTargetClass:function(e){return t.isUndefined(e)?e=this._currentTargetClass:this._currentTargetClass=e,e}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/appearance/builder.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/jquery.js"),s=i("./bundles/oroui/js/tools.js"),n=i("./bundles/oroui/js/error.js");return{processDatagridOptions:function(e,i){if(!s.isMobile()&&i.metadata.options.appearances&&i.metadata.options.appearances.length)return t.when(...this.prepareAppearances(i.metadata.options.appearances,i)).done((function(){e.resolve()})).fail((function(t){n.showErrorInConsole(t),e.resolve()})),e;e.resolve()},init:function(e,t){e.resolve()},prepareAppearances:function(e,t){return e.map((function(e){if(e.plugin)return s.loadModuleAndReplace(e,"plugin").then((function(){return e.plugin.processMetadata(e,t)}))}))}}}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/cell-links/builder.js":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var s=i("./bundles/oroui/js/extend/underscore.js"),n=i.n(s),o=i("./bundles/oroui/js/app/plugins/base/plugin.js"),r=i.n(o),a=i("./bundles/oroui/js/app/views/base/view.js"),l=i.n(a);const d=l().extend({autoRender:!0,className:"cell-link",tagName:"a",containerMethod:"prepend",optionNames:l().prototype.optionNames.concat(["url"]),url:null,events:{click:"onClick"},attributes(){return{href:this.url,"data-include":!0}},constructor:function e(...t){e.__super__.constructor.apply(this,t)},onClick(e){1===e.which&&e.preventDefault()}});var c=i("./bundles/oroui/js/tools.js");const u=r().extend({constructor:function e(...t){e.__super__.constructor.apply(this,t)},enable(){this.main.columns?this.processColumnsAndListenEvents():this.listenToOnce(this.main,"columns:ready",this.processColumnsAndListenEvents),u.__super__.enable.call(this)},processColumnsAndListenEvents:function(){this.processColumns()},processColumns:function(){const{rowClickAction:e}=this.main;e&&e.prototype.link&&(this.clickRowActionLink="navigate"===e.prototype.type&&e.prototype.link),this.main.columns.each(this.patchCellConstructor.bind(this))},patchCellConstructor:function(e){const t=e.get("cell"),i=this.clickRowActionLink,s=t.extend({rowUrl:null,delegateEvents(){t.__super__.delegateEvents.call(this),this.rowUrl=!!i&&this.model.get(i),this.rowUrl&&((0,c.isTouchDevice)()?(this.createCellLinkView=n().debounce(this.createCellLinkView.bind(this),50),this.destroyCellLinkView=n().debounce(this.destroyCellLinkView.bind(this),50),this.$el.on(`touchstart${this.eventNamespace()}`,this.createCellLinkView.bind(this)),this.$el.on(`touchend${this.eventNamespace()} touchcancel${this.eventNamespace()}`,this.destroyCellLinkView.bind(this))):(this.$el.on(`mouseenter${this.eventNamespace()}`,this.createCellLinkView.bind(this)),this.$el.on(`mouseleave${this.eventNamespace()}`,this.destroyCellLinkView.bind(this))),this.listenTo(this,"before-enter-edit-mode",this.disposeCellLink.bind(this)))},isSkipRowClick(){return!n().isUndefined(this.skipRowClick)&&this.skipRowClick},createCellLinkView(e){this.inEditMode()||"touchstart"===e.type&&"A"===e.target.tagName||this.subview("cell-link",new d({container:this.$el,url:this.rowUrl}))},destroyCellLinkView(){this.disposeCellLink()},inEditMode(){return this.$el.hasClass("edit-mode")},disposeCellLink(){this.subview("cell-link")&&this.subview("cell-link").dispose()}});e.set({cell:s,oldCell:t})}}),h=u,p={processDatagridOptions(e,t){t.metadata.rowLinkEnabled?(t.metadata.plugins||(t.metadata.plugins=[]),t.metadata.plugins.push(h),e.resolve()):e.resolve()},init:function(e){e.resolve()}}},"./bundles/orodatagrid/js/datagrid-theme-options-manager.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/jquery.js"),s=i("./bundles/oroui/js/extend/underscore.js");return{defaults:{optionPrefix:"",tagName:"",className:"",hide:!1,template:null,templateSelector:null,el:null,elFilter:null},createConfigurator:function(e){const t=s.extend({gridThemeOptions:e},this);return t.configure.bind(t)},configure:function(e,i,n){const o=i.themeOptions=t.extend(!0,{},this.defaults,e.prototype.themeOptions||{},i.themeOptions||{},this.gridThemeOptions),r=o.optionPrefix;r&&s.each(o,(function(e,t){r&&0===t.indexOf(r)&&(delete o[t],t=(t=t.replace(r,"")).charAt(0).toLowerCase()+t.slice(1),o[t]=e)})),s.each(o,((t,o)=>{const r=o+"Option";s.isFunction(this[r])&&this[r](e,i,t,n)}))},mergeOption:function(e,t,i,n,o){if(n)if(void 0===t[i]&&(t[i]=e.prototype[i]),s.isFunction(t[i])){const e=t[i];t[i]=function(){const t=e.call(this);return o(t,n)}}else t[i]=o(t[i],n)},tagNameOption:function(e,t,i){i&&(t.tagName=i)},attributesOption:function(e,i,s){this.mergeOption(e,i,"attributes",s,(function(e,i){return t.extend(!0,{},e||{},i)}))},classNameOption:function(e,t,i){this.mergeOption(e,t,"className",i,(function(e,t){return(e?e+" ":"")+t}))},templateOption:function(e,t,i){i&&(t.template=s.template(i))},templateSelectorOption:function(e,i,n){n&&(i.template=s.template(t(n).html()))},elOption:function(e,t,i,s){i&&(i=s.$el.find(i),t.elFilter&&(i=i.filter(t.elFilter)),t.el=i.get(0)||null)}}}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/action-component-dropdown-launcher.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/mediator.js"),n=i("./bundles/orodatagrid/js/datagrid/action-launcher.js"),o=i("./bundles/orodatagrid/js/datagrid/datagrid-settings-dialog-widget.js"),r=n.extend({template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/action-component-dropdown-launcher.html"),componentOptions:null,component:null,componentConstructor:null,wrapperClassName:void 0,events:{"show.bs.dropdown":"onBeforeOpen","shown.bs.dropdown":"onOpen","hide.bs.dropdown":"onHide"},dialogWidget:null,allowDialog:!1,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){t.extend(this,t.pick(e,["allowDialog"])),this.componentOptions=t.omit(e,["action","componentConstructor"]),this.componentConstructor=e.componentConstructor,this.componentOptions.grid=e.action.datagrid,e.wrapperClassName&&(this.wrapperClassName=e.wrapperClassName),s.on("layout:reposition",this._updateDropdown,this),r.__super__.initialize.call(this,e)},getTemplateData:function(){const e=r.__super__.getTemplateData.call(this);return e.wrapperClassName=this.wrapperClassName,e},render:function(){r.__super__.render.call(this),this.allowDialog&&(this.$(".dropdown-toggle").dropdown("dispose"),this.$(".dropdown-toggle").on("click"+this.eventNamespace(),this.openDialogWidget.bind(this))),this.componentOptions._sourceElement=this.$(".dropdown-menu");const e=this.componentConstructor;return this.component=new e(this.componentOptions),this},dispose:function(){this.disposed||(this.$(".dropdown-toggle").off(this.eventNamespace()),this.component&&this.component.dispose(),delete this.component,delete this.componentOptions,r.__super__.dispose.call(this))},onBeforeOpen:function(e){t.isFunction(this.component.beforeOpen)&&this.component.beforeOpen(e)},onOpen:function(){t.isFunction(this.component.updateViews)&&this.component.updateViews();const e=this.$(">.dropdown-menu");if(e.length){const t=e[0].getBoundingClientRect();e.css({maxWidth:t.right+"px"}),e.focusFirstInput()}s.trigger("dropdown-launcher:show")},onHide:function(e){if(e.clickEvent&&!this.$(e.clickEvent.target).is(".close")){const t=this.$(e.clickEvent.target);if(t.get(0)&&!t.is(".close"))return void e.preventDefault()}s.trigger("dropdown-launcher:hide")},openDialogWidget:function(){s.execute("showLoading"),this.dialogWidget=new o({title:t.__("oro.datagrid.settings.title"),View:this.componentConstructor,viewOptions:this.componentOptions,stateEnabled:!1,incrementalPosition:!0,resize:!1}),this.dialogWidget.render()},disable:function(){return this.$('[data-toggle="dropdown"]').addClass("disabled"),r.__super__.disable.call(this)},enable:function(){return this.$('[data-toggle="dropdown"]').removeClass("disabled"),r.__super__.enable.call(this)},_updateDropdown:function(){this.$('[data-toggle="dropdown"]').dropdown("update")}});return r}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/action-launcher.js":(e,t,i)=>{var s;s=function(e,t,s){"use strict";const n=i("./bundles/oroui/js/extend/jquery.js"),o=i("./bundles/oroui/js/extend/underscore.js"),r=i("./bundles/orotranslation/js/translator.js"),a=i("./bundles/oroui/js/tools.js"),l=i("./bundles/oroui/js/extend/backbone.js");let d=i("./bundles/oroui/js/app/services/module-config.js").Z(s.id);d=o.extend({iconHideText:!0},d);const c=l.View.extend({enabled:!0,tagName:"a",onClickReturnValue:!0,action:void 0,label:void 0,title:void 0,ariaLabel:void 0,allowDefaultAriaLabel:!1,icon:void 0,iconClassName:void 0,iconHideText:d.iconHideText,launcherMode:"",className:void 0,link:"#",links:void 0,runAction:!0,template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/action-launcher.html"),attributes:null,withinDropdown:!1,events:function(){const e={};let t="";return this.links&&(e["shown.bs.dropdown"]="onDropdownShown",t=" .dropdown-menu a"),e["click"+t]="onClick",e},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(!e.action)throw new TypeError('"action" is required');this.setOptions(e),this.launcherMode||(this.launcherMode=this._convertToLauncherMode()),c.__super__.initialize.call(this,e)},_convertToLauncherMode:function(){return this.icon?this.iconHideText?"icon-only":"icon-text":"text-only"},dispose:function(){this.disposed||(delete this.action,delete this.runAction,delete this.attributes,c.__super__.dispose.call(this))},setOptions:function(e){const t=o.pick(e,"template","label","title","ariaLabel","allowDefaultAriaLabel","icon","link","launcherMode","iconClassName","className","action","attributes","withinDropdown");return o.extend(this,o.pick(e,"iconHideText","runAction","onClickReturnValue","links"),o.pick(t,(e=>void 0!==e))),this},getTemplateData:function(){const e=o.pick(this,"icon","title","label","ariaLabel","className","iconClassName","launcherMode","link","links","action","attributes","enabled","tagName","withinDropdown");return e.label||(e.label=this.action.label),!e.attributes&&this.action.attributes&&(e.attributes={...this.action.attributes}),!e.ariaLabel&&this.action.ariaLabel&&(e.ariaLabel=this.action.ariaLabel),!e.ariaLabel&&this.allowDefaultAriaLabel&&(e.ariaLabel=this.getDefaultAriaLabel(e.label)),e.title||(e.title=e.label),e.launcherMode||(e.launcherMode=this._convertToLauncherMode()),e},getDefaultAriaLabel:function(e){return`${e} ${r("oro.datagrid.action.default_postfix")}`},render:function(){this.$el.empty();const e=n(this.template(this.getTemplateData()));return this.setElement(e),this.trigger("render"),this},onClick:function(e){let t,i;const s={};return this.enabled?(this.trigger("click",this,e.currentTarget),this.runAction&&(this.links&&(t=n(e.currentTarget),i=t.data("key"),o.isUndefined(i)||(this.action.actionKey=i)),a.isTargetBlankEvent(e)&&(s.target="_blank"),this.action.run(s),e.preventDefault()),this.onClickReturnValue):this.onClickReturnValue},onDropdownShown:function(e){this.trigger("expand",this)},disable:function(){return this.enabled=!1,this.$el.addClass("disabled"),this},enable:function(){return this.enabled=!0,this.$el.removeClass("disabled"),this}});return c}.call(t,i,t,e),void 0===s||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/action/abstract-action.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/jquery.js"),s=i("./bundles/oroui/js/extend/underscore.js"),n=i("./bundles/oroui/js/extend/backbone.js"),o=i("./bundles/fosjsrouting/js/router.js"),r=i("./bundles/orotranslation/js/translator.js"),a=i("./bundles/oroui/js/mediator.js"),l=i("./bundles/oroui/js/app/services/load-modules.js"),d=i("./bundles/oroui/js/tools.js"),c=i("./bundles/oroui/js/modal.js"),u=i("./bundles/orodatagrid/js/datagrid/action-launcher.js"),h=i("./bundles/oroui/js/extend/chaplin.js"),p=n.View.extend({launcher:u,name:null,datagrid:null,route:null,route_parameters:null,confirmation:!1,confirmModalConstructor:c,frontend_type:null,frontend_handle:null,frontend_options:null,identifierFieldName:"id",dispatched:!1,reloadData:!0,messages:null,launcherOptions:null,requestType:"GET",order:500,defaultMessages:{confirm_title:"Execution Confirmation",confirm_content:"Are you sure you want to do this?",confirm_content_params:{},confirm_ok:"Yes, do it",confirm_cancel:"Cancel",success:"Action performed.",error:"Action is not performed.",empty_selection:"Please, select item to perform action."},configuration:{},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(!e.datagrid)throw new TypeError('"datagrid" is required');e.configuration&&(this.configuration=t.extend(!0,{},this.configuration,e.configuration)),e.requestType&&(this.requestType=e.requestType),e.order&&(this.order=e.order),this.subviews=[],this.datagrid=e.datagrid,this.messages=s.extend({},this._getDefaultMessages(),this.messages),this.launcherOptions=t.extend(!0,{},this.launcherOptions,e.launcherOptions,{action:this}),p.__super__.initialize.call(this,e)},dispose:function(){this.disposed||(delete this.datagrid,delete this.launcherOptions,delete this.messages,this.confirmModal&&(this.confirmModal.dispose(),delete this.confirmModal),p.__super__.dispose.call(this))},createLauncher:function(e){e=e||{},s.isUndefined(e.icon)&&!s.isUndefined(this.icon)&&(e.icon=this.icon),s.defaults(e,this.launcherOptions);const t=new this.launcher(e);return this.launcherInstance=t,this.subviews.push(t),t},run:function(e){e=s.defaults(e,{doExecute:!0}),this.trigger("preExecute",this,e),e.doExecute&&(this.execute(e),this.trigger("postExecute",this,e))},execute:function(){this._confirmationExecutor(this.executeConfiguredAction.bind(this))},executeConfiguredAction:function(){switch(this.frontend_handle){case"ajax":this._handleAjax();break;case"redirect":this._handleRedirect();break;default:this._handleWidget()}},_getDefaultMessages:function(){let e=h.utils.getAllPropertyVersions(this,"defaultMessages");return e.unshift({}),e=s.extend(...e),e},_confirmationExecutor:function(e){this.confirmation?this.getConfirmDialog(e).open():e()},_handleWidget:function(){this.dispatched||(this.frontend_options=this.frontend_options||{},this.frontend_options.url=this.getLinkWithParameters(),this.frontend_options.title=this.frontend_options.title||this.label,l("oro/"+this.frontend_handle+"-widget",function(e){new e(this.frontend_options).render()}.bind(this)))},_handleRedirect:function(){if(this.dispatched)return;const e=this.getLinkWithParameters();a.execute("redirectTo",{url:e},{redirect:!0})},_handleAjax:function(){this.dispatched||(this.reloadData&&this.datagrid.showLoading(),this._doAjaxRequest())},_doAjaxRequest:function(){t.ajax({url:this.getLink(),data:this.getActionParameters(),context:this,dataType:"json",type:this.requestType,error:this._onAjaxError,success:this._onAjaxSuccess})},_onAjaxError:function(e){this.reloadData&&this.datagrid.hideLoading()},_onAjaxSuccess:function(e){this.reloadData&&(this.datagrid.hideLoading(),this.datagrid.collection.fetch({reset:!0})),this._showAjaxSuccessMessage(e)},_showAjaxSuccessMessage:function(e){const t=e.successful?this.messages.success:this.messages.error,i=e.successful?"success":"error",s=e.message||r(t);s&&a.execute("showFlashMessage",i,s)},getLink:function(e){s.isUndefined(e)&&(e={});const i=this.datagrid.collection.url,n=d.unpackFromQueryString(i.substring(i.indexOf("?"),i.length));return o.generate(this.route,s.extend(s.extend([],this.route_parameters),t.extend(!0,{},n,e)))},getLinkWithParameters:function(){return this.getLink(this.getActionParameters())},getActionParameters:function(){return{}},getConfirmDialog:function(e){return this.confirmModal&&(this.confirmModal.dispose(),delete this.confirmModal),this.confirmModal=new this.confirmModalConstructor(this.getConfirmDialogOptions()),this.confirmModal.on("ok",e).on("hidden",function(){delete this.confirmModal}.bind(this)),this.confirmModal},getConfirmDialogOptions:function(){return{title:r(this.messages.confirm_title),content:this.getConfirmContentMessage(),okText:r(this.messages.confirm_ok),cancelText:r(this.messages.confirm_cancel)}},getConfirmContentMessage:function(){return r(this.messages.confirm_content,this.messages.confirm_content_params)},getRequestType:function(){return this.requestType}});return p}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/action/ajax-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/orodatagrid/js/datagrid/action/model-action.js")],void 0===(n=function(e){"use strict";return e.extend({requestType:"POST",constructor:function e(t){e.__super__.constructor.call(this,t)}})}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/action/ajaxdelete-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/orodatagrid/js/datagrid/action/model-action.js"),i("./bundles/oroui/js/delete-confirmation.js"),i("./bundles/oroui/js/mediator.js")],void 0===(n=function(e,t,i){"use strict";const s=e.extend({confirmation:!0,confirmModalConstructor:t,requestType:"DELETE",defaultMessages:{confirm_title:"Delete Confirmation",confirm_content:"Are you sure you want to delete this item?",confirm_ok:"Yes",confirm_cancel:"Cancel",success:"Removed.",error:"Not removed.",empty_selection:"Please, select item to remove."},constructor:function e(t){e.__super__.constructor.call(this,t)},_doAjaxRequest:function(){i.trigger("datagrid:beforeRemoveRow:"+this.datagrid.name,this.model),s.__super__._doAjaxRequest.call(this)},_onAjaxSuccess:function(...e){i.trigger("datagrid:afterRemoveRow:"+this.datagrid.name),s.__super__._onAjaxSuccess.apply(this,e)}});return s}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/action/delete-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/oroui/js/messenger.js"),i("./bundles/orotranslation/js/translator.js"),i("./bundles/oroui/js/delete-confirmation.js"),i("./bundles/orodatagrid/js/datagrid/action/model-action.js")],void 0===(n=function(e,t,i,s,n){"use strict";return n.extend({confirmModalConstructor:s,defaultMessages:{confirm_title:"Delete Confirmation",confirm_content:"Are you sure you want to delete this item?",confirm_ok:"Yes, Delete",confirm_cancel:"Cancel",success:"Item deleted"},constructor:function e(t){e.__super__.constructor.call(this,t)},execute:function(){this.getConfirmDialog((()=>{this.doDelete(this.messages)})).open()},doDelete:function(e){this.model.destroy({url:this.getLink(),wait:!0,success:function(){t.notificationFlashMessage("success",i(e.success))}})}})}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/action/delete-mass-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/delete-confirmation.js"),i("./bundles/orotranslation/js/translator.js"),i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/orodatagrid/js/datagrid/action/mass-action.js"),i("./bundles/oroui/js/mediator.js")],void 0===(n=function(e,t,i,s,n){"use strict";const o=s.extend({confirmModalConstructor:e,defaultMessages:{confirm_title:"Delete Confirmation",confirm_content:"Are you sure you want to delete these items?",confirm_ok:"Yes, Delete",confirm_cancel:"Cancel",success:"Selected items were deleted.",error:"Selected items were not deleted.",empty_selection:"Please select items to delete."},confirmMessages:{selected_message:"oro.datagrid.mass_action.delete.selected_message",max_limit_message:"oro.datagrid.mass_action.delete.max_limit_message",restricted_access_message:"oro.datagrid.mass_action.delete.restricted_access_message",restricted_access_empty_message:"oro.datagrid.mass_action.delete.restricted_access_empty_message"},confirmMessage:null,allowOk:!0,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){o.__super__.initialize.call(this,e),this.confirmMessage=t(this.defaultMessages.confirm_content),this.confirmation=!1},getConfirmDialogOptions:function(){const e=o.__super__.getConfirmDialogOptions.call(this);return e.allowOk=this.allowOk,e},_onAjaxSuccess:function(e,t,i){if("POST"===this.requestType)return this.requestType="DELETE",this.setConfirmMessage(e),this.reloadData&&this.datagrid.hideLoading(),this.confirmation=!0,o.__super__.execute.call(this);o.__super__._onAjaxSuccess.call(this,e,t,i),n.trigger("datagrid:afterMassRemoveRow:"+this.datagrid.name)},execute:function(){this.requestType="POST",this.confirmModal=null,this.checkSelectionState()&&o.__super__.executeConfiguredAction.call(this)},getConfirmContentMessage:function(){return this.confirmMessage},setConfirmMessage:function(e){if(this.allowOk=!0,this.isDefined(e.selected)&&this.isDefined(e.deletable)&&this.isDefined(e.max_limit))if(0===e.deletable)this.confirmMessage=t(this.confirmMessages.restricted_access_empty_message),this.allowOk=!1;else if(e.deletable<=e.max_limit)if(e.deletable>=e.selected){const i={selected:e.selected};this.confirmMessage=t(this.confirmMessages.selected_message,i,e.selected)}else this.confirmMessage=t(this.confirmMessages.restricted_access_message,{deletable:e.deletable,selected:e.selected});else this.confirmMessage=t(this.confirmMessages.max_limit_message,{max_limit:e.max_limit})},isDefined:function(e){return!i.isUndefined(e)},getLink:function(e){if("DELETE"===this.requestType){const t=this.getActionParameters();i.isUndefined(e)&&(e={}),e=i.extend(t,e)}return o.__super__.getLink.call(this,e)}});return o}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/action/dialog-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/jquery.js"),i("./bundles/orotranslation/js/translator.js"),i("./bundles/orodatagrid/js/datagrid/action/model-action.js"),i("./bundles/oroui/js/app/components/widget-component.js")],void 0===(n=function(e,t,i,s){"use strict";const n=i.extend({useDirectLauncherLink:!1,widgetOptions:null,widgetComponent:null,widgetDefaultOptions:{type:"dialog",multiple:!1,"reload-grid-name":"",options:{dialogOptions:{title:t("Update item"),allowMaximize:!1,allowMinimize:!1,modal:!0,resizable:!1,maximizedHeightDecreaseBy:"minimize-bar",width:635}}},defaultMessages:{saved:t("Item updated successfully")},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(t){n.__super__.initialize.call(this,t),this.widgetOptions=e.extend(!0,{},this.widgetDefaultOptions,this.widgetOptions,{options:{url:this.getLink()}})},dispose:function(){this.disposed&&(this.widgetComponent&&this.widgetComponent.dispose(),delete this.widgetComponent,n.__super__.dispose.call(this))},run:function(){this.widgetComponent||(this.widgetComponent=new s(this.widgetOptions)),this.widgetComponent.openWidget()}});return n}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/action/edit-mass-action.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/orowindows/js/widget/dialog-widget.js"),s=i("./bundles/orodatagrid/js/datagrid/action/mass-action.js"),n=i("./bundles/oroui/js/mediator.js"),o=s.extend({defaultMessages:{success:"Selected items were edited.",error:"Selected items were not edited.",empty_selection:"Please select items to edit."},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){o.__super__.initialize.call(this,e)},executeConfiguredAction:function(){if("massedit"!==this.frontend_handle)throw new Error("Invalid mass action type");this._handleWidget()},execute:function(){this.requestType="POST",this.checkSelectionState()&&o.__super__.executeConfiguredAction.call(this)},_handleWidget:function(){if(this.dispatched)return;this.frontend_options=this.frontend_options||{},this.frontend_options.url=this.getLinkWithParameters(),this.frontend_options.title=this.frontend_options.title||this.label;const e=new t(this.frontend_options);e.render(),e.once("formSave",(t=>{e.remove(),this._showAjaxSuccessMessage(t),n.trigger("datagrid:doReset:"+this.datagrid.name)}))}});return o}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/action/export-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/jquery.js"),i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/orodatagrid/js/datagrid/action/abstract-action.js"),i("./bundles/orotranslation/js/translator.js"),i("./bundles/oroui/js/mediator.js")],void 0===(n=function(e,t,i,s,n){"use strict";const o=i.extend({collection:void 0,isModalBinded:!1,messages:{success:"oro.datagrid.export.success.message",fail:"oro.datagrid.export.fail.message"},defaultMessages:{confirm_title:"Export Confirmation",confirm_ok:"Yes",confirm_cancel:"Cancel"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.route="oro_datagrid_export_action",this.route_parameters={gridName:e.datagrid.name},this.collection=e.datagrid.collection,this.reloadData=!1,this.frontend_handle="ajax",o.__super__.initialize.call(this,e)},createLauncher:function(i){const s=o.__super__.createLauncher.call(this,i);return this.listenTo(s,"expand",(function(i){const s=this.collection.getFetchData();t.each(i.$el.find(".dropdown-menu a"),(function(n){const o=e(n);this.isModalBinded||this.createWarningModalForMaxRecords(o,i),o.attr("href",this.getLink(t.extend({format:o.data("key")},s)))}),this),this.isModalBinded=!0})),s},getActionParameters:function(){return t.extend({format:this.actionKey},this.collection.getFetchData())},_onAjaxError:function(e){n.execute("showFlashMessage","error",this.messages.fail),o.__super__._onAjaxError.call(this,e)},createWarningModalForMaxRecords:function(e,i){const n=t.findWhere(i.links,{key:e.data("key")}),o=(this.collection.state||{}).totalRecords||0,r=this;n.show_max_export_records_dialog&&n.max_export_records&&o>=n.max_export_records&&e.on("click",(function(t){t.stopPropagation(),t.preventDefault();const i=e;r.confirmModal=new r.confirmModalConstructor({title:s(r.messages.confirm_title),content:s("oro.datagrid.export.max_limit_message",{max_limit:n.max_export_records,total:o}),okText:s(r.messages.confirm_ok),cancelText:s(r.messages.confirm_cancel),allowOk:r.allowOk}),r.confirmModal.on("ok",(function(){window.location.href=i.attr("href"),r.confirmModal.off()})),r.confirmModal.open()}))}});return o}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/action/frontend-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/mediator.js"),i("./bundles/orodatagrid/js/datagrid/action/model-action.js")],void 0===(n=function(e,t){"use strict";return t.extend({constructor:function e(t){e.__super__.constructor.call(this,t)},execute:function(){e.trigger("datagrid:frontend:execute:"+this.datagrid.name,this),this.disposed||this.$el.dropdown("toggle")}})}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/action/frontend-mass-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/oroui/js/mediator.js"),i("./bundles/oroui/js/messenger.js"),i("./bundles/orotranslation/js/translator.js"),i("./bundles/orodatagrid/js/datagrid/action/mass-action.js")],void 0===(n=function(e,t,i,s,n){"use strict";return n.extend({constructor:function e(t){e.__super__.constructor.call(this,t)},execute:function(){const e=this.datagrid.getSelectionState();0===e.selectedIds.length&&e.inset?i.notificationFlashMessage("warning",s(this.messages.empty_selection)):(t.trigger("datagrid:mass:frontend:execute:"+this.datagrid.name,this),this.$el.dropdown("toggle"))},dispose:function(){this.disposed||(t.off("datagrid:mass:frontend:execute:"+this.datagrid.name),n.__super__.dispose.call(this))}})}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/action/mass-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/oroui/js/messenger.js"),i("./bundles/orotranslation/js/translator.js"),i("./bundles/oroui/js/modal.js"),i("./bundles/orodatagrid/js/datagrid/action/abstract-action.js")],void 0===(n=function(e,t,i,s,n){"use strict";const o=n.extend({defaultMessages:{confirm_title:"Mass Action Confirmation",confirm_content:"Are you sure you want to do this?",confirm_ok:"Yes, do it",confirm_cancel:"Cancel",success:"Mass action performed.",error:"Mass action is not performed.",empty_selection:"Please, select items to perform mass action."},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(t){o.__super__.initialize.call(this,t);const i={};i[this.datagrid.name]=this.datagrid.collection.urlParams||{},e.extend(this.route_parameters,i,{gridName:this.datagrid.name,actionName:this.name})},execute:function(){this.checkSelectionState()&&o.__super__.execute.call(this)},checkSelectionState:function(){const e=this.datagrid.getSelectionState();return 0!==e.selectedIds.length||!e.inset||(t.notificationFlashMessage("warning",i(this.messages.empty_selection)),!1)},getActionParameters:function(){const e=this.datagrid.getSelectionState(),t=this.datagrid.collection,i=t.stateHashKey();let s={inset:e.inset?1:0,values:e.selectedIds.join(",")};return s[i]=t.stateHashValue(),s=t.processFiltersParams(s,null,"filters"),s},_onAjaxSuccess:function(e,t,i){this.datagrid.resetSelectionState(),o.__super__._onAjaxSuccess.call(this,e,t,i)}});return o}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/action/model-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/orodatagrid/js/datagrid/action/abstract-action.js"),i("./bundles/orodatagrid/js/url-helper.js")],void 0===(n=function(e,t,i){"use strict";const s=window.location,n=t.extend({model:null,link:void 0,title:void 0,ariaLabel:void 0,backUrl:!1,backUrlParameter:"back",constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(t){const i=t||{};if(!i.model)throw new TypeError('"model" is required');this.model=i.model,e.has(i,"backUrl")&&(this.backUrl=i.backUrl),e.has(i,"backUrlParameter")&&(this.backUrlParameter=i.backUrlParameter),n.__super__.initialize.call(this,t);const s=this.model.get(this.title);s&&(this.launcherOptions.title=s);const o=this.model.get(this.ariaLabel);o&&(this.launcherOptions.ariaLabel=o)},getLink:function(){let t,i;if(!this.link)throw new TypeError('"link" is required');return t=this.model.has(this.link)?this.model.get(this.link):this.link,this.backUrl&&(i=e.isBoolean(this.backUrl)?s.href:this.backUrl,i=encodeURIComponent(i),t=this.addUrlParameter(t,this.backUrlParameter,i)),t},addUrlParameter:function(e,t,s){return i.addUrlParameter(e,t,s)}});return n}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/action/navigate-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/orotranslation/js/translator.js"),i("./bundles/oroui/js/mediator.js"),i("./bundles/orodatagrid/js/datagrid/action/model-action.js")],void 0===(n=function(e,t,i,s){"use strict";const n=s.extend({useDirectLauncherLink:!0,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(t){n.__super__.initialize.call(this,t),t.useDirectLauncherLink&&(this.useDirectLauncherLink=t.useDirectLauncherLink),this.on("preExecute",this._preExecuteSubscriber.bind(this)),t.parameters&&(this.parameters=t.parameters),this.useDirectLauncherLink&&(this.launcherOptions=e.extend({link:this.getLink(),runAction:!1},this.launcherOptions))},execute:function(e){let t=this.getLink(),s=this.datagrid.collection.stateHashKey(),n=this.datagrid.collection.stateHashValue();if(t=this.addUrlParameter(t,s,n),e.parameters)for(s in e.parameters)e.parameters.hasOwnProperty(s)&&(n=e.parameters[s],t=this.addUrlParameter(t,s,n));if(this.parameters)for(s in this.parameters)this.parameters.hasOwnProperty(s)&&(n=this.parameters[s],t=this.addUrlParameter(t,s,n));const{attributes:o={}}=this.launcherOptions;o.target?window.open(t,o.target):i.execute("redirectTo",{url:t},e)},_preExecuteSubscriber:function(e,s){i.once("page:beforeError",(function(e,s){let n;403===e.status&&(s.stopPageProcessing=!0,n=t("You do not have permission to perform this action."),i.execute("addMessage","error",n,{flash:!0}))})),i.trigger("grid_action:navigateAction:preExecute",e,s)}});return n}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/action/refresh-collection-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/orodatagrid/js/datagrid/action/abstract-action.js")],void 0===(n=function(e){"use strict";const t=e.extend({collection:void 0,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){const i=e||{};if(!i.datagrid)throw new TypeError('"datagrid" is required');this.collection=i.datagrid.collection,t.__super__.initialize.call(this,e)},execute:function(){this.datagrid.setAdditionalParameter("refresh",!0),this.collection.fetch({reset:!0}),this.datagrid.removeAdditionalParameter("refresh")}});return t}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/action/reset-collection-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/orodatagrid/js/datagrid/action/abstract-action.js"),i("./bundles/oroui/js/tools.js")],void 0===(n=function(e,t){"use strict";const i=e.extend({collection:void 0,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){const t=e||{};if(!t.datagrid)throw new TypeError('"datagrid" is required');this.collection=t.datagrid.collection,i.__super__.initialize.call(this,e)},execute:function(){this.collection.updateState(t.deepClone(this.collection.initialState)),this.collection.fetch({reset:!0})}});return i}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/action/row/importexport-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/jquery.js"),i("./bundles/orodatagrid/js/datagrid/action/model-action.js"),i("./bundles/oroimportexport/js/importexport-manager.js")],void 0===(n=function(e,t,i){"use strict";const s=t.extend({configuration:{options:{datagridName:void 0,routeOptions:{}}},importProcessor:null,importJob:null,importValidateJob:null,exportProcessor:null,exportJob:null,exportTemplateJob:null,importExportManager:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(t){s.__super__.initialize.call(this,t),null===this.configuration.options.datagridName&&(this.configuration.options.datagridName=this.datagrid.name);const n=e.extend({},this.configuration.options,{entity:this.entity_class,importProcessor:this.importProcessor,importJob:this.importJob,importValidateJob:this.importValidateJob,exportProcessor:this.exportProcessor,exportJob:this.exportJob,exportTemplateJob:this.exportTemplateJob});this.importExportManager=new i(n)},execute:function(){switch(this.type){case"import":this.importExportManager.handleImport();break;case"export":this.importExportManager.handleExport()}},dispose:function(){this.disposed||(delete this.importExportManager,s.__super__.dispose.call(this))}});return s}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/action/select-data-appearance-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/orodatagrid/js/datagrid/action/abstract-action.js"),i("./bundles/orodatagrid/js/datagrid/dropdown-select-choice-launcher.js")],void 0===(n=function(e,t){"use strict";const i=e.extend({launcher:t,collection:void 0,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){const t=e||{};if(!t.datagrid)throw new TypeError('"datagrid" is required');this.datagrid=t.datagrid,i.__super__.initialize.call(this,e)},execute:function(e){this.datagrid.changeAppearance(e.key,e.item.options)}});return i}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/action/show-component-action.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/orodatagrid/js/datagrid/action/abstract-action.js"),s=i("./bundles/orodatagrid/js/datagrid/action-component-dropdown-launcher.js");return t.extend({launcher:s,constructor:function e(t){e.__super__.constructor.call(this,t)},execute:function(){}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/action/trigger-event-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/orodatagrid/js/datagrid/action/model-action.js")],void 0===(n=function(e,t){"use strict";const s=i("./bundles/oroui/js/mediator.js");return t.extend({constructor:function e(t){e.__super__.constructor.call(this,t)},execute:function(){const e=this.datagrid.getGridScope();e&&s.trigger(this.event_name+":"+e,[this.model.id]),s.trigger(this.event_name,[this.model.id])}})}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/actions-panel.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/extend/backbone.js").View.extend({className:"btn-group",actions:[],launchers:[],constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){const t=e||{};this.subviews=[],t.actions&&this.setActions(t.actions),s.__super__.initialize.call(this,e)},dispose:function(){this.disposed||(delete this.launchers,delete this.actions,s.__super__.dispose.call(this))},render:function(){this.$el.empty();const e=this.$el.is(".dropdown-menu");return this.launchers.forEach((t=>{t.setOptions({withinDropdown:e}),this.$el.append(t.render().$el),t.trigger("appended")})),this},haveActions:function(){return!t.isEmpty(this.actions)},setActions:function(e){this.actions=[],this.launchers=[],t.each(e,(function(e){this.actions.push(e),this.launchers.push(e.createLauncher())}),this),this.subviews.push(...this.actions)},disable:function(){return t.each(this.launchers,(function(e){e.disable()})),this},enable:function(){return t.each(this.launchers,(function(e){e.enable()})),this}});return s}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/body.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/mediator.js"),n=i("./bundles/oroui/js/extend/chaplin.js"),o=i("./bundles/orodatagrid/js/extend/backgrid.js"),r=i("./bundles/orodatagrid/js/datagrid/row.js"),a=n.CollectionView.extend({tagName:"tbody",autoRender:!1,itemView:r,animationDuration:0,renderItems:!0,rowClassName:void 0,themeOptions:{optionPrefix:"body",className:"grid-body"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){t.extend(this,t.pick(e,["rowClassName","columns","filteredColumns","emptyText","gridRowsCounter"])),this.rows=this.subviews,"rowView"in e.themeOptions&&(this.itemView=e.themeOptions.rowView),a.__super__.initialize.call(this,e)},dispose:function(){this.disposed||(delete this.columns,delete this.filteredColumns,delete this.gridRowsCounter,a.__super__.dispose.call(this))},renderAllItems:function(){const e=a.__super__.renderAllItems.call(this);return s.trigger("layout:adjustHeight"),e},initItemView:function(e){const t=this.row||this.itemView;if(t){const i={autoRender:!1,model:e,dataCollection:this.collection,collection:this.filteredColumns,columns:this.columns,rowClassName:this.rowClassName,ariaRowsIndexShift:this.gridRowsCounter.getHeaderRowsCount()};this.columns.trigger("configureInitializeOptions",t,i);const s=new t(i);return this.attachListenerToSingleRow(s),s}throw new Error("The one of Body#row or Body#itemView properties must be defined or the initItemView() must be overridden.")},attachListenerToSingleRow:function(e){e.on("clicked",(function(e,t){this.trigger("rowClicked",e,t)}),this)},initFallback:function(){if(!this.fallbackSelector&&this.emptyText){const e=new o.EmptyRow({emptyText:this.emptyText,columns:this.columns}).render().el;this.fallbackSelector=t.map(e.classList,(function(e){return"."+e})).join(""),this.$el.append(e)}a.__super__.initFallback.call(this)},render:function(){return this._deferredRender(),a.__super__.render.call(this),this._resolveDeferredRender(),this}});return a}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/cell-event-list.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/oroui/js/extend/backbone.js")],void 0===(n=function(e,t){"use strict";function i(e){this.columns=e,e.on("change:renderable add remove reset change:columnEventList",(function(){delete this.cachedEventList,this.trigger("change")}),this)}return i.prototype={getEventsMap:function(){if(!this.cachedEventList){const t={};this.columns.each((function(i){if(!i.get("renderable"))return;const s=i.get("cell");if(s.prototype.delegatedEventBinding&&!e.isFunction(s.prototype.events)){const e=s.prototype.events;for(const i in e)t.hasOwnProperty(i)||(t[i]=!0)}})),this.cachedEventList=t}return this.cachedEventList}},e.extend(i.prototype,t.Events),i}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/cell-iterator.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/base-class.js"),s=i("./bundles/oroui/js/extend/jquery.js"),n=i("./bundles/oroui/js/extend/underscore.js");return t.extend({constructor:function e(t,i){this.current=i,this.grid=t,this.columns=t.columns,this.rows=t.collection,e.__super__.constructor.call(this,t,i)},toResolvedPromise:function(e){const t=s.Deferred();return t.resolve(e),t.promise()},isColumnVisible:function(e){return e.get("renderable")},getCurrentCellInfo:function(){const e=this.rows.indexOf(this.current.model),t=0===e,i=e>=this.rows.length-1,s=this.columns.indexOf(this.current.column);return{row:{i:e,first:t,last:i},column:{i:s,first:s<=n.findIndex(this.columns.models,this.isColumnVisible),last:s>=n.findLastIndex(this.columns.models,this.isColumnVisible)}}},getNextPage:function(){return this.rows.hasNext()?this.rows.getNextPage():this.rows.state.firstPage!==this.rows.state.currentPage?this.rows.getPage(this.rows.state.firstPage):this.toResolvedPromise({})},getPreviousPage:function(){return this.rows.hasPrevious()?this.rows.getPreviousPage():this.rows.state.lastPage!==this.rows.state.currentPage?this.rows.getPage(this.rows.state.lastPage):this.toResolvedPromise({})},next:function(){const e=this.getCurrentCellInfo();let t,i;if(e.column.last){if(e.row.last)return this.getNextPage().then((()=>(this.current=this.findCellByIndexOrNext(0,0,1),this.current)));i=e.row.i+1,t=0}else i=e.row.i,t=e.column.i+1;return this.current=this.findCellByIndexOrNext(i,t,1),this.toResolvedPromise(this.current)},nextRow:function(){const e=this.getCurrentCellInfo(),t=e.row.i+1,i=e.column.i;return e.row.last?this.getNextPage().then((()=>(this.current=this.findCellByIndexOrNext(0,i,1),this.current))):(this.current=this.findCellByIndexOrNext(t,i,1),this.toResolvedPromise(this.current))},prev:function(){const e=this.getCurrentCellInfo();let t,i;if(e.column.first){if(e.row.first)return this.getPreviousPage().then((()=>(this.current=this.findCellByIndexOrNext(this.rows.length-1,this.columns.length-1,-1),this.current)));i=e.row.i-1,t=this.columns.length-1}else i=e.row.i,t=e.column.i-1;return this.current=this.findCellByIndexOrNext(i,t,-1),this.toResolvedPromise(this.current)},prevRow:function(){const e=this.getCurrentCellInfo(),t=e.row.i-1,i=e.column.i;return e.row.first?this.getPreviousPage().then((()=>(this.current=this.findCellByIndexOrNext(this.rows.length-1,i,-1),this.current))):(this.current=this.findCellByIndexOrNext(t,i,-1),this.toResolvedPromise(this.current))},findCellByIndexOrNext:function(e,t,i){let s;for(;!s&&t>=0&&t<this.columns.length;)s=this.grid.findCellByIndex(e,t),t+=i;return s}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/cell/action-cell.js":(e,t,i)=>{var s;s=function(e,t,s){"use strict";const n=i("./bundles/oroui/js/extend/jquery.js"),o=i("./bundles/oroui/js/extend/underscore.js"),r=i("./bundles/orotranslation/js/translator.js"),a=i("./bundles/orodatagrid/js/extend/backgrid.js");let l=i("./bundles/oroui/js/app/services/module-config.js").Z(s.id);l=o.extend({showCloseButton:!1,allowDefaultAriaLabel:!0},l);const d=a.Cell.extend({className:"action-cell",actions:void 0,isDropdownActions:null,actionsHideCount:3,launchers:void 0,showCloseButton:l.showCloseButton,launcherMode:"",allowDefaultAriaLabel:l.allowDefaultAriaLabel,actionsState:"",baseMarkup:o.template('<div class="more-bar-holder"><div class="dropleft"><a class="dropdown-toggle" href="#" role="button" id="<%- togglerId %>" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="<%- label %>"><span class="icon fa-ellipsis-h fa--no-offset" aria-hidden="true"></span></a><ul class="dropdown-menu dropdown-menu__action-cell launchers-dropdown-menu" aria-labelledby="<%- togglerId %>"></ul></div></div>'),simpleBaseMarkup:o.template('<div class="more-bar-holder action-row"></div>'),closeButtonTemplate:o.template('<li class="dropdown-close"><i class="fa-close hide-text">'+r("Close")+"</i></li>"),launchersContainerSelector:".launchers-dropdown-menu",launchersListTemplate:o.template('<% if (withIcons) { %><li><ul class="launchers-list"></ul></li><% } else { %><li class="well-small"><ul class="unstyled launchers-list"></ul></li><% } %>'),simpleLaunchersListTemplate:o.template('<% if (withIcons) { %><ul class="nav nav--block nav-pills icons-holder launchers-list"></ul><% } else { %><ul class="unstyled launchers-list"></ul><% } %>'),launcherItemTemplate:o.template("<li class=\"launcher-item<% if (className) { %> <%= 'mode-' + className %><% } %>\"></li>"),events:{click:"_showDropdown","keydown .dropdown-menu":"onKeydown","mouseover .dropdown-toggle":"_showDropdown","mouseleave .dropleft.show":"_hideDropdown","click .dropdown-close .fa-close":"_hideDropdown"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){const t=e||{};this.subviews=[],void 0!==t.actionsHideCount&&(this.actionsHideCount=t.actionsHideCount),void 0!==t.themeOptions.actionsHideCount&&(this.actionsHideCount=t.themeOptions.actionsHideCount),void 0!==t.allowDefaultAriaLabel&&(this.allowDefaultAriaLabel=t.allowDefaultAriaLabel),o.isObject(t.themeOptions.launcherOptions)&&(this.launcherMode=t.themeOptions.launcherOptions.launcherMode||this.launcherMode,this.actionsState=t.themeOptions.launcherOptions.actionsState||this.actionsState),d.__super__.initialize.call(this,e),this.actions=this.createActions(),o.each(this.actions,(function(e){this.listenTo(e,"preExecute",this.onActionRun)}),this),this.listenTo(this.model,"change:action_configuration",this.onActionConfigChange),this.subviews.push(...this.actions)},dispose:function(){this.disposed||(delete this.actions,delete this.column,d.__super__.dispose.call(this))},onActionRun:function(e){this.$('.show > [data-toggle="dropdown"]').trigger("tohide.bs.dropdown")},createActions:function(){const e=[],t=this.column.get("actions"),i=this.model.get("action_configuration")||{};return o.each(t,(function(t,s){i&&!1===i[s]||e.push(this.createAction(t,{...i[s]||{},name:s}))}),this),o.sortBy(e,"order")},createAction:function(e,t){return new e({model:this.model,datagrid:this.column.get("datagrid"),configuration:t})},createLaunchers:function(){return this.actions.map((e=>e.launcherInstance||e.createLauncher({launcherMode:this.launcherMode,allowDefaultAriaLabel:this.allowDefaultAriaLabel})))},onActionConfigChange:function(){const e=this.model.get("action_configuration")||{};this.actions.forEach((t=>{const i=e[t.configuration.name];void 0!==i&&i!==t.launcherInstance.enabled&&t.launcherInstance[i?"enable":"disable"]()})),Object.entries(e).forEach((([t,i])=>{if(!i)return;let s=this.actions.find((e=>e.configuration.name===t));const n=this.column.get("actions")[t];!s&&n&&(s=this.createAction(n,{...e[t]||{},name:t}),s.createLauncher({launcherMode:this.launcherMode,allowDefaultAriaLabel:this.allowDefaultAriaLabel}),this.actions.push(s))}));const t=Object.keys(this.column.get("actions")).map((e=>this.actions.find((t=>t.configuration.name===e))));this.actions.length=0,this.actions.push(...o.sortBy(o.compact(t),"order")),this.isLauncherListFilled=!1,this.fillLauncherList()},render:function(){return o.isEmpty(this.actions)?(this.$el.empty(),this):(this.isDropdownActions=this.actions.length>=this.actionsHideCount,"show"===this.actionsState?this.isDropdownActions=!1:"hide"===this.actionsState&&(this.isDropdownActions=!0),this.isDropdownActions||(this.baseMarkup=this.simpleBaseMarkup,this.launchersListTemplate=this.simpleLaunchersListTemplate,this.launchersContainerSelector=".more-bar-holder"),this.$el.html(this.baseMarkup(this.getTemplateData())),this.isLauncherListFilled=!1,this.isDropdownActions||this.fillLauncherList(),this.$el.toggleClass("dropdown-action-cell",this.isDropdownActions),this)},getTemplateData:function(){return{togglerId:"actions-cell-dropdown-"+this.cid,label:r("oro.datagrid.row_actions.label")}},fillLauncherList:function(){if(!this.isLauncherListFilled){this.isLauncherListFilled=!0;let e=this.createLaunchers();e.forEach((e=>e.$el.detach())),e=e.filter((e=>e.enabled));const t=this.getLaunchersByIcons(e),i=this.$(this.launchersContainerSelector);if(i.empty(),this.showCloseButton&&e.length>=this.actionsHideCount&&i.append(this.closeButtonTemplate()),t.withIcons.length&&this.renderLaunchersList(t.withIcons,{withIcons:!0}).appendTo(i),t.withIcons.length&&t.withoutIcons.length){const e=document.createElement("UL"===i[0].tagName?"li":"span");e.classList.add("divider"),i.append(e)}t.withoutIcons.length&&this.renderLaunchersList(t.withoutIcons,{withIcons:!1}).appendTo(i)}},renderLaunchersList:function(e,t){t=t||{};const i=n(this.launchersListTemplate(t)),s=i.filter(".launchers-list").length?i:n(".launchers-list",i);return o.each(e,(function(e){s.append(this.renderLauncherItem(e))}),this),i},renderLauncherItem:function(e,t){t=o.extend(t||{},{className:e.launcherMode});const i=n(this.launcherItemTemplate(t)),s=i.filter(".launcher-item").length?i:n(".launcher-item",i);s.append(e.render().$el);const r="mode-"+e.launcherMode;return s.addClass(r),this.isDropdownActions&&e.$el.addClass("dropdown-item"),i},getLaunchersByIcons:function(e){const t={withIcons:[],withoutIcons:[]};return o.each(e,(function(e){e.icon?t.withIcons.push(e):t.withoutIcons.push(e)}),this),t},_showDropdown:function(e){this.fillLauncherList(),this.$('[data-toggle="dropdown"]').parent().hasClass("show")||this.$('[data-toggle="dropdown"]').dropdown("toggle"),this.model.set("isDropdownActions",this.isDropdownActions),e.stopPropagation()},_hideDropdown:function(e){this.$('[data-toggle="dropdown"]').parent().hasClass("show")&&this.$('[data-toggle="dropdown"]').dropdown("toggle"),e.stopPropagation()},onKeydown:function(e){27===e.which&&this._hideDropdown(e)}});return d}.call(t,i,t,e),void 0===s||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/cell/boolean-cell.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/orodatagrid/js/extend/backgrid.js"),s=i("./bundles/orotranslation/js/translator.js"),n=t.BooleanCell.extend({listenRowClick:!0,events:{},constructor:function e(t){e.__super__.constructor.call(this,t),this.listenTo(this.model,"change:"+this.column.get("name"),this.onModelChange)},render:function(){if(this.isEditableColumn())this.enterEditMode();else{this.$el.empty();let e="";const t=this.model.get(this.column.get("name"));null!==t&&(e=this.formatter.fromRaw(t)?s("Yes"):s("No")),this.$el.append("<span>").text(e),this.delegateEvents()}return this},enterEditMode:function(){n.__super__.enterEditMode.call(this),this.currentEditor&&this.currentEditor.$el.inputWidget("create")},onRowClicked:function(e,t){if(this.currentEditor&&!this.currentEditor.$el.is(t.target)){const e=this.column.get("name"),t=this.model.get(e);this.model.set(e,!t)}},onModelChange:function(e){if(this.currentEditor){const t=this.currentEditor.formatter.fromRaw(e.get(this.column.get("name")),e);this.currentEditor.$el.prop("checked",t)}}});return n}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/cell/date-cell.js":(e,t,i)=>{var s,n;s=[i("./bundles/orodatagrid/js/datagrid/cell/datetime-cell.js")],void 0===(n=function(e){"use strict";return e.extend({type:"date",className:"date-cell",constructor:function e(t){e.__super__.constructor.call(this,t)}})}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/cell/datetime-cell.js":(e,t,i)=>{var s,n;s=[i("./bundles/orodatagrid/js/datagrid/cell/string-cell.js"),i("./bundles/orodatagrid/js/datagrid/formatter/datetime-formatter.js")],void 0===(n=function(e,t){"use strict";const i=e.extend({formatterPrototype:t,type:"dateTime",className:"datetime-cell",constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){i.__super__.initialize.call(this,e),this.formatter=this.createFormatter()},createFormatter:function(){return new this.formatterPrototype({type:this.type})}});return i}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/cell/html-cell.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/orodatagrid/js/datagrid/cell/string-cell.js"),s=i("./bundles/orodatagrid/js/extend/backgrid.js");return t.extend({formatter:new s.CellFormatter,constructor:function e(t){e.__super__.constructor.call(this,t)},render:function(){const e=this.model.get(this.column.get("name")),t=this.formatter.fromRaw(e);return this.$el.html(t),this}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/cell/multi-relation-cell.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/orotranslation/js/translator.js");return"backgrid".StringCell.extend({type:"multi-relation",className:"multi-relation-cell",ERROR_HTML:'<span style="color:red">'+s("Unexpected format")+"</span>",constructor:function e(t){e.__super__.constructor.call(this,t)},render:function(){let e,i=this.model.get(this.column.get("name"));if(t.isString(i))try{i=JSON.parse(i)}catch(e){return this.$el.html(this.ERROR_HTML),this}null==i&&(i={count:0,data:[]});try{e=i.count>0?'<span class="multiselect-value-wrapper"><span class="value-item">'+i.data.map((function(e){return e.label})).join('</span><span class="value-item">')+"</span></span>":""}catch(t){e=this.ERROR_HTML}return this.$el.html(e),this}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/cell/multi-select-cell.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/orodatagrid/js/extend/backgrid.js"),s=i("./bundles/oroui/js/extend/underscore.js"),n=i("./bundles/orotranslation/js/translator.js");return t.StringCell.extend({type:"multiselect",className:"multi-select-cell",ERROR_HTML:'<span style="color:red">'+n("Unexpected format")+"</span>",constructor:function e(t){e.__super__.constructor.call(this,t)},render:function(){let e=this.model.get(this.column.get("name"));const t=this.choices;if(s.isString(e))try{e=JSON.parse(e)}catch(e){return this.$el.html(this.ERROR_HTML),this}let i;null==e&&(e=[]);try{i=e.length>0?'<span class="multiselect-value-wrapper"><span class="value-item">'+e.map((function(e){return s.findKey(t,(function(t){return t===e}))})).filter((function(e){return e})).join('</span><span class="value-item">')+"</span></span>":""}catch(e){i=this.ERROR_HTML}return this.$el.html(i),this}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/cell/number-cell.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/orodatagrid/js/extend/backgrid.js"),n=i("./bundles/orodatagrid/js/datagrid/formatter/number-formatter.js"),o=s.NumberCell.extend({formatterPrototype:n,style:"decimal",constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){t.extend(this,e),o.__super__.initialize.call(this,e),this.formatter=this.createFormatter()},createFormatter:function(){return new this.formatterPrototype({style:this.style})},render:function(){const e=o.__super__.render.call(this);return this.enterEditMode(),e},enterEditMode:function(){this.isEditableColumn()&&o.__super__.enterEditMode.call(this)},exitEditMode:function(){this.isEditableColumn()||o.__super__.exitEditMode.call(this)}});return o}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/cell/phone-cell.js":(e,t,i)=>{var s,n;s=[i("./bundles/orodatagrid/js/datagrid/cell/html-cell.js"),i("./bundles/orodatagrid/js/datagrid/formatter/phone-formatter.js")],void 0===(n=function(e,t){"use strict";return e.extend({className:"phone-cell",events:{"click a":"stopPropagation"},formatter:new t,constructor:function e(t){e.__super__.constructor.call(this,t)},stopPropagation:function(e){e.stopPropagation()}})}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/cell/relation-cell.js":(e,t,i)=>{var s,n;s=[i("./bundles/orodatagrid/js/extend/backgrid.js"),i("./bundles/orodatagrid/js/datagrid/formatter/cell-formatter.js")],void 0===(n=function(e,t){"use strict";return e.StringCell.extend({formatter:new t,constructor:function e(t){e.__super__.constructor.call(this,t)}})}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/cell/select-cell.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/orodatagrid/js/extend/backgrid.js"),n=i("./bundles/orodatagrid/js/datagrid/editor/select-cell-radio-editor.js"),o=i("./bundles/oroui/js/tools/text-util.js"),r=s.SelectCell.extend({events:{},optionValues:[],notMarkAsBlank:!0,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.expanded&&!this.multiple&&(this.editor=n);const i=e.column.get("metadata").choices;if(!i)throw new Error("Column metadata must have choices specified");this.optionValues=[],t.each(i,(function(e,i){this.optionValues.push([t.escape(o.prepareText(i)),e])}),this),r.__super__.initialize.call(this,e),this.listenTo(this.model,"change:"+this.column.get("name"),(function(){this.enterEditMode(),this.$el.find("select").inputWidget("create")}))},render:function(){if(t.isEmpty(this.optionValues))return;const e=r.__super__.render.call(this);return this.enterEditMode(),e},enterEditMode:function(){this.isEditableColumn()&&r.__super__.enterEditMode.call(this)},exitEditMode:function(){this.$el.removeClass("error"),this.stopListening(this.currentEditor),delete this.currentEditor}});return r}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/cell/select-row-cell.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/jquery.js"),s=i("./bundles/oroui/js/app/views/base/view.js"),n=i("./bundles/orodatagrid/js/extend/backgrid.js"),o=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/select-row-cell.html"),r=s.extend({optionNames:["column"],_attributes:n.Cell.prototype._attributes,className:"select-row-cell renderable",tagName:"td",template:o,checkboxSelector:'[data-role="select-row-cell"]',events:{"change :checkbox":"onChange",click:"updateCheckbox"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.column instanceof n.Column||(this.column=new n.Column(this.column)),this.template=this.getTemplateFunction(),this.listenTo(this.model,"backgrid:select",(function(e,t){this.$(":checkbox").prop("checked",t).change()}))},dispose:function(){this.disposed||(delete this.column,delete this.$checkbox,r.__super__.dispose.call(this))},updateCheckbox:function(e){this.$checkbox.get(0)===e.target||t(e.target).closest("label").length||this.$checkbox.prop("checked",!this.$checkbox.prop("checked")).change(),e.stopPropagation()},onChange:function(e){this.model.trigger("backgrid:selected",this.model,t(e.target).prop("checked"))},render:function(){const e={selected:!1};return this.model.trigger("backgrid:isSelected",this.model,e),this.$el.html(this.template({checked:e.selected})),this.$checkbox=this.$el.find(this.checkboxSelector),this.$checkbox.inputWidget("isInitialized")?this.$checkbox.inputWidget("refresh"):this.$checkbox.inputWidget("create"),this}});return r}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/cell/string-cell.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/orodatagrid/js/extend/backgrid.js"),s=i("./bundles/orodatagrid/js/datagrid/formatter/cell-formatter.js"),n=t.StringCell.extend({formatter:new s,constructor:function e(t){e.__super__.constructor.call(this,t)},render:function(){const e=n.__super__.render.call(this);return this.enterEditMode(),e},enterEditMode:function(){this.isEditableColumn()&&n.__super__.enterEditMode.call(this)},exitEditMode:function(){this.isEditableColumn()||n.__super__.exitEditMode.call(this)}});return n}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/cell/time-cell.js":(e,t,i)=>{var s,n;s=[i("./bundles/orodatagrid/js/datagrid/cell/string-cell.js")],void 0===(n=function(e){"use strict";return e.extend({type:"time",className:"time-cell",constructor:function e(t){e.__super__.constructor.call(this,t)}})}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/column/action-column.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/backbone.js"),s=i("./bundles/oroui/js/extend/underscore.js"),n=i("./bundles/orodatagrid/js/extend/backgrid.js"),o=i("./bundles/orodatagrid/js/datagrid/cell/action-cell.js"),r=i("./bundles/orodatagrid/js/datagrid/header-cell/action-header-cell.js"),a=n.Column.extend({defaults:s.defaults({name:"",label:"",sortable:!1,editable:!1,cell:o,headerCell:r,datagrid:null,actions:[],massActions:new t.Collection},n.Column.prototype.defaults),constructor:function e(...t){e.__super__.constructor.call(this,...t)},initialize:function(e,t){const i=e||{};i.cell||(i.cell=this.defaults.cell),i.name||(i.name=this.defaults.name),s.isEmpty(i.actions)&&i.massActions.length&&this.set("renderable",!1),a.__super__.initialize.call(this,e,t)}});return a}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/columns.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/orodatagrid/js/extend/backgrid.js"),s=i("./bundles/orodatagrid/js/datagrid/cell-event-list.js");return t.Columns.extend({comparator:"order",constructor:function e(...t){e.__super__.constructor.apply(this,t)},getCellEventList:function(){return this.cellEventList||(this.cellEventList=new s(this)),this.cellEventList}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/datagrid-settings-dialog-widget.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/orowindows/js/widget/dialog-widget.js"),n=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid-settings/datagrid-settings-dialog-widget-actions.html"),o=i("./bundles/oroui/js/mediator.js"),r=s.extend({View:null,view:null,viewOptions:{},actionsTemplate:n,dialogOptions:{autoResize:!1,modal:!0,resize:!1,dialogClass:"datagrid-settings-dialog",close:function(){o.trigger("dropdown-launcher:hide")}},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(!t.isFunction(e.View))throw new TypeError('"View" property should be the function');t.extend(this,t.pick(e,["View","viewOptions"])),e.dialogOptions=t.extend({},this.dialogOptions,e.dialogOptions),r.__super__.initialize.call(this,e)},render:function(){this.viewOptions._sourceElement=this.$el,this.viewOptions.title="",this.view=new this.View(this.viewOptions),t.isFunction(this.view.beforeOpen)&&this.view.beforeOpen(),this.$el.append(this.actionsTemplate()),r.__super__.render.call(this)},onContentUpdated:function(){t.isFunction(this.view.updateViews)&&this.view.updateViews(),this.$el.focusFirstInput()},hide:function(){this.loadingBar.appendTo("#oroplatform-header"),r.__super__.hide.call(this)}});return r}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/dropdown-select-choice-launcher.js":(e,t,i)=>{var s;s=function(e,t,s){"use strict";const n=i("./bundles/oroui/js/extend/jquery.js"),o=i("./bundles/oroui/js/extend/underscore.js"),r=i("./bundles/orotranslation/js/translator.js"),a=i("./bundles/oroui/js/extend/backbone.js");let l=i("./bundles/oroui/js/app/services/module-config.js").Z(s.id);l=o.extend({iconHideText:!0},l);const d=a.View.extend({enabled:!0,tagName:"a",onClickReturnValue:!0,action:void 0,label:void 0,ariaLabel:void 0,allowDefaultAriaLabel:!1,iconHideText:l.iconHideText,launcherMode:"",className:void 0,link:"#",links:void 0,runAction:!0,template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/action-launcher.html"),events:function(){return{"shown.bs.dropdown":"onDropdownShown","click .dropdown-menu a":"onClick"}},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(!e.action)throw new TypeError('"action" is required');this.setOptions(e),this.selectedItem=e.selectedItem||e.items[0],d.__super__.initialize.call(this,e)},_convertToLauncherMode:function(){let e="";return e=this.icon?this.iconHideText?"icon-only":"icon-text":"text-only",e},dispose:function(){this.disposed||(delete this.action,delete this.runAction,d.__super__.dispose.call(this))},setOptions:function(e){const t=o.pick(e,"template","label","ariaLabel","allowDefaultAriaLabel","link","launcherMode","className","attributes","runAction");o.extend(this,o.pick(e,"action","items"),o.pick(t,Boolean))},getTemplateData:function(){const e=this.label||this.action.label;let t=this.ariaLabel;return!t&&this.action.ariaLabel&&(t=this.action.ariaLabel),!t&&this.allowDefaultAriaLabel&&(t=this.getDefaultAriaLabel(e)),this.launcherMode=this.launcherMode||this._convertToLauncherMode(),{label:e,icon:this.selectedItem.icon,title:this.selectedItem.title,ariaLabel:t,className:this.className,iconClassName:this.selectedItem.iconClassName,launcherMode:this.launcherMode,link:this.link,links:this.items,action:this.action,attributes:this.attributes,enabled:this.enabled,tagName:this.tagName}},getDefaultAriaLabel:function(e){return`${e} ${r("oro.datagrid.action.default_postfix")}`},render:function(){this.$el.empty();const e=n(this.template(this.getTemplateData()));return e.insertAfter(this.$el),this.$el.remove(),this.setElement(e),this},onClick:function(e){const t={};if(!this.enabled)return this.onClickReturnValue;this.trigger("click",this,e.currentTarget);const i=n(e.currentTarget);t.key=i.data("key"),t.index=parseInt(i.data("index")),t.item=this.items[t.index],this.action.run(t),e.preventDefault()},onDropdownShown:function(e){this.trigger("expand",this)},disable:function(){return this.enabled=!1,this.$el.addClass("disabled"),this.$('[data-toggle="dropdown"]').addClass("disabled"),this},enable:function(){return this.enabled=!0,this.$el.removeClass("disabled"),this.$('[data-toggle="dropdown"]').removeClass("disabled"),this}});return d}.call(t,i,t,e),void 0===s||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/editor/select-cell-radio-editor.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/orodatagrid/js/extend/backgrid.js")],void 0===(n=function(e,t){"use strict";return t.SelectCellEditor.extend({tagName:"ul",className:"radio-ul",template:e.template('<li><input id="<%- this.model.cid + \'_\' + this.cid + \'_\' + value %>" name="<%- this.model.cid + \'_\' + this.cid %>" type="radio" value="<%- value %>" <%= selected ? "checked" : "" %>><label for="<%- this.model.cid + \'_\' + this.cid + \'_\' + value %>"><%- text %></label></li>',null,{variable:null}),constructor:function e(t){e.__super__.constructor.call(this,t)},save:function(){const e=this.model,t=this.column;e.set(t.get("name"),this.formatter.toRaw(this.$el.find(":checked").val(),e))}})}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/footer.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/orodatagrid/js/extend/backgrid.js"),n=i("./bundles/orodatagrid/js/datagrid/footer/footer-row.js"),o=i("./bundles/orodatagrid/js/datagrid/footer/footer-cell.js"),r=s.Footer.extend({tagName:"tfoot",row:n,rows:[],footerCell:o,renderable:!1,themeOptions:{optionPrefix:"footer",className:"grid-footer"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(t.extend(this,t.pick(e,["themeOptions","gridRowsCounter"])),this.rows=[],!e.collection)throw new TypeError('"collection" is required');if(!e.columns)throw new TypeError('"columns" is required');this.columns=e.columns,this.filteredColumns=e.filteredColumns;const i=e.collection.state||{};if(i.totals&&Object.keys(i.totals).length){this.renderable=!0;let e=this.gridRowsCounter.getHeaderRowsCount()+this.gridRowsCounter.getTotalRowsCount();t.each(i.totals,(function(t,i){e++,this.rows[this.rows.length]=new this.row({columns:this.columns,collection:this.filteredColumns,dataCollection:this.collection,footerCell:this.footerCell,rowName:i,ariaRowIndex:e})}),this)}},dispose:function(){this.disposed||(t.each(this.rows,(function(e){e.dispose()})),delete this.rows,delete this.columns,delete this.filteredColumns,delete this.gridRowsCounter,r.__super__.dispose.call(this))},render:function(){return this.renderable&&t.each(this.rows,(function(e){e.render(),this.$el.append(e.$el)}),this),this.delegateEvents(),this},_attributes(){return{"aria-hidden":!this.renderable||null}},getRowsCount(){return this.rows.length}});return r}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/footer/footer-cell.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/extend/backbone.js"),n=i("./bundles/orodatagrid/js/extend/backgrid.js");return s.View.extend({optionNames:["column"],_attributes:n.Cell.prototype._attributes,tagName:"th",template:t.template('<span><%- label  %><%- total ? (label? ": " : "") + total : "" %></span>'),keepElement:!1,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.options=e||{},this.column instanceof n.Column||(this.column=new n.Column(this.column)),this.listenTo(e.collection,"reset",this.render),this.listenTo(this.column,"change:editable change:sortable change:renderable",(function(e){const t=e.changedAttributes();for(const e in t)t.hasOwnProperty(e)&&this.$el.toggleClass(e,t[e])}))},render:function(){this.$el.empty();const e=this.column.get("name"),i=(this.collection.state||{}).totals||{};if(!t.isUndefined(i[this.options.rowName])){if(!t.isUndefined(i[this.options.rowName])&&t.has(i[this.options.rowName].columns,e)){const t=i[this.options.rowName].columns[e];if(!t.label&&!t.total)return this;this.$el.append(this.template({label:t.label,total:t.total}))}if(!t.isUndefined(this.column.attributes.cell.prototype.className)){const e=this.column.attributes.cell.prototype.className;this.$el.addClass(t.isFunction(e)?e.call(this):e)}return this.column.has("align")&&(this.$el.removeClass("align-left align-center align-right"),this.$el.addClass("align-"+this.column.get("align"))),this}this.$el.removeClass("renderable")}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/footer/footer-row.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/orodatagrid/js/datagrid/footer/footer-cell.js"),s=i("./bundles/oroui/js/extend/chaplin.js").CollectionView.extend({optionNames:["ariaRowIndex"],tagName:"tr",className:"",animationDuration:0,constructor:function e(t){e.__super__.constructor.call(this,t)},footerCell:t,initialize:function(e){this.columns=e.columns,this.dataCollection=e.dataCollection;const t=this;this.itemView||(this.itemView=function(i){const s=i.model,n=s.get("footerCell")||e.footerCell||t.footerCell,o={column:s,collection:t.dataCollection,rowName:e.rowName,themeOptions:{className:"grid-cell grid-footer-cell"}};return s.get("name")&&(o.themeOptions.className+=" grid-footer-cell-"+s.get("name")),t.columns.trigger("configureInitializeOptions",n,o),new n(o)}),s.__super__.initialize.call(this,e),this.listenTo(this.dataCollection,"add remove reset",this._updateAttributes),this.cells=this.subviews},_updateAttributes(){this.disposed||this._setAttributes(this._collectAttributes())},_attributes(){return{"aria-rowindex":this.ariaRowIndex}},dispose:function(){this.disposed||(delete this.cells,delete this.columns,delete this.dataCollection,s.__super__.dispose.call(this))}});return s}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/formatter/cell-formatter.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/orodatagrid/js/extend/backgrid.js"),i("./bundles/oroui/js/tools/text-util.js")],void 0===(n=function(e,t,i){"use strict";const s=function(){};return s.prototype=new t.CellFormatter,e.extend(s.prototype,{fromRaw:function(e){if(null===e)return"";const s=t.CellFormatter.prototype.fromRaw.call(this,e);return i.prepareText(s)}}),s}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/formatter/currency-formatter.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/orotranslation/js/translator.js"),n=i("./bundles/orodatagrid/js/datagrid/formatter/number-formatter.js"),o=function(e){n.call(this,e)};return o.prototype=Object.create(n),t.extend(o.prototype,{style:"currency",fromRaw:function(e){if(null==e||""===e)return"";const t=Number(e.substring(3)),i=e.substring(0,3);return isNaN(t)?s("oro.datagrid.not_number"):this.formatter(t,i)}}),o}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/formatter/datetime-formatter.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/orodatagrid/js/extend/backgrid.js"),i("./bundles/orolocale/js/formatter/datetime.js")],void 0===(n=function(e,t,i){"use strict";const s=function(t){e.extend(this,t)};return s.prototype=new t.CellFormatter,e.extend(s.prototype,{type:"dateTime",fromRaw:function(e){return null===e||""===e?"":this._getFormatterFunction("format","dateTime"===this.type?"NBSP":void 0).call(i,e)},toRaw:function(e){return null===e||""===e?null:this._getFormatterFunction("convert","ToBackendFormat").call(i,e)},_getFormatterFunction:function(e,t){t=t||"";const s=e+((n=this.type).charAt(0).toUpperCase()+n.slice(1))+t;var n;if(!i.hasOwnProperty(s)||"function"!=typeof i[s])throw new Error("Can't use formatter function with name "+s);return i[s]}}),s}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/formatter/number-formatter.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/orotranslation/js/translator.js"),n=i("./bundles/orodatagrid/js/datagrid/formatter/cell-formatter.js"),o=i("./bundles/orolocale/js/formatter/number.js");function r(e){e=e?t.clone(e):{},t.extend(this,e),this.formatter=function(e){const i="format"+e.charAt(0).toUpperCase()+e.slice(1);if(!t.isFunction(o[i]))throw new Error("Formatter doesn't support \""+e+'" number style');return o[i]}(this.style)}return r.prototype=new n,t.extend(r.prototype,{style:"decimal",fromRaw:function(e){return null==e||""===e?"":isNaN(e)?s("oro.datagrid.not_number"):this.formatter(e)},toRaw:function(e){let t=null;return null!==e&&""!==e&&(t=o.unformat(e)),t}}),r}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/formatter/phone-formatter.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/orodatagrid/js/extend/backgrid.js")],void 0===(n=function(e,t){"use strict";function i(e){t.CellFormatter.call(this,e)}return i.prototype=Object.create(t.CellFormatter),e.extend(i.prototype,{fromRaw:function(e){return null===e?"":this.generateLinkHTML(e)},generateLinkHTML:function(t){const i=t.trim();return`<a href="tel:${e.escape(i)}" class="nowrap"><bdo dir="ltr">${e.escape(i)}</bdo></a>`}}),i}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/grid-rows-counter.js":(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});const s=class{constructor(e){if(void 0===e)throw new Error('Option "grid" is required.');this.grid=e}getGridRowsCount(){return this.getHeaderRowsCount()+this.getTotalRowsCount()+this.getFooterRowsCount()}getHeaderRowsCount(){return this.grid.subview("header")?this.grid.subview("header").getRowsCount():0}getTotalRowsCount(){return this.grid.collection.filter((e=>!0!==e.isAuxiliary)).length}getFooterRowsCount(){return this.grid.subview("footer")?this.grid.subview("footer").getRowsCount():0}}},"./bundles/orodatagrid/js/datagrid/grid-views/collection.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/extend/backbone.js"),n=i("./bundles/oroui/js/app/models/base/collection.js"),o=i("./bundles/orodatagrid/js/datagrid/grid-views/model.js"),r=n.extend({model:o,gridName:"",constructor:function e(...t){e.__super__.constructor.apply(this,t)},initialize:function(e,i){t.extend(this,t.pick(i,["gridName"])),r.__super__.initialize.call(this,e,i)},_prepareModel:function(e,t){return e instanceof s.Model?e.set("grid_name",this.gridName,{silent:!0}):e.grid_name=this.gridName,r.__super__._prepareModel.call(this,e,t)},clone:function(){return new this.constructor(this.toJSON(),{gridName:this.gridName})},stateHashKey:function(){return r.stateHashKey(this.gridName)},stateHashValue:function(e){return null}});return r.stateHashKey=function(e){return"gridViews["+e+"]"},r}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/grid-views/model.js":(e,t,i)=>{var s;s=function(e,t,s){"use strict";const n=i("./bundles/oroui/js/extend/backbone.js"),o=i("./bundles/oroui/js/extend/underscore.js"),r=i("./bundles/fosjsrouting/js/router.js"),a=i("./bundles/orotranslation/js/translator.js"),l=i("./bundles/oroui/js/mediator.js");let d=i("./bundles/oroui/js/app/services/module-config.js").Z(s.id);return d=o.extend({route:"oro_datagrid_api_rest_gridview_post"},d),n.Model.extend({route:d.route,urlRoot:null,sharedByLabel:"oro.datagrid.grid_views.shared_by.label",idAttribute:"name",defaults:{filters:[],sorters:[],columns:{},deletable:!1,editable:!1,is_default:!1,shared_by:null,freezeName:""},directions:{ASC:"-1",DESC:"1"},constructor:function e(t,i){e.__super__.constructor.call(this,t,i)},initialize:function(e){this.urlRoot=r.generate(this.route),o.isArray(e.filters)&&o.isEmpty(e.filters)&&this.set("filters",{}),o.isArray(e.sorters)&&o.isEmpty(e.sorters)&&this.set("sorters",{}),o.isArray(e.appearanceData)&&o.isEmpty(e.appearanceData)&&this.set("appearanceData",{}),o.each(e.sorters,(function(t,i){void 0!==this.directions[t]?e.sorters[i]=this.directions[t]:e.sorters[i]=String(t)}),this)},toGridState:function(){return{filters:this.get("filters"),sorters:this.get("sorters"),columns:this.get("columns"),gridView:this.get("name"),appearanceType:""!==this.get("appearanceType")?this.get("appearanceType"):void 0,appearanceData:this.get("appearanceData")}},toJSON:function(){return o.omit(this.attributes,["editable","deletable","shared_by","icon","freezeName"])},getLabel:function(){const e=this.get("label"),t=this.get("shared_by");return null===t?e:e+"("+a(this.sharedByLabel,{name:t})+")"},validate:function(e,t){const i=this.get("freezeName").replace(/\s+/g," "),s=[];if(""===o.trim(e.label)&&s.push(a("oro.datagrid.gridview.notBlank")),o.trim(e.label)===o.trim(i)&&s.push(a("oro.datagrid.gridview.unique")),s.length)return l.trigger(this.get("grid_name")+":grid-views-model:invalid",s),!0}})}.call(t,i,t,e),void 0===s||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/grid-views/view-name-modal.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/orotranslation/js/translator.js"),s=i("./bundles/oroui/js/modal.js"),n=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/view-name-modal.html"),o=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/view-name-error-modal.html"),r=s.extend({contentTemplate:n,nameErrorTemplate:o,events:{'keydown [data-role="grid-view-input"]':"onKeyDown"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){(e=e||{}).title=e.title||t("oro.datagrid.name_modal.title"),e.content=e.content||this.contentTemplate({value:e.defaultValue||"",label:t("oro.datagrid.gridView.name"),defaultLabel:t("oro.datagrid.action.set_as_default_grid_view"),defaultChecked:e.defaultChecked||!1}),e.okText=t("oro.datagrid.gridView.save_name"),e.disposeOnHidden=!1,r.__super__.initialize.call(this,e)},onKeyDown:function(e){13===e.which&&(this.trigger("close"),this.trigger("ok"))},setNameError:function(e){this.$(".validation-failed").remove(),e&&(e=this.nameErrorTemplate({error:e}),this.$('[data-role="grid-view-input"]').addClass("error").after(e))}});return r}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/grid-views/view.js":(e,t,i)=>{var s;void 0===(s=function(t){"use strict";const s=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/grid-view.html"),n=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/grid-view-label.html"),o=i("./bundles/oroui/js/app/views/base/view.js"),r=i("./bundles/oroui/js/extend/jquery.js"),a=i("./bundles/oroui/js/extend/underscore.js"),l=i("./bundles/orotranslation/js/translator.js"),d=i("./bundles/oroui/js/error.js"),c=i("./bundles/orodatagrid/js/datagrid/grid-views/model.js"),u=i("./bundles/orodatagrid/js/datagrid/grid-views/view-name-modal.js"),h=i("./bundles/oroui/js/mediator.js"),p=i("./bundles/oroui/js/delete-confirmation.js"),_=i("./bundles/fosjsrouting/js/router.js"),g={hideSwitcherOnNoData:!0,...i("./bundles/oroui/js/app/services/module-config.js").Z(e.id)},m=o.extend({DEFAULT_GRID_VIEW_ID:"__all__",className:"grid-views",events:{"click .views-group a":"onChange","click a.save":"onSave","click a.save_as":"onSaveAs","click a.share":"onShare","click a.unshare":"onUnshare","click a.delete":"onDelete","click a.rename":"onRename","click a.discard_changes":"onDiscardChanges","click a.use_as_default":"onUseAsDefault"},template:s,titleTemplate:n,title:null,enabled:!0,appearances:null,permissions:{CREATE:!1,EDIT:!1,DELETE:!1,SHARE:!1},prevState:{},gridName:{},viewsCollection:null,originalTitle:null,defaultPrefix:l("oro.datagrid.gridView.all"),route:"oro_datagrid_api_rest_gridview_default",DeleteConfirmation:p,defaults:{DeleteConfirmationOptions:{content:l("Are you sure you want to delete this item?")}},modal:null,showErrorMessage:!1,adjustDocumentTitle:!0,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(!(e=e||{}).collection)throw new TypeError('"collection" is required');if(!e.viewsCollection)throw new TypeError('"viewsCollection" is required');a.extend(this,a.pick(e,["viewsCollection","title","appearances","uniqueId"])),this.template=this.getTemplateFunction(),this.titleTemplate=this.getTemplateFunction("titleTemplate"),e.permissions&&(this.permissions=a.extend(this.permissions,e.permissions)),this.originalTitle=r("head title").text(),this.gridName=e.gridName,this.collection=e.collection,this.enabled=!1!==e.enable,this.collection.state.gridView||(this.collection.state.gridView=this.DEFAULT_GRID_VIEW_ID),this.viewsCollection.get(this.DEFAULT_GRID_VIEW_ID).set({filters:e.collection.initialState.filters,sorters:e.collection.initialState.sorters,columns:e.collection.initialState.columns,appearanceType:e.collection.initialState.appearanceType,appearanceData:e.collection.initialState.appearanceData}),this.viewDirty=!this._isCurrentStateSynchronized(),this.prevState=this._getCurrentViewModelState(),this._bindEventListeners(),this._updateTitle(),m.__super__.initialize.call(this,e)},dispose:function(){this.disposed||(this.viewsCollection.dispose(),delete this.viewsCollection,m.__super__.dispose.call(this))},_bindEventListeners:function(){this.listenTo(this.collection,"updateState",(function(e){e.state.gridView||(e.state.gridView=this.DEFAULT_GRID_VIEW_ID)})),this.listenTo(this.collection,"updateState",this.render),this.listenTo(this.collection,"beforeFetch",this.render),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.viewsCollection,"add",this._onModelAdd),this.listenTo(this.viewsCollection,"remove",this._onModelRemove),this.listenTo(this.viewsCollection,"change",this._onModelChange,this),this.listenTo(this.viewsCollection,"sync",this._onModelChange,this),this.listenTo(h,"datagrid:"+this.gridName+":views:add",(function(e){this.viewsCollection.add(e)}),this),this.listenTo(h,"datagrid:"+this.gridName+":views:remove",(function(e){this.viewsCollection.remove(e)}),this),this.listenTo(h,"datagrid"+this.gridName+":views:change",(function(e){this.viewsCollection.get(e).attributes=e.attributes,this._getView(e.get("name")).label=e.get("label"),this.viewDirty=!this._isCurrentStateSynchronized(),this.render()}),this),this.listenTo(h,this.gridName+":grid-views-model:invalid",(function(e){this.onGridViewsModelInvalid(e)}),this)},disable:function(){return this.enabled=!1,this.render(),this},enable:function(){return this.enabled=!0,this.render(),this},onChange:function(e){e.preventDefault();const t=r(e.currentTarget).data("value");this.changeView(t),this._updateTitle(),this.prevState=this._getCurrentState(),this.viewDirty=!this._isCurrentStateSynchronized()},onSave:function(e){const t=this._getEditableViewModel(e.currentTarget);this._onSaveModel(t)},_onSaveModel:function(e){e.save({icon:void 0,label:e.get("label"),filters:this.collection.state.filters,sorters:this.collection.state.sorters,columns:this.collection.state.columns,appearanceType:this.collection.state.appearanceType,appearanceData:this.collection.state.appearanceData},{wait:!0,errorHandlerMessage:this.showErrorMessage,success:()=>{this._showFlashMessage("success",l("oro.datagrid.gridView.updated"))}})},onSaveAs:function(){a.isObject(this.modal)&&this.modal.dispose();const e=new u;e.on("ok",(()=>{const t=this.getInputData(e.$el),i=this._createBaseViewModel(t);i.isValid()?(this.lockModelOnOkCloses(e,!0),this._onSaveAsModel(i)):this.lockModelOnOkCloses(e,!1)})),e.open(),e.$el.find('[data-role="grid-view-input"]').focus(),this.modal=e},_onSaveAsModel:function(e){e.save(null,{wait:!0,success:e=>{const t=this._getCurrentDefaultViewModel(),i=this._getAppearanceIcon(e.get("appearanceType"));e.set("name",e.get("id")),e.set("icon",i),e.unset("id"),e.get("is_default")&&t&&t.set({is_default:!1}),this.viewsCollection.add(e),this.changeView(e.get("name")),this.collection.state.gridView=e.get("name"),this.viewDirty=!this._isCurrentStateSynchronized(),this._updateTitle(),this._showFlashMessage("success",l("oro.datagrid.gridView.created")),h.trigger("datagrid:"+this.gridName+":views:add",e)},errorHandlerMessage:this.showErrorMessage,error:(e,t,i)=>{this.onError(e,t,i)}})},_getAppearanceIcon:function(e){return this.appearances?a.result(a.findWhere(this.appearances,{type:e}),"icon"):""},onShare:function(e){const t=this._getEditableViewModel(e.currentTarget);t.save({label:t.get("label"),type:"public"},{wait:!0,success:()=>{this._showFlashMessage("success",l("oro.datagrid.gridView.updated"))}})},onUnshare:function(e){const t=this._getEditableViewModel(e.currentTarget);t.save({label:t.get("label"),type:"private"},{wait:!0,success:()=>{this._showFlashMessage("success",l("oro.datagrid.gridView.updated"))}})},onDelete:function(e){const t=this._getModelForDelete(e.currentTarget),i=new this.DeleteConfirmation(this.defaults.DeleteConfirmationOptions);return i.on("ok",(()=>{t.destroy({wait:!0}),t.once("sync",(function(){this._showFlashMessage("success",l("oro.datagrid.gridView.deleted")),h.trigger("datagrid:"+this.gridName+":views:remove",t)}),this)})),i.open(),i},_getModelForDelete:function(e){const t=this._getCurrentView().value;return this.viewsCollection.get(t)},onRename:function(e){a.isObject(this.modal)&&this.modal.dispose();const t=this._getEditableViewModel(e.currentTarget),i=new u({defaultValue:t.get("label"),defaultChecked:t.get("is_default")});i.on("ok",(()=>{const e=this.getInputData(i.$el);t.set(e,{silent:!0}),t.isValid()?(this.lockModelOnOkCloses(i,!0),this._onRenameSaveModel(t)):this.lockModelOnOkCloses(i,!1)})),i.open(),this.modal=i},_onRenameSaveModel:function(e){e.save(null,{wait:!0,success:t=>{const i=this._getCurrentDefaultViewModel(),s=i===e,n=void 0===i;e.get("is_default")&&!s?i.set({is_default:!1}):n&&this._getDefaultSystemViewModel().set({is_default:!0}),e.set({label:t.get("label")}),this._showFlashMessage("success",l("oro.datagrid.gridView.updated"))},errorHandlerMessage:this.showErrorMessage,error:(e,t,i)=>{e.set("label",e.previous("label")),this.onError(e,t,i)}})},onError:function(e,t,i){400===t.status?(a.isObject(this.modal)&&this.modal.open(),this._showNameError(this.modal,t)):d.showErrorInUI(t)},onGridViewsModelInvalid:function(e){e&&a.isObject(this.modal)&&(this.modal.setNameError(a.first(e)),this.modal.open())},lockModelOnOkCloses:function(e,t){a.isObject(e)&&a.isObject(e.options)&&(e.options.okCloses=t)},onDiscardChanges:function(e){this.changeView(this.collection.state.gridView)},getViewChoices:function(){const e=a.uniq(this.viewsCollection.pluck("icon")).length>1,t=this.viewsCollection.map((function(t,i){return{label:t.getLabel(),icon:!!e&&t.get("icon"),value:t.get("name")}}),this),i=a.findWhere(t,{value:this.DEFAULT_GRID_VIEW_ID});return i.label===this.DEFAULT_GRID_VIEW_ID&&(i.label=this.defaultPrefix+(this.title||"")),t},onUseAsDefault:function(e){let t=1;const i=this._getCurrentDefaultViewModel(),s=this.gridName,n=this._getEditableViewModel(e.currentTarget);let o=n.id;return this._isCurrentViewSystem()&&(t=0,i&&(o=i.id)),r.post(_.generate(this.route,{id:o,default:t,gridName:s}),{},(e=>{i&&i.set({is_default:!1}),n.set({is_default:!0}),this._showFlashMessage("success",l("oro.datagrid.gridView.updated"))}))},_onModelAdd:function(){this.render()},_onModelRemove:function(e){this.render(),this.collection.state.gridView=this.DEFAULT_GRID_VIEW_ID;const t=this._getDefaultSystemViewModel();e.get("is_default")&&t.set({is_default:!0}),this.changeView(t)},_onModelChange:function(e){h.trigger("datagrid"+this.gridName+":views:change",e)},_checkCurrentState:function(){this.viewDirty=!this._isCurrentStateSynchronized()},changeView:function(e){let t;const i=this.viewsCollection.get(e);return i&&(t=a.extend({},this.collection.initialState,i.toGridState()),this.collection.updateState(t),this.collection.fetch({reset:!0})),this},render:function(){let e;const t=0===this.collection.length&&a.isEmpty(this.collection.state.filters);if(g.hideSwitcherOnNoData&&t)e=this.renderPlainTitle();else{this._checkCurrentState();const t=this.renderTitle(),i=this._getViewActions();e=this.template({title:t,titleLabel:this.title,disabled:!this.enabled,choices:this.getViewChoices(),current:this.collection.state.gridView,dirty:this.viewDirty,editedLabel:l("oro.datagrid.gridView.data_edited"),actionsLabel:l("oro.datagrid.gridView.actions"),actions:i,showActions:this.showActions(i),gridViewId:this.cid})}return this.$el.html(e),h.trigger("layout:reposition"),this},renderTitle:function(){return this.titleTemplate({uniqueId:this.uniqueId,title:this._getCurrentViewLabel(),hasCaret:!0,navbar:Boolean(this.title)})},renderPlainTitle:function(){return this.titleTemplate({uniqueId:this.uniqueId,title:this.title||"",hasCaret:!1,navbar:Boolean(this.title)})},_getViewActions:function(){return this._getCurrentActions()},showActions:function(e){return a.some(e,(function(e){return e.enabled}))},_getCurrentActions:function(){const e=this._getCurrentViewModel();return this._getActions(e)},_getActions:function(e){const t=this._getCurrentDefaultViewModel();return[{label:l("oro.datagrid.action.save_grid_view"),name:"save",enabled:this._getViewIsDirty(e)&&void 0!==e&&e.get("editable")},{label:l("oro.datagrid.action.save_grid_view_as"),name:"save_as",enabled:this.permissions.CREATE},{label:l("oro.datagrid.action.rename_grid_view"),name:"rename",enabled:void 0!==e&&e.get("editable")},{label:l("oro.datagrid.action.share_grid_view"),name:"share",enabled:void 0!==e&&"private"===e.get("type")&&this.permissions.SHARE},{label:l("oro.datagrid.action.unshare_grid_view"),name:"unshare",enabled:void 0!==e&&e.get("editable")&&"public"===e.get("type")&&this.permissions.SHARE},{label:l("oro.datagrid.action.discard_grid_view_changes"),name:"discard_changes",enabled:this._getViewIsDirty(e)},{label:l("oro.datagrid.action.delete_grid_view"),name:"delete",enabled:void 0!==e&&e.get("deletable")},{label:l("oro.datagrid.action.set_as_default_grid_view"),name:"use_as_default",enabled:void 0!==e&&!e.get("is_default")&&(!this._isCurrentViewSystem()||t)}]},_createViewModel:function(e){return new c(e)},_createBaseViewModel:function(e){return this._createViewModel({label:a.isUndefined(e.label)?this.defaultPrefix:e.label,is_default:!a.isUndefined(e.is_default)&&e.is_default,type:"private",grid_name:this.gridName,filters:this.collection.state.filters,sorters:this.collection.state.sorters,columns:this.collection.state.columns,appearanceType:this.collection.state.appearanceType,appearanceData:this.collection.state.appearanceData,editable:this.permissions.EDIT,deletable:this.permissions.DELETE,freezeName:this.defaultPrefix+(this.title||"")})},_getViewIsDirty:function(e){return this.viewDirty},_getCurrentViewModel:function(){const e=this._getCurrentView();if(!a.isUndefined(e))return this.viewsCollection.findWhere({name:e.value})},_getEditableViewModel:function(e){return this._getCurrentViewModel()},_getCurrentDefaultViewModel:function(){if(this._hasActiveView())return this.viewsCollection.findWhere({is_default:!0})},_isCurrentViewSystem:function(){const e=this._getCurrentView();return e&&e.value===this.DEFAULT_GRID_VIEW_ID},_getDefaultSystemViewModel:function(){return this.viewsCollection.findWhere({name:this.DEFAULT_GRID_VIEW_ID})},_hasActiveView:function(){return void 0!==this._getCurrentView()},_getCurrentViewLabel:function(){const e=this._getCurrentView();return void 0===e?this.title?this.title.trim():l("Please select view"):e.label.trim()},_getView:function(e){return a.findWhere(this.getViewChoices(),{value:e})},_getCurrentView:function(){return this._getView(this.collection.state.gridView)},_isCurrentStateSynchronized:function(){const e=this._getCurrentViewModelState();return!e||a.isEqual(this._getCurrentState(),e)},_getCurrentViewModelState:function(){const e=this._getCurrentViewModel();if(e)return{filters:e.get("filters"),sorters:e.get("sorters"),columns:e.get("columns"),appearanceType:e.get("appearanceType"),appearanceData:e.get("appearanceData")}},_getCurrentState:function(){return{filters:this.collection.state.filters,sorters:this.collection.state.sorters,columns:this.collection.state.columns,appearanceType:this.collection.state.appearanceType,appearanceData:this.collection.state.appearanceData}},_createTitle:function(){const e=this._getCurrentView();if(!e)return this.originalTitle;let t=e.label;return e.value===this.DEFAULT_GRID_VIEW_ID&&(t=this.defaultPrefix),t+" - "+this.originalTitle},_showFlashMessage:function(e,t,i){let s=i||{};const n=this.$el.closest(".ui-widget-content").attr("id");n&&(s=a.extend(s,{container:"#"+n+" .flash-messages"})),h.execute("showFlashMessage",e,t,s)},_showNameError:function(e,t){const i=t.responseJSON,s=i.errors?i.errors.children.label.errors:null,n=i.message,o=s?s[0]:n;o&&e.setNameError(o)},_updateTitle:function(){this.title&&this.adjustDocumentTitle&&h.execute("adjustTitle",this._createTitle(),!0)},getInputData:function(e){return{label:r("input[name=name]",e).val(),is_default:r("input[name=is_default]",e).is(":checked")}}});return m}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/grid.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/jquery.js"),s=i("./bundles/oroui/js/extend/underscore.js"),n=i("./bundles/oroui/js/extend/backbone.js"),o=i("./bundles/orodatagrid/js/extend/backgrid.js"),r=i("./bundles/orotranslation/js/translator.js"),a=i("./bundles/oroui/js/mediator.js"),l=i("./bundles/oroui/js/app/views/loading-mask-view.js"),d=i("./bundles/orodatagrid/js/datagrid/header.js"),c=i("./bundles/orodatagrid/js/datagrid/body.js"),u=i("./bundles/orodatagrid/js/datagrid/footer.js"),h=i("./bundles/orodatagrid/js/datagrid/columns.js"),p=i("./bundles/orodatagrid/js/datagrid/toolbar.js"),_=i("./bundles/orodatagrid/js/datagrid/select-state-model.js"),g=i("./bundles/orodatagrid/js/datagrid/column/action-column.js"),m=i("./bundles/orodatagrid/js/datagrid/cell/select-row-cell.js"),f=i("./bundles/orodatagrid/js/datagrid/header-cell/select-all-header-cell.js"),b=i("./bundles/orodatagrid/js/datagrid/action/refresh-collection-action.js"),w=i("./bundles/orodatagrid/js/datagrid/action/reset-collection-action.js"),v=i("./bundles/orodatagrid/js/datagrid/action/select-data-appearance-action.js"),j=i("./bundles/orodatagrid/js/datagrid/action/export-action.js"),C=i("./bundles/oroui/js/app/plugins/plugin-manager.js"),y=i("./bundles/oroui/js/tools/scroll-helper.js"),x=i("./bundles/orodatagrid/js/pageable-collection.js"),k=i("./bundles/orodatagrid/js/datagrid/grid-rows-counter.js").Z,S=i("./bundles/orodatagrid/js/datagrid/util.js"),T=i("./bundles/oroui/js/tools.js"),E=o.Grid.extend({name:"datagrid",tagName:"div",attributes:{"data-layout":"separate"},requestsCount:0,className:"oro-datagrid",noDataTemplate:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/no-data.html"),noSearchResultsTemplate:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/no-search-results.html"),noDataTranslations:{entityHint:"oro.datagrid.entityHint",noColumns:"oro.datagrid.no.columns",noEntities:"oro.datagrid.no.entities",noResults:"oro.datagrid.no.results",noResultsTitle:"oro.datagrid.no.results_title"},selectors:{grid:".grid",toolbar:"[data-grid-toolbar]",toolbars:{top:"[data-grid-toolbar=top]",bottom:"[data-grid-toolbar=bottom]"},noDataBlock:".no-data",filterBox:".filter-box",loadingMaskContainer:".other-scroll-container",floatTheadContainer:".floatThead-container"},header:d,body:c,footer:u,toolbar:p,toolbars:{},metadataModel:null,loadingMask:null,actionsColumn:g,selectRowCell:m,selectAllHeaderCell:f,noColumnsFlag:!1,selectState:null,defaults:{rowClickActionClass:"row-click-action",rowClassName:"",toolbarOptions:{addResetAction:!0,addRefreshAction:!0,addDatagridSettingsManager:!0,addSorting:!1,datagridSettings:{addSorting:!0},placement:{top:!0,bottom:!1}},actionOptions:{refreshAction:{launcherOptions:{label:r("oro_datagrid.action.refresh"),ariaLabel:r("oro_datagrid.action.refresh.aria_label"),className:"btn refresh-action",iconClassName:"fa-repeat",launcherMode:"icon-only"}},resetAction:{launcherOptions:{label:r("oro_datagrid.action.reset"),ariaLabel:r("oro_datagrid.action.reset.aria_label"),className:"btn reset-action",iconClassName:"fa-refresh",launcherMode:"icon-only"}}},rowClickAction:void 0,multipleSorting:!0,rowActions:[],massActions:new n.Collection,enableFullScreenLayout:!1,scopeDelimiter:":"},DEFAULT_COLUMN_START_INDEX:1e3,template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/grid.html"),themeOptions:{optionPrefix:"grid"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){const t=e||{};if(this.pluginManager=new C(this),e.plugins)for(let t=0;t<e.plugins.length;t++){const i=e.plugins[t];s.isFunction(i)?this.pluginManager.enable(i):(this.pluginManager.create(i.constructor,i.options),this.pluginManager.enable(i.constructor))}this.trigger("beforeParseOptions",e),this.className&&this.$el.addClass(s.result(this,"className")),this._validateOptions(t),this._initProperties(t),this.themeOptionsConfigurator&&this.listenTo(this.columns,"configureInitializeOptions",this.themeOptionsConfigurator),this.filteredColumns=S.createFilteredColumnCollection(this.columns),e.filteredColumns=this.filteredColumns,this.trigger("beforeBackgridInitialize"),this.backgridInitialize(e),this.trigger("afterBackgridInitialize"),this._listenToCollectionEvents(),this._listenToContentEvents(),this._listenToCommands()},_validateOptions:function(e){if(!e.collection)throw new TypeError('"collection" is required');if(!e.columns)throw new TypeError('"columns" is required');if(!e.metadataModel)throw new TypeError('"metadataModel" is required')},_initProperties:function(e){this.collection=e.collection,0===e.columns.length&&(this.noColumnsFlag=!0),s.extend(this,T.deepClone(this.defaults),e),this._initToolbars(e),this._initActions(e),this.exportOptions={},s.extend(this.exportOptions,e.exportOptions),this.collection.multipleSorting=this.multipleSorting,this._initRowActions(),this.rowClickAction&&(e.rowClassName=this.rowClickActionClass+" "+this.rowClassName),this._initColumns(e)},backgridInitialize:function(e){const t=this.gridRowsCounter=new k(this),i=Object.assign({gridRowsCounter:t},s.omit(e,["el","id","attributes","className","tagName","events","themeOptions"]));this.header=e.header||this.header;const n=Object.assign({},i);this.columns.trigger("configureInitializeOptions",this.header,n),n.themeOptions.hide&&(this.header=null),this.body=e.body||this.body;const o=Object.assign({},i);this.columns.trigger("configureInitializeOptions",this.body,o),this.footer=e.footer||this.footer;const r=Object.assign({},i);this.columns.trigger("configureInitializeOptions",this.footer,r),r.themeOptions.hide&&(this.footer=null),this.body&&(this.body=new this.body(o),this.subview("body",this.body)),this.header&&(this.header=new this.header(n),this.subview("header",this.header),"selectState"in this.header.row.subviews[0]&&(this.selectState=this.header.row.subviews[0].selectState)),null===this.selectState&&(this.selectState=new _),this.footer&&(this.footer=new this.footer(r),this.subview("footer",this.footer)),this.listenTo(this.columns,"reset",(function(){this.header&&(this.header=new(this.header.remove().constructor)(n)),this.body&&(this.body=new(this.body.remove().constructor)(o)),this.footer&&(this.footer=new(this.footer.remove().constructor)(r)),this.render()})),this.listenTo(this.collection,{remove:this.onCollectionModelRemove,updateState:this.onCollectionUpdateState,"backgrid:selected":this.onSelectRow,"backgrid:selectAll":this.selectAll,"backgrid:selectAllVisible":this.selectAllVisible,"backgrid:selectNone":this.selectNone,"backgrid:isSelected":this.isSelected,"backgrid:getSelected":this.getSelected})},onCollectionUpdateState:function(e,t){this.stateIsResettable(e.previousState,t)&&this.selectNone()},onCollectionModelRemove:function(e){this.selectState.removeRow(e)},onSelectRow:function(e,t){t===this.selectState.get("inset")?this.selectState.addRow(e):this.selectState.removeRow(e)},selectAll:function(){this.collection.each((function(e){e.trigger("backgrid:select",e,!0)})),this.selectState.reset({inset:!1})},selectNone:function(){this.collection.each((function(e){e.trigger("backgrid:select",e,!1)})),this.selectState.reset()},selectAllVisible:function(){this.selectState.reset(),this.collection.each((function(e){e.trigger("backgrid:select",e,!0)}))},isSelected:function(e,i){t.isPlainObject(i)&&(i.selected=this.selectState.hasRow(e)===this.selectState.get("inset"))},getSelected:function(e){t.isEmptyObject(e)&&(e.selected=this.selectState.get("rows"),e.inset=this.selectState.get("inset"))},stateIsResettable:function(e,t){const i=["filters","gridView","pageSize"];return!T.isEqualsLoosely(s.pick(e,i),s.pick(t,i))},_initToolbars:function(e){this.toolbars={},this.toolbarOptions={},s.extend(this.toolbarOptions,this.defaults.toolbarOptions,e.toolbarOptions)},_initActions:function(e){const i=e.themeOptions.actionOptions;s.isObject(i)&&(this.actionOptions=t.extend(!0,{},this.actionOptions,i))},dispose:function(){this.disposed||(this.pluginManager.dispose(),this.filteredColumns.dispose(),delete this.filteredColumns,this.columns.dispose(),delete this.columns,delete this.refreshAction,delete this.resetAction,delete this.exportAction,delete this.gridRowsCounter,s.each(["header","body","footer","loadingMask"],(function(e){this[e]&&(this[e].dispose(),delete this[e])}),this),this.callToolbar("dispose"),delete this.toolbars,a.off("import-export:handleExport",this.onHandleExport,this),E.__super__.dispose.call(this))},delegateEvents:function(e){E.__super__.delegateEvents.call(this,e);let t=this.$(".grid-container").parents();return t.length&&(t=t.add(document),t.on("scroll"+this.eventNamespace(),this.trigger.bind(this,"scroll")),this._$boundScrollHandlerParents=t,this.listenTo(this.collection,"backgrid:sort",s.debounce(this.sort,50),this)),a.on("import-export:handleExport",this.onHandleExport,this),this},onHandleExport:function(e){if(e.hasOwnProperty("filteredResultsGrid")){const t=T.unpackFromQueryString(window.location.search),i=e.filteredResultsGrid;t.hasOwnProperty("grid")&&t.grid.hasOwnProperty(i)&&(e.filteredResultsGridParams=t.grid[i])}},undelegateEvents:function(){return E.__super__.undelegateEvents.call(this),this._$boundScrollHandlerParents&&(this._$boundScrollHandlerParents.off(this.eventNamespace()),delete this._$boundScrollHandlerParents),this.stopListening(this.collection,"backgrid:sort"),this},_initColumns:function(e){Object.keys(this.rowActions).length>0&&e.columns.push(this._createActionsColumn()),e.multiSelectRowEnabled&&e.columns.unshift(this._createSelectRowColumn());for(let t=0;t<e.columns.length;t++){const i=e.columns[t];void 0!==i.order||i instanceof o.Column||(i.order=t+this.DEFAULT_COLUMN_START_INDEX),i.metadata=s.findWhere(e.metadata.columns,{name:i.name})}this.columns=e.columns=new h(e.columns),this.columns.sort(),this.trigger("columns:ready")},_initRowActions:function(){this.rowClickAction||(this.rowClickAction=s.find(this.rowActions,(function(e){return Boolean(e.prototype.rowAction)})))},_createActionsColumn:function(){return new this.actionsColumn({datagrid:this,actions:this.rowActions,massActions:this.massActions,manageable:!1,order:1/0,notMarkAsBlank:!0})},_createSelectRowColumn:function(){return new o.Column({name:"massAction",label:r("Selected Rows"),renderable:!0,sortable:!1,editable:!1,manageable:!1,cell:this.selectRowCell,headerCell:this.selectAllHeaderCell,order:-1/0,notMarkAsBlank:!0})},getSelectionState:function(){return{selectedIds:this.selectState.get("rows"),inset:this.selectState.get("inset")}},resetSelectionState:function(e){this.collection.trigger("backgrid:selectNone"),e&&e.selectedIds&&this.collection.each((function(t){-1!==e.selectedIds.indexOf(t)&&t.trigger("backgrid:selected",t,!0)}))},_createToolbar:function(e){const t=this.collection.options.modules.datagridSettingsComponentCustom||null,i=this.sortActions,n={collection:this.collection,actions:this._getToolbarActions(),extraActions:this._getToolbarExtraActions(),columns:this.columns,componentConstructor:t,addToolbarAction:function(e){n.actions.push(e),i(n.actions)}};s.defaults(n,e),this.columns.trigger("configureInitializeOptions",this.toolbar,n),this.trigger("beforeToolbarInit",n);const o=new this.toolbar(n);return this.trigger("afterToolbarInit",o),o},sortActions:function(e){e.sort((function(e,t){return(e.order||500)-(t.order||500)}))},_getToolbarActions:function(){const e=[];if(this.toolbarOptions.addRefreshAction&&e.push(this.getRefreshAction()),this.toolbarOptions.addResetAction&&e.push(this.getResetAction()),this.toolbarOptions.addAppearanceSwitcher){const t=new v({datagrid:this,launcherOptions:{label:r("oro_datagrid.action.appearance"),items:this.toolbarOptions.availableAppearances,attributes:{"data-placement":"bottom-end"},className:"btn btn-icon data-appearance-selector"},order:700});this.on("appearanceChanged",(function(e,i){const n=s.findWhere(t.launcherInstance.items,{key:i.type,id:i.id||"by_type"});if(!n)throw new Error("Could not find corresponding launcher item");t.launcherInstance.selectedItem=n,t.launcherInstance.render()})),e.push(t)}return this.sortActions(e),e},changeAppearance:function(e,t){this.switchAppearanceClass(e),this.trigger("changeAppearance",e,t)},switchAppearanceClass:function(e){const t=s.find(this.el.classList,(function(e){return/-appearance$/.test(e)}));t&&this.$el.removeClass(t),e&&this.$el.addClass(e+"-appearance")},_getToolbarExtraActions:function(){const e=[];return s.isEmpty(this.exportOptions)||e.push(this.getExportAction()),e},getRefreshAction:function(){return this.refreshAction||(this.refreshAction=new b({datagrid:this,launcherOptions:this.actionOptions.refreshAction.launcherOptions,order:100}),this.listenTo(a,"datagrid:doRefresh:"+this.name,s.debounce((function(e){e||this.$el.is(":visible")?this.refreshAction.execute():this._hasDeferRefresh=!0}),100,!0)),this.listenTo(a,"content:shown",function(){this._hasDeferRefresh&&this.$el.is(":visible")&&(delete this._hasDeferRefresh,this.refreshAction.execute())}.bind(this)),this.listenTo(this.refreshAction,"preExecute",(function(e,t){this.$el.trigger("preExecute:refresh:"+this.name,[e,t])}))),this.refreshAction},getResetAction:function(){return this.resetAction||(this.resetAction=new w({datagrid:this,launcherOptions:this.actionOptions.resetAction.launcherOptions,order:200}),this.listenTo(a,"datagrid:doReset:"+this.name,s.debounce((function(){this.$el.is(":visible")&&this.resetAction.execute()}),100,!0)),this.listenTo(this.resetAction,"preExecute",(function(e,t){this.$el.trigger("preExecute:reset:"+this.name,[e,t])}))),this.resetAction},getExportAction:function(){if(!this.exportAction){const e=[];s.each(this.exportOptions,(function(t,i){e.push({key:i,label:t.label,show_max_export_records_dialog:t.show_max_export_records_dialog,max_export_records:t.max_export_records,attributes:{class:"no-hash",download:null}})})),this.exportAction=new j({datagrid:this,launcherOptions:{label:r("oro.datagrid.extension.export.label"),title:r("oro.datagrid.extension.export.tooltip"),className:"btn",iconClassName:"fa-upload",links:e}}),this.listenTo(this.exportAction,"preExecute",(function(e,t){this.$el.trigger("preExecute:export:"+this.name,[e,t])}))}return this.exportAction},_listenToCollectionEvents:function(){this.listenTo(this.collection,"request",(function(e,t,i={}){this._beforeRequest(i);const s=t.always;t.always=(...e)=>{s.apply(t,e),this.disposed||this._afterRequest(t,i)}})),this.listenTo(this.collection,"remove",this._onRemove),this.listenTo(this.collection,"add reset",this.setGridAriaAttrs),this.listenTo(this.collection,"change",(function(e){this.$el.trigger("datagrid:change:"+this.name,e)}))},_listenToContentEvents:function(){this.listenTo(this.body,"rowClicked",(function(e,t){this.trigger("rowClicked",this,e),this.runRowClickAction(e.model,t)})),this.listenTo(this.columns,"change:renderable",(function(){this.trigger("content:update")})),this.header&&this.listenTo(this.header.row,"columns:reorder",(function(){s.defer(this.trigger.bind(this,"content:update"))}))},runRowClickAction:function(e,t){if(!this.rowClickAction)return;const i=new this.rowClickAction({datagrid:this,model:e});"function"==typeof i.dispose&&this.subviews.push(i);const s=e.get("action_configuration");s&&!1===s[i.name]||i.run(t)},_listenToCommands:function(){this.listenTo(a,"datagrid:setParam:"+this.name,(function(e,t){this.setAdditionalParameter(e,t)})),this.listenTo(a,"datagrid:removeParam:"+this.name,(function(e){this.removeAdditionalParameter(e)})),this.listenTo(a,"datagrid:restoreState:"+this.name,(function(e,t,i,n){this.collection.each((function(o){-1!==s.indexOf(i,o.get(t))&&o.set(e,!0),-1!==s.indexOf(n,o.get(t))&&o.set(e,!1)}))})),this.listenTo(a,"datagrid:restoreChangeset:"+this.name,(function(e,t){this.collection.each((function(i){t[i.get(e)]&&s.each(t[i.get(e)],(function(e,t){i.set(t,e)}))}))})),this.listenTo(a,"datagrid:changeColumnParam:"+this.name,(function(e,t,i){this.changeColumnParam(e,t,i)})),this.listenTo(a,"datagrid:doRefresh:"+this.name,(function(){this.refreshAction||this._onDatagridRefresh()})),this.listenTo(a,"datagrid:highlightNew:"+this.name,((...e)=>{e=e.map((e=>e.toString())),this.collection.each((t=>{e.includes(t.id)&&t.set("isNew",!0)}))})),this.listenTo(a,"datagrid:doInitialRefresh:"+this.name,(()=>{this.setAdditionalParameter("refresh",!0),this.collection.getFirstPage(),this.removeAdditionalParameter("refresh")}))},changeColumnParam:function(e,t,i){this.columns.each((function(s){s.get("name")===e&&t in s&&s.set(t,i)}))},render:function(){return this.$el.html(this.template({tableTagName:this.themeOptions.tagName||"table",tableClassName:this.themeOptions.tableClassName||""})),this.$grid=this.$(this.selectors.grid),this.renderToolbar(),this.renderGrid(),this.renderNoDataBlock(),this.renderLoadingMask(),this.delegateEvents(),this.listenTo(this.collection,"reset remove sync",this.renderNoDataBlock),this._deferredRender(),this.initLayout({datagrid:this}).always((()=>{this.rendered=!0,this.trigger("rendered"),a.trigger("grid_render:complete",this.$el),this._resolveDeferredRender()})),this.rendered=!0,this.switchAppearanceClass(s.result(this.metadata.state,"appearanceType")),this},renderGrid:function(){this.header&&this.$grid.append(this.header.render().$el),this.body&&this.$grid.append(this.body.render().$el),this.footer&&this.$grid.append(this.footer.render().$el),this.$grid.attr("role","grid"),this.setGridAriaAttrs(),a.trigger("grid_load:complete",this.collection,this.$grid)},setGridAriaAttrs(){this.$grid.attr({"aria-rowcount":this.gridRowsCounter.getGridRowsCount(),"aria-colcount":this.columns.filter((e=>e.renderable)).length})},renderToolbar:function(){const e=this;s.each(this.toolbarOptions.placement,(function(t,i){t&&e.$(e.selectors.toolbars[i]).append(e.getToolbar(i).render().$el)}))},getToolbar:function(e){if(this.toolbars[e])return this.toolbars[e];const t=s.extend(this.toolbarOptions,{el:this.$(this.selectors.toolbars[e])});return this.toolbars[e]=this._createToolbar(t),this.toolbars[e]},callToolbar:function(e){s.invoke(this.toolbars,e)},renderLoadingMask:function(){this.loadingMask&&this.loadingMask.dispose(),this.loadingMask=new l({container:this.$(this.selectors.loadingMaskContainer)}),this.subview("loadingMask",this.loadingMask)},_defineNoDataBlock:function(){let e;const t={entityHint:(this.entityHint||r(this.noDataTranslations.entityHint)).toLowerCase()};e=this.noColumnsFlag||s.isEmpty(this.collection.state.filters)?s.has(this.noDataMessages,"emptyGrid")?this.getEmptyGridCustomMessage(this.noDataMessages.emptyGrid):this.getEmptyGridMessage(t):s.has(this.noDataMessages,"emptyFilteredGrid")?this.getEmptySearchResultCustomMessage(this.noDataMessages.emptyFilteredGrid):this.getEmptySearchResultMessage(t),this.$(this.selectors.noDataBlock).html(e)},getEmptyGridMessage:function(e){const t=this.noColumnsFlag?this.noDataTranslations.noColumns:this.noDataTranslations.noEntities;return this.noDataTemplate({text:r(t,e)})},getEmptyGridCustomMessage:function(e){return this.noDataTemplate({text:e})},getEmptySearchResultMessage:function(e){return this.noSearchResultsTemplate({title:r(this.noDataTranslations.noResultsTitle),text:r(this.noDataTranslations.noResults,e)})},getEmptySearchResultCustomMessage:function(e){return this.noSearchResultsTemplate({title:r(this.noDataTranslations.noResultsTitle),text:e})},_beforeRequest:function(e={}){const{toggleLoading:t=!0}=e;this.requestsCount+=1,t&&this.showLoading(),this.lockToolBar()},_afterRequest:function(e,t={}){const i=e.responseJSON||{},{toggleLoading:s=!0}=t;i.metadata&&this._processLoadedMetadata(i.metadata),this.requestsCount-=1,0===this.requestsCount&&(s&&this.hideLoading(),this.unlockToolBar(),a.trigger("grid_load:complete",this.collection,this.$el),this.initLayout(),this.trigger("content:update"))},_processLoadedMetadata:function(e){s.extend(this.metadata,e),this.metadataModel.set(e),a.trigger("datagrid:metadata-loaded",this)},showLoading:function(){this.loadingMask.show(),this.trigger("loading-mask:show")},lockToolBar:function(){this.callToolbar("disable"),this.trigger("disable")},hideLoading:function(){this.trigger("loading-mask:hide"),this.loadingMask.hide()},unlockToolBar:function(){this.callToolbar("enable"),this.trigger("enable")},renderNoDataBlock:function(){this._defineNoDataBlock(),this.$el.toggleClass("no-data-visible",this.collection.models.length<=0||this.noColumnsFlag)},_onRemove:function(e,t,i={}){if(a.trigger("datagrid:beforeRemoveRow:"+this.name,e),t){const e=["mode","parse","reset","wait","uniqueOnly","add","remove","merge","toggleLoading"];let n={reset:!0,alreadySynced:!0},o=s.pick(t.options,e);t.options.parseResponseOptions&&(o=s.extend(o,s.pick(t.options.parseResponseOptions(),e))),n=s.extend(n,o,s.pick(i,e)),i.alreadySynced||this.collection.fetch(n)}this.setGridAriaAttrs(),a.trigger("datagrid:afterRemoveRow:"+this.name)},_onDatagridRefresh:function(){this.setAdditionalParameter("refresh",!0),this.collection.fetch({reset:!0}),this.removeAdditionalParameter("refresh")},setAdditionalParameter:function(e,t){const i=this.collection.state;s.has(i,"parameters")||(i.parameters={}),i.parameters[e]=t},removeAdditionalParameter:function(e){const t=this.collection.state;s.has(t,"parameters")&&delete t.parameters[e]},ensureCellIsVisible:function(e){const i=t.Event("ensureCellIsVisible");this.trigger("ensureCellIsVisible",i,e),i.isDefaultPrevented()||y.scrollIntoView(e.el)},findCell:function(e,t){const i=this.body.rows;for(let s=0;s<i.length;s++){const n=i[s];if(n.model===e){const e=n.subviews;for(let i=0;i<e.length;i++){const s=e[i];if(s.column===t)return s}}}return null},findCellByIndex:function(e,t){try{return s.findWhere(this.body.subviews[e].subviews,{column:this.columns.at(t)})}catch(e){return null}},findHeaderCellByIndex:function(e){if(!this.header)return null;try{return s.findWhere(this.header.row.subviews,{column:this.columns.at(e)})}catch(e){return null}},backgridRefresh:function(){return this.render(),this.collection.trigger("backgrid:refresh",this),this},makeComparator:function(e,t,i){return function(s,n){let o,r=i(s,e),a=i(n,e);return 1===t&&(o=r,r=a,a=o),r===a?0:r<a?-1:1}},sort:function(e,t){if(!s.contains(["ascending","descending",null],t))throw new RangeError('direction must be one of "ascending", "descending" or `null`');s.isString(e)&&e.length&&(e=this.columns.findWhere({name:e}));let i=null,n=null;s.isObject(e)?(i=e.get("name"),n=e.sortValue()):e=null;const o=this.collection;let r,a;r="ascending"===t?"-1":"descending"===t?"1":null,a=r?n:function(e){return 1*e.cid.replace("c","")};const l=this.makeComparator(i,r,a);return o instanceof x?(o.setSorting(i,r,{sortValue:n}),o.fullCollection?(null!==o.fullCollection.comparator&&void 0!==o.fullCollection.comparator||(o.fullCollection.comparator=l),o.fullCollection.sort(),o.trigger("backgrid:sorted",e,t,o)):o.fetch({reset:!0,success:function(){o.trigger("backgrid:sorted",e,t,o)}})):(o.comparator=l,o.sort(),o.trigger("backgrid:sorted",e,t,o)),e&&e.set("direction",t),this},getGridScope:function(){const e=this.name.split(this.scopeDelimiter);if(e.length>2)throw new Error('Grid name is invalid, it should not contain more than one occurrence of "'+this.scopeDelimiter+'"');return 2===e.length?e[1]:null}});return E}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/header-cell/action-header-cell.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/orotranslation/js/translator.js"),s=i("./bundles/orodatagrid/js/extend/backgrid.js"),n=i("./bundles/orodatagrid/js/datagrid/actions-panel.js"),o=i("./bundles/oroui/js/app/views/base/view.js"),r=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/action-header-cell.html"),a=o.extend({optionNames:["column"],_attributes(){const e=s.Cell.prototype._attributes.call(this);return e["aria-label"]=t("oro.datagrid.cell.action_header.aria_label"),e},keepElement:!1,className:"action-column renderable",tagName:"th",template:r,actionsPanel:n,options:{controls:"[data-toggle=dropdown]"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){a.__super__.initialize.call(this,e),this.column=e.column,this.column instanceof s.Column||(this.column=new s.Column(this.column)),this.createActionsPanel();const t=this.column.get("datagrid");this.listenTo(t,"enable",this.enable),this.listenTo(t,"disable",this.disable),this.listenTo(t.massActions,"reset",this.rebuildAndRender)},dispose:function(){this.disposed||(delete this.column,a.__super__.dispose.call(this),delete this.actionsPanel)},createActionsPanel:function(){const e=[],t=this.column.get("datagrid");this.column.get("massActions").each((function(i){const s=i.get("module");e.push(new s({datagrid:t}))})),this.subview("actionsPanel",new this.actionsPanel({actions:e}))},render:function(){const e=this.subview("actionsPanel");return this.$el.empty(),e.haveActions()&&(this.$el.append(this.getTemplateFunction()(this.getTemplateData())),e.setElement(this.$("[data-action-panel]")),e.render(),e.$el.children().wrap("<li/>")),this},rebuildAndRender:function(e){this.column.set("massActions",e),this.createActionsPanel(),this.render()},enable:function(){this.subview("actionsPanel").enable(),this.$(this.options.controls).attr({tabindex:null,"aria-disabled":null}).removeClass("disabled")},disable:function(){this.subview("actionsPanel").disable(),this.$(this.options.controls).attr({tabindex:-1,"aria-disabled":!0}).addClass("disabled")}});return a}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/header-cell/header-cell.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/orodatagrid/js/extend/backgrid.js"),n=i("./bundles/oroui/js/tools/text-util.js"),o=i("./bundles/orodatagrid/js/app/views/hint-view.js"),r=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/grid-header-cell.html"),a=s.HeaderCell.extend({template:r,allowNoSorting:!0,minWordsToAbbreviate:4,keepElement:!1,events:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",focusin:"onFocusin",focusout:"onFocusout",click:"onClick"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.allowNoSorting=this.collection.multipleSorting,a.__super__.initialize.call(this,e),this._initCellDirection(this.collection),this.listenTo(this.collection,"reset",this._initCellDirection),this.listenTo(this.column,"change:direction",this._updateAttributes)},dispose:function(){this.disposed||(delete this.column,a.__super__.dispose.call(this))},_resetCellDirection:function(){},removeCellDirection:function(){},_initCellDirection:function(e){if(e===this.collection){const i=e.state;let s=null;const n=this.column.get("name");this.column.get("sortable")&&t.has(i.sorters,n)&&(1===parseInt(i.sorters[n],10)?s="descending":-1===parseInt(i.sorters[n],10)&&(s="ascending")),s!==this.column.get("direction")&&this.column.set({direction:s}),this.column.get("sortable")&&this._updateAttributes()}},render:function(){this.$el.empty();let e=this.column.get("label");!1!==this.column.get("shortenableLabel")&&(e=n.abbreviate(e,this.minWordsToAbbreviate),this.isLabelAbbreviated=e!==this.column.get("label"),this.isLabelAbbreviated||this.$el.addClass("shortenable-label")),this.$el.append(this.template({label:e,sortable:this.column.get("sortable")})),this.column.has("width")&&this.$el.width(this.column.get("width"));const i=this.column.get("oldCell")||this.column.get("cell");return t.isFunction(i.prototype.className)||this.$el.addClass(i.prototype.className),this.column.has("align")&&(this.$el.removeClass("align-left align-center align-right"),this.$el.addClass("align-"+this.column.get("align"))),this.isLabelAbbreviated&&(this.$("[data-grid-header-cell-label]").attr("aria-label",this.column.get("label")),this.$("[data-grid-header-cell-text]").attr("aria-hidden",!0)),this},onClick:function(e){e.preventDefault();const t=this.column,i=this.collection,n="backgrid:sort",o=(e,s)=>{"ascending"===t.get("direction")?i.trigger(n,s,"descending"):this.allowNoSorting&&"descending"===t.get("direction")?i.trigger(n,s,null):i.trigger(n,s,"ascending")};var r;s.callByNeed(t.sortable(),t,this.collection)&&("toggle"===t.get("sortType")?(r=t,"ascending"===t.get("direction")?i.trigger(n,r,"descending"):i.trigger(n,r,"ascending")):o(0,t))},onMouseEnter(e){this.isHovered=!0,this.showHint()},onMouseLeave(e){delete this.isHovered,this.isFocused||this.hideHint()},onFocusin(e){this.isFocused=!0,this.showHint()},onFocusout(e){delete this.isFocused,this.isHovered||this.hideHint()},showHint(){!this.isLabelAbbreviated||this.hintTimeout||this.subview("hint")||(this.subview("hint",new o({el:this.$("[data-grid-header-cell-label]"),offsetOfEl:this.$el,autoRender:!0,popoverConfig:{content:this.column.get("label")}})),this.hintTimeout=setTimeout(function(){const e=this.subview("hint");!e||!this.isLabelAbbreviated&&e.fullLabelIsVisible()||this.subview("hint").show()}.bind(this),300))},hideHint(){clearTimeout(this.hintTimeout),delete this.hintTimeout,this.subview("hint")&&this.removeSubview("hint")},_updateAttributes(){this.disposed||this._setAttributes(this._collectAttributes())},_attributes(){return{"aria-sort":this.column.get("direction")||"none"}}});return a}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/header-cell/select-all-header-cell.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/jquery.js"),s=i("./bundles/oroui/js/extend/underscore.js"),n=i("./bundles/orodatagrid/js/extend/backgrid.js"),o=i("./bundles/orodatagrid/js/datagrid/select-state-model.js"),r=i("./bundles/oroui/js/app/views/base/view.js"),a=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/select-all-header-cell.html"),l=r.extend({optionNames:["column"],_attributes:n.Cell.prototype._attributes,keepElement:!1,className:"select-all-header-cell renderable",tagName:"th",template:a,selectState:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){const t=s.debounce(this.updateState.bind(this),50);this.column instanceof n.Column||(this.column=new n.Column(this.column)),this.selectState=new o,this.listenTo(this.selectState,"change",t)},dispose:function(){this.disposed||(delete this.selectState,delete this.column,l.__super__.dispose.call(this))},updateState:function(e){this.$("[data-select]:checkbox").prop({indeterminate:!e.isEmpty(),checked:!e.get("inset")})},render:function(){return this.$el.html(this.getTemplateFunction()(this.getTemplateData())),this.delegateEvents(),this},delegateEvents:function(e){return l.__super__.delegateEvents.call(this,e),this.$(".dropdown-menu").on("click"+this.eventNamespace(),this.onDropdownClick.bind(this)),this.$("[data-select]:checkbox").on("click"+this.eventNamespace(),this.onCheckboxClick.bind(this)),this},undelegateEvents:function(){return this.$el&&(this.$(".dropdown-menu").off(this.eventNamespace()),this.$("[data-select]:checkbox").off(this.eventNamespace())),l.__super__.undelegateEvents.call(this)},onCheckboxClick:function(e){this.selectState.get("inset")&&this.selectState.isEmpty()?this.collection.trigger("backgrid:selectAll"):this.collection.trigger("backgrid:selectNone"),e.stopPropagation()},onDropdownClick:function(e){const i=t(e.target);i.is("[data-select-all]")?this.collection.trigger("backgrid:selectAll"):i.is("[data-select-all-visible]")?this.collection.trigger("backgrid:selectAllVisible"):i.is("[data-select-none]")&&this.collection.trigger("backgrid:selectNone"),e.preventDefault()}});return l}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/header-row.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/orodatagrid/js/datagrid/header-cell/header-cell.js"),n=i("./bundles/oroui/js/extend/chaplin.js"),o=i("./bundles/orodatagrid/js/app/components/column-renderer-component.js"),r=n.CollectionView.extend({optionNames:["ariaRowIndex"],tagName:"tr",className:"",animationDuration:0,autoRender:!0,themeOptions:{optionPrefix:"headerRow",className:"grid-header-row"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.columns=e.columns,this.dataCollection=e.dataCollection;const i=this;t.extend(this,t.pick(e,["themeOptions","template"])),this.itemView||(this.itemView=function(e){const t=e.model,n=t.get("headerCell")||e.headerCell||s,o={column:t,collection:i.dataCollection,themeOptions:{className:"grid-cell grid-header-cell"}};return t.get("name")&&(o.themeOptions.className+=" grid-header-cell-"+t.get("name")),i.columns.trigger("configureInitializeOptions",n,o),new n(o)}),this.columnRenderer=new o(e),r.__super__.initialize.call(this,e),this.cells=this.subviews},dispose:function(){this.disposed||(delete this.cells,delete this.columns,delete this.dataCollection,r.__super__.dispose.call(this))},render:function(){return this._deferredRender(),this.template?this.renderCustomTemplate():r.__super__.render.call(this),this._resolveDeferredRender(),this},renderCustomTemplate:function(){const e=this;return this.$el.html(this.template({themeOptions:this.themeOptions?this.themeOptions:{},render:function(i){const s=t.find(e.columns.models,(function(e){return e.get("name")===i}));return s?e.columnRenderer.getHtml(e.renderItem(s).$el):""},attributes:function(i,s){const n=s||{},o=t.find(e.columns.models,(function(e){return e.get("name")===i}));return o?(n.id=o.get("name"),e.columnRenderer.getRawAttributes(e.renderItem(o).$el,n)):""}})),t.each(this.getItemViews(),(function(e){e.setElement(this.$("#"+e.column.get("name"))),e.$el.attr("id",null)}),this),this},_attributes(){return{"aria-rowindex":this.ariaRowIndex}}});return r}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/header.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/extend/backbone.js"),n=i("./bundles/orodatagrid/js/extend/backgrid.js"),o=i("./bundles/orodatagrid/js/datagrid/header-row.js"),r=i("./bundles/orodatagrid/js/datagrid/header-cell/header-cell.js"),a=n.Header.extend({tagName:"thead",row:o,headerCell:r,themeOptions:{optionPrefix:"header",className:"grid-header"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(t.extend(this,t.pick(e,["themeOptions"])),!e.collection)throw new TypeError('"collection" is required');if(!e.columns)throw new TypeError('"columns" is required');this.columns=e.columns,this.columns instanceof s.Collection||(this.columns=new n.Columns(this.columns)),this.filteredColumns=e.filteredColumns;const i={columns:this.columns,collection:this.filteredColumns,dataCollection:this.collection,headerCell:this.headerCell,ariaRowIndex:1};this.columns.trigger("configureInitializeOptions",this.row,i),this.row=new this.row(i),this.subviews=[this.row]},getRowsCount:()=>1,dispose:function(){this.disposed||(this.row.dispose(),delete this.row,delete this.columns,delete this.filteredColumns,a.__super__.dispose.call(this))}});return a}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/listener/abstract-grid-change-listener.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/jquery.js"),i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/orotranslation/js/translator.js"),i("./bundles/oroui/js/modal.js"),i("./bundles/orodatagrid/js/datagrid/listener/abstract-listener.js")],void 0===(n=function(e,t,i,s,n){"use strict";const o=n.extend({confirmModal:{},constructor:function e(...t){e.__super__.constructor.apply(this,t)},dispose:function(){this.disposed||(t.each(this.confirmModal,(function(e){e.dispose()})),delete this.confirmModal,o.__super__.dispose.call(this))},setDatagridAndSubscribe:function(){o.__super__.setDatagridAndSubscribe.call(this),this._clearState(),this._restoreState()},getGridEvents:function(){const e=o.__super__.getGridEvents.call(this);return e["preExecute:refresh:"+this.gridName]=this._onExecuteRefreshAction.bind(this),e["preExecute:reset:"+this.gridName]=this._onExecuteResetAction.bind(this),e},_clearState:function(){throw new Error("_clearState method is abstract and must be implemented")},_synchronizeState:function(){throw new Error("_synchronizeState method is abstract and must be implemented")},_restoreState:function(){throw new Error("_restoreState method is abstract and must be implemented")},_onExecuteRefreshAction:function(e,t,s){this._confirmAction(t,s,"refresh",{title:i("Refresh Confirmation"),content:i("Your local changes will be lost. Are you sure you want to refresh grid?")})},_onExecuteResetAction:function(e,t,s){this._confirmAction(t,s,"reset",{title:i("Reset Confirmation"),content:i("Your local changes will be lost. Are you sure you want to reset grid?")})},_confirmAction:function(e,t,i,s){this.confirmed=this.confirmed||{},!this.confirmed[i]&&this._hasChanges()&&(t.doExecute=!1,this._openConfirmDialog(i,s,(function(){this.confirmed[i]=!0,this._clearState(),this._synchronizeState(),t.doExecute=!0,e.run(t)}))),this.confirmed[i]=!1},_hasChanges:function(){throw new Error("_hasChanges method is abstract and must be implemented")},_openConfirmDialog:function(e,n,o){this.confirmModal[e]||(this.confirmModal[e]=new s(t.extend({title:i("Confirmation"),okText:i("Ok, got it"),className:"modal modal-primary",disposeOnHidden:!1},n)),this.confirmModal[e].on("ok",o.bind(this))),this.confirmModal[e].open()}});return o}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/listener/action-form-listener.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/oroui/js/mediator.js"),i("./bundles/orodatagrid/js/datagrid/listener/abstract-listener.js")],void 0===(n=function(e,t,i){"use strict";const s=i.extend({constructor:function e(...t){e.__super__.constructor.apply(this,t)},initialize:function(e){t.on("datagrid:frontend:execute:"+e.gridName,this.onFrontAction,this),t.on("datagrid:mass:frontend:execute:"+e.gridName,this.onFrontMassAction,this)},onFrontAction:function(t){const i=t.configuration.triggerAction,s=t.datagrid.collection;e.isUndefined(i)||"excludeRow"===i&&(s.trigger("excludeRow",t.model.get("id")),s.trigger("remove",t.model))},onFrontMassAction:function(t){const i=t.configuration.triggerAction;if(e.isUndefined(i))return;const s=t.datagrid.collection,n=t.datagrid.getSelectionState().selectedIds;"excludeRow"===i&&(e.each(n,(function(e){s.trigger("excludeRow",e),s.trigger("remove",s.get(e),!1)})),s.fetch({reset:!0}))},_processValue:function(e,t){}});return s.init=function(e,t){t.gridPromise.done((function(t){const i={$gridContainer:t.$el,gridName:t.name,grid:t},n=new s(i);e.resolve(n)})).fail((function(){e.reject()}))},s}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/listener/change-editable-cell-listener.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/jquery.js"),i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/oroui/js/mediator.js"),i("./bundles/orodatagrid/js/datagrid/listener/abstract-grid-change-listener.js")],void 0===(n=function(e,t,i,s){"use strict";const n=s.extend({selector:null,constructor:function e(...t){e.__super__.constructor.apply(this,t)},initialize:function(i){if(!t.has(i,"selector"))throw new Error("Parameter selector is not specified");if(this.selector=i.selector,!e(this.selector).length)throw new Error("DOM element for selector not found");n.__super__.initialize.call(this,i)},setDatagridAndSubscribe:function(){n.__super__.setDatagridAndSubscribe.call(this),i.bind("grid_load:complete",(function(){this._restoreState()}),this)},_onModelEdited:function(e,i){const s=i.changed,n=this.columnName;if(t.each(s,(function(e,i){-1===t.indexOf(n,i)&&delete s[i]})),t.isEmpty(s))return;const o=i.get(this.dataField);t.isUndefined(o)||this._processValue(o,s)},_processValue:function(e,i){const s=this.get("changeset");t.has(s,e)||(s[e]={}),s[e]=t.extend(s[e],i),this.set("changeset",s),this._synchronizeState()},_clearState:function(){this.set("changeset",{})},_synchronizeState:function(){e(this.selector).val(JSON.stringify(this.get("changeset")))},_toObject:function(e){return e?JSON.parse(e):{}},_restoreState:function(){let s={};const n=e(this.selector);n.length&&(s=this._toObject(n.val()),this.set("changeset",s)),t.isEmpty(s)||i.trigger("datagrid:restoreChangeset:"+this.gridName,this.dataField,s)},_hasChanges:function(){return!t.isEmpty(this.get("changeset"))}});return n.init=function(e,i){const s=i.metadata.options||{},o=i.gridPromise;s.cellSelection?o.done((function(i){const o=t.defaults({$gridContainer:i.$el,gridName:i.name},s.cellSelection),r=new n(o);e.resolve(r)})).fail((function(){e.reject()})):e.reject()},n}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/listener/column-form-listener.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/jquery.js"),i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/oroui/js/mediator.js"),i("./bundles/orodatagrid/js/datagrid/listener/abstract-grid-change-listener.js")],void 0===(n=function(e,t,i,s){"use strict";const n=s.extend({selectors:{included:null,excluded:null},constructor:function e(...t){e.__super__.constructor.apply(this,t)},initialize:function(e){if(!t.has(e,"selectors"))throw new Error("Field selectors is not specified");this.selectors=e.selectors,this.grid=e.grid,this.confirmModal={},n.__super__.initialize.call(this,e),this.selectRows(),this.listenTo(e.grid.collection,{sync:this.selectRows,excludeRow:this._excludeRow,includeRow:this._includeRow,setState:this.setState})},setDatagridAndSubscribe:function(){n.__super__.setDatagridAndSubscribe.call(this),i.bind("pagestate_restored",(function(){this._restoreState()}),this)},selectRows:function(){const e=this.columnName;this.grid.collection.each((function(t){const i=t.get(e);t.trigger("backgrid:selected",t,i)}))},_processValue:function(e,t){e=String(e);const i=t.get(this.columnName);i?this._includeRow(e):this._excludeRow(e),t.trigger("backgrid:selected",t,i)},_excludeRow:function(e){let i=this.get("included"),s=this.get("excluded");t.contains(i,e)?i=t.without(i,e):s=t.union(s,[e]),this.set("included",i),this.set("excluded",s),this._synchronizeState()},_includeRow:function(e){let i=this.get("included"),s=this.get("excluded");t.contains(s,e)?s=t.without(s,e):i=t.union(i,[e]),this.set("included",i),this.set("excluded",s),this._synchronizeState()},setState:function(e,t){this.set("included",e),this.set("excluded",t),this._synchronizeState()},_clearState:function(){this.set("included",[]),this.set("excluded",[])},_synchronizeState:function(){const t=this.get("included"),s=this.get("excluded");this.selectors.included&&e(this.selectors.included).val(t.join(",")),this.selectors.excluded&&e(this.selectors.excluded).val(s.join(",")),i.trigger("datagrid:setParam:"+this.gridName,"data_in",t),i.trigger("datagrid:setParam:"+this.gridName,"data_not_in",s)},_explode:function(e){return e?t.map(e.split(","),(function(e){return e?String(e):null})):[]},_restoreState:function(){let s=[],n=[];const o=this.columnName;this.selectors.included&&e(this.selectors.included).length&&(s=this._explode(e(this.selectors.included).val()),this.set("included",s)),this.selectors.excluded&&e(this.selectors.excluded).length&&(n=this._explode(e(this.selectors.excluded).val()),this.set("excluded",n)),t.each(this.grid.collection.models,(function(e){const i=e.get(o),r=String(e.id);!i&&t.contains(s,r)&&e.set(o,!0),i&&t.contains(n,r)&&e.set(o,!1)})),(s||n)&&(i.trigger("datagrid:setParam:"+this.gridName,"data_in",s),i.trigger("datagrid:setParam:"+this.gridName,"data_not_in",n),i.trigger("datagrid:restoreState:"+this.gridName,this.columnName,this.dataField,s,n))},_hasChanges:function(){return!t.isEmpty(this.get("included"))||!t.isEmpty(this.get("excluded"))},dispose:function(){this.disposed||(delete this.grid,n.__super__.dispose.call(this))}});return n.init=function(e,i){const s=i.metadata.options||{},o=i.gridPromise,r=s.rowSelection||s.columnListener;r?o.done((function(i){const s=t.defaults({$gridContainer:i.$el,gridName:i.name,grid:i},r),o=new n(s);e.resolve(o)})).fail((function(){e.reject()})):e.reject()},n}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/metadata-model.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/backbone.js")],void 0===(n=function(e){"use strict";return e.Model.extend({defaults:{columns:[],options:{},state:{},initialState:{},rowActions:{},massActions:{}},constructor:function e(t,i){e.__super__.constructor.call(this,t,i)}})}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/page-size.js":(e,t,i)=>{var s,n;s=[i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/page-size.html"),i("./bundles/oroui/js/extend/jquery.js"),i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/oroui/js/extend/backbone.js")],void 0===(n=function(e,t,i,s){"use strict";const n=s.View.extend({template:e,events:{"click [data-grid-pagesize-trigger]":"onChangePageSize","change [data-grid-pagesize-selector]":"onChangePageSize"},items:[10,25,50,100],enabled:!0,hidden:!1,showLabels:!1,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(!(e=e||{}).collection)throw new TypeError('"collection" is required');e.items&&(this.items=this.preparePageSizes(e.items)),("function"!=typeof this.template||e.template)&&(this.template=i.template(t(e.template||this.template).html())),this.collection=e.collection,this.listenTo(this.collection,"add",this.render),this.listenTo(this.collection,"remove",this.render),this.listenTo(this.collection,"reset",this.render),this.enabled=!1!==e.enable,this.hidden=!0===e.hide,n.__super__.initialize.call(this,e)},disable:function(){return this.enabled=!1,this.render(),this},preparePageSizes:e=>e.map((e=>i.isObject(e)?{...e,size:parseInt(e.size,10)}:parseInt(e,10))),enable:function(){return this.enabled=!0,this.render(),this},onChangePageSize:function(e){e.preventDefault();const i=parseInt(t(e.target).data("size")||t(e.target).val(),10);i!==this.collection.state.pageSize&&this.changePageSize(i)},changePageSize:function(e){return this.collection.setPageSize(e),this},render:function(){this.$el.empty();const{pageSize:e}=this.collection.state,i=this.items.find((t=>e===(void 0!==t.size?t.size:t)));return this.$el.append(t(this.template({disabled:!this.enabled||!this.collection.state.totalRecords,collectionState:this.collection.state,items:this.items,currentPageSize:e,currentSizeLabel:void 0!==i.label?i.label:i,showLabels:this.showLabels}))),this.hidden&&this.$el.hide(),this.initControls(),this}});return n}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/pagination-input.js":(e,t,i)=>{var s,n;s=[i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/pagination-input.html"),i("./bundles/oroui/js/extend/jquery.js"),i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/orodatagrid/js/datagrid/pagination.js"),i("../node_modules/jquery-numeric/jquery.numeric.js")],void 0===(n=function(e,t,i,s){"use strict";const n=s.extend({template:e,events:{"blur [data-grid-pagination-trigger-input]":"onChangePageByInput","change [data-grid-pagination-trigger-input]":"onChangePageByInput","keyup input":function(e){13===e.which&&this.onChangePageByInput(e)}},windowSize:0,constructor:function e(t){e.__super__.constructor.call(this,t)},onChangePageByInput:function(e){e.preventDefault();let s=parseInt(t(e.target).val(),10);const n=this.collection,o=n.state;i.isNaN(s)?t(e.target).val(o.currentPage):(s=0===o.firstPage?s-1:s,s<o.firstPage?(s=o.firstPage,t(e.target).val(0===o.firstPage?o.firstPage+1:o.firstPage)):o.lastPage<=s&&(s=o.lastPage,t(e.target).val(0===o.firstPage?o.lastPage+1:o.lastPage)),o.currentPage!==s&&n.getPage(s))},makeHandles:function(){const e=[];return e.push({type:"input"}),n.__super__.makeHandles.call(this,e)},render:function(){return n.__super__.render.call(this),this.$("input").numeric({decimal:!1,negative:!1}),this}});return n}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/pagination.js":(e,t,i)=>{var s,n;s=[i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/pagination.html"),i("./bundles/oroui/js/extend/jquery.js"),i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/oroui/js/app/views/base/view.js")],void 0===(n=function(e,t,i,s){"use strict";const n=s.extend({windowSize:10,enabled:!0,hidden:!1,template:e,events:{"click [data-grid-pagination-trigger]":"onChangePage"},fastForwardHandleConfig:{prev:{label:"Prev",direction:"prev",arrow:"left",wrapClass:"fa-chevron-left hide-text"},next:{label:"Next",direction:"next",arrow:"right",wrapClass:"fa-chevron-right hide-text"}},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(!(e=e||{}).collection)throw new TypeError('"collection" is required');this.collection=e.collection,this.listenTo(this.collection,"add",this.render),this.listenTo(this.collection,"remove",this.render),this.listenTo(this.collection,"reset",this.render),this.hidden=!0===e.hide,this.scrollToPosition=t(e.el).closest(".toolbar").prevAll(".toolbar").position(),e.template&&(this.template=e.template),this.template=this.getTemplateFunction(),n.__super__.initialize.call(this,e)},disable:function(){return this.enabled=!1,this.render(),this},enable:function(){return this.enabled=!0,this.render(),this},onChangePage:function(e){if(e.preventDefault(),!this.enabled)return;let s=t(e.target).closest("[data-grid-pagination-trigger]").data("grid-pagination-direction");"string"==typeof s&&(s=s.trim());const n=this.fastForwardHandleConfig,o=this.collection,r=o.state;if(this.scrollToPosition&&t("body,html").stop().animate({scrollTop:this.scrollToPosition.top},"500","swing"),n){const e=i.has(n.prev,"direction")?n.prev.direction:void 0,t=i.has(n.next,"direction")?n.next.direction:void 0;switch(s){case e:return void(o.hasPrevious()&&o.getPreviousPage());case t:return void(o.hasNext()&&o.getNextPage())}}const a=1*t(e.target).text()-r.firstPage;o.getPage(0===r.firstPage?a:a+1)},makeHandles:function(e){e=e||[];const t=this.collection,s=t.state;let n=s.lastPage?s.lastPage:s.firstPage;n=0===s.firstPage?n:n-1;const o=0===s.firstPage?s.currentPage:s.currentPage-1,r=Math.floor(o/this.windowSize)*this.windowSize;let a=r+this.windowSize;if(a=a<=n?a:n+1,"infinite"!==t.mode)for(let t=r;t<a;t++)e.push({label:t+1,title:"No. "+(t+1),className:o===t?"active":void 0});const l=this.fastForwardHandleConfig;return l.prev&&e.unshift({label:i.has(l.prev,"label")?l.prev.label:void 0,wrapClass:i.has(l.prev,"wrapClass")?l.prev.wrapClass:void 0,direction:i.has(l.prev,"direction")?l.prev.direction:void 0,arrow:i.has(l.prev,"arrow")?l.prev.arrow:void 0,className:t.hasPrevious()?void 0:"disabled"}),l.next&&e.push({label:i.has(l.next,"label")?l.next.label:void 0,wrapClass:i.has(l.next,"wrapClass")?l.next.wrapClass:void 0,direction:i.has(l.next,"direction")?l.next.direction:void 0,arrow:i.has(l.next,"arrow")?l.next.arrow:void 0,className:t.hasNext()?void 0:"disabled"}),e},render:function(){const e=this.collection.state;return null===e.totalRecords||(this.$el.empty(),this.$el.append(this.template({disabled:!this.enabled||!e.totalRecords,handles:this.makeHandles(),state:e})),this.hidden&&this.$el.hide()),this}});return n}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/row.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/jquery.js"),s=i("./bundles/oroui/js/extend/underscore.js"),n=i("./bundles/oroui/js/extend/chaplin.js"),o=i("./bundles/oroui/js/extend/backbone.js"),r=i("./bundles/oroui/js/tools.js"),a=i("./bundles/orodatagrid/js/app/components/column-renderer-component.js"),l=window.document,d=/^(\S+)\s*(.*)$/,c=n.CollectionView.extend({tagName:"tr",autoRender:!1,animationDuration:0,delegateEvents:o.View.prototype.delegateEvents,events:function(){const e={},t=this.collection.getCellEventList().getEventsMap();for(const i in t){const t=i.match(d),n=t[1],o=t[2];e[n+" td"+(o?" "+o:"")]=s.partial(this.delegateEventToCell,i)}return s.extend(e,{mousedown:"onMouseDown",mouseleave:"onMouseLeave",mouseup:"onMouseUp",click:"onClick"}),e},DOUBLE_CLICK_WAIT_TIMEOUT:170,template:null,themeOptions:{view:"",optionPrefix:"row",className:"grid-row",actionSelector:""},constructor:function e(t){s.extend(this,s.pick(t,["rowClassName","themeOptions","template","columns","dataCollection","ariaRowsIndexShift"])),e.__super__.constructor.call(this,t)},initialize:function(e){const t=this;this.itemView||(this.itemView=function(e){const i=e.model,n=t.getConfiguredCellOptions(i);n.model=t.model;const o=new(i.get("cell"))(n);return o.$el.attr({"data-column-label":i.get("label")}),i.has("align")&&(o.$el.removeClass("align-left align-center align-right"),o.$el.addClass("align-"+i.get("align"))),!s.isUndefined(o.skipRowClick)&&o.skipRowClick&&o.$el.addClass("skip-row-click"),o});const i=this.collection.getCellEventList();this.listenTo(i,"change",this.delegateEvents),this.listenTo(this.model,"backgrid:selected",this.onBackgridSelected),this.listenTo(this.model,"change:row_class_name",this.onRowClassNameChanged),this.listenTo(this.model,"change:isNew",this.onRowNewStatusChange),this.listenTo(this.dataCollection,"add remove reset",this._updateAttributes),this.columnRenderer=new a(e),c.__super__.initialize.call(this,e),this.cells=this.subviews},getConfiguredCellOptions:function(e){let t=e.get("cellOptions");const i=e.get("cellClassName")||"";if(!t){t={column:e,themeOptions:{optionPrefix:"cell",className:`${i.trim()} grid-cell grid-body-cell`}},e.get("name")&&(t.themeOptions.className+=" grid-body-cell-"+e.get("name"));const s=e.get("cell");this.columns.trigger("configureInitializeOptions",s,t),e.set({cellOptions:t})}return t},delegateEventToCell:function(e,i){const n=t(i.target).closest("td, th")[0];for(let t=0;t<this.subviews.length;t++){const o=this.subviews[t];if(o.el===n&&o.events){const t=o.events;if(e in t){let r=t[e];if(s.isFunction(r)||(r=o[t[e]]),!r)break;const a=i.delegateTarget;i.delegateTarget=n,r.call(o,i),i.isPropagationStopped()&&i.stopImmediatePropagation(),i.delegateTarget=a}break}}},onBackgridSelected:function(e,t){s.isUndefined(t)&&(t=!1),this.$el.toggleClass("row-selected",t)},onRowNewStatusChange:function(e){this.$el.toggleClass("row-new",e.get("isNew"))},onRowClassNameChanged:function(e){const t=e.previous("row_class_name"),i=s.result(this,"className");t&&this.$el.removeClass(t),i&&this.$el.addClass(i)},className:function(){const e=[];return this.rowClassName&&e.push(this.rowClassName),this.model.get("row_class_name")&&e.push(this.model.get("row_class_name")),e.join(" ")},_attributes:function(){return{...this.model.get("row_attributes"),"aria-rowindex":this.getAriaRowIndex()}},dispose:function(){this.disposed||(this.clickTimeout&&clearTimeout(this.clickTimeout),delete this.columns,delete this.cells,c.__super__.dispose.call(this))},onMouseDown:function(e){if(this.clickTimeout)return clearTimeout(this.clickTimeout),delete this.clickTimeout,this.mouseDownSelection=null,this.mouseDownTarget=null,void(t(e.target).closest(".prevent-text-selection-on-dblclick").length&&e.preventDefault());this.mouseDownSelection=this.getSelectedText(),this.mouseDownTarget=t(e.target).closest("td"),this.$el.addClass("mouse-down")},onMouseLeave:function(e){this.$el.removeClass("mouse-down")},onMouseUp:function(e){this.clickPermit=!1;const t=this.$(e.target);if(this.themeOptions.actionSelector){const e=this.themeOptions.actionSelector;if(!t.is(e)&&!t.parents(e).length)return}else{const e='a:not("[data-include]"), .dropdown, .skip-row-click, :input';if(t.is(e)||t.parents(e).length)return}this.mouseDownSelection===this.getSelectedText()&&this.mouseDownTarget[0]===t.closest("td")[0]&&(this.clickPermit=!0)},onClick:function(e){const t={},i=()=>{if(!this.disposed&&(this.trigger("clicked",this,t),!this.disposed)){for(let t=0;t<this.subviews.length;t++){const i=this.subviews[t];i.listenRowClick&&s.isFunction(i.onRowClicked)&&i.onRowClicked(this,e)}this.$el.removeClass("mouse-down"),delete this.clickTimeout}};if(this.clickPermit){if(e.preventDefault(),r.isTargetBlankEvent(e))return t.target="_blank",void i();this.clickTimeout=setTimeout(i,this.DOUBLE_CLICK_WAIT_TIMEOUT)}},getSelectedText:function(){let e="";return s.isFunction(window.getSelection)?e=window.getSelection().toString():s.isUndefined(l.selection)||"Text"!==l.selection.type||(e=l.selection.createRange().text),e},render:function(){this._deferredRender(),c.__super__.render.call(this);const e={selected:!1};if(this.model.trigger("backgrid:isSelected",this.model,e),this.$el.toggleClass("row-selected",e.selected),"separate"===this.$el.data("layout")){const e={};this.$el.data("layout-model")&&(e[this.$el.data("layout-model")]=this.model),this.initLayout(e).always((()=>{this._resolveDeferredRender()}))}else this._resolveDeferredRender();return this},renderAllItems:function(){if(!this.template)return c.__super__.renderAllItems.call(this);this.renderCustomTemplate()},renderCustomTemplate:function(){const e=this;this.$el.html(this.template({model:this.model?this.model.attributes:{},themeOptions:this.themeOptions?this.themeOptions:{},render:function(t){const i=s.find(e.columns.models,(function(e){return e.get("name")===t}));return i?e.columnRenderer.getHtml(e.renderItem(i).$el):""},attributes:function(t,i){const n=i||{},o=s.find(e.columns.models,(function(e){return e.get("name")===t}));return o?e.columnRenderer.getRawAttributes(e.renderItem(o).$el,n):""}}));const t=this.$("[data-role=select-row]:checkbox");return t.length&&(this.listenTo(this.model,"backgrid:select",(function(e,i){t.prop("checked",i)})),t.on("change"+this.eventNamespace(),(()=>{this.model.trigger("backgrid:selected",this.model,t.prop("checked"))})),t.on("click"+this.eventNamespace(),(function(e){e.stopPropagation()}))),this},_updateAttributes(){this.disposed||this._setAttributes(this._collectAttributes())},getAriaRowIndex(){let e=null;const t=this.dataCollection.filter((e=>!0!==e.get("isAuxiliary"))).findIndex((e=>e.cid===this.model.cid));if(-1!==t){const{currentPage:i,pageSize:s}=this.dataCollection.state,n=i*s-s;e=t+this.ariaRowsIndexShift+n+1}return e}});return c}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/select-state-model.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js");return i("./bundles/oroui/js/app/models/base/model.js").extend({defaults:{inset:!0,rows:[]},constructor:function e(t,i){e.__super__.constructor.call(this,t,i)},addRow:function(e){const i=e.get("id");return this.set("rows",t.uniq(this.attributes.rows.concat(i))),this},removeRow:function(e){const i=e.get("id");return this.set("rows",t.without(this.attributes.rows,i)),this},hasRow:function(e){const t=e.get("id");return-1!==this.get("rows").indexOf(t)},isEmpty:function(){return 0===this.get("rows").length},reset:function(e){return this.set("rows",[]),this.set("inset",!t.isObject(e)||!1!==e.inset),this}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/sorting/dropdown.js":(e,t,i)=>{var s;s=function(e,t,s){"use strict";const n=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/oroui/js/app/views/base/view.js"),r=i("./bundles/oroform/js/app/views/select2-view.js");let a=i("./bundles/oroui/js/app/services/module-config.js").Z(s.id);a=n.defaults({},a,{hasSortingOrderButton:!0,inlineSortingLabel:!1,disableNotSelectedOption:!1,className:"sorting-select sorting-select-control",dropdownClassName:"sorting-select-control"});const l=o.extend({SEARCH_CAPABILITY_GATE:8,VALUE_SEPARATOR:"-sep-",DIRECTIONS:["ascending","descending"],template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/sorting-dropdown.html"),events:{"change select":"onChangeSorting","click [data-name=order-toggle]":"onDirectionToggle"},className:a.className,dropdownClassName:a.dropdownClassName,select2Config:{},enabled:!0,hasSortingOrderButton:a.hasSortingOrderButton,inlineSortingLabel:a.inlineSortingLabel,disableNotSelectedOption:a.disableNotSelectedOption,currentColumn:null,currentDirection:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(!(e=e||{}).columns)throw new TypeError('"columns" is required');if(!e.collection)throw new TypeError('"collection" is required');n.extend(this,n.pick(e,["columns","collection","hasSortingOrderButton"])),n.extend(this,n.pick(e.collection.options.toolbarOptions,["disableNotSelectedOption"])),this.listenTo(this.columns,"change:direction",this._selectCurrentSortableColumn),this.listenTo(this.columns,"change:renderable",this._columnRenderableChanged),this.listenTo(this.columns,"change:sortable",this._columnSortableChanged),this.listenTo(this.collection,"updateState",this.render),this._initCurrentSortableColumn(),l.__super__.initialize.call(this,e)},_initCurrentSortableColumn:function(){const e=Object.keys(this.collection.state.sorters);if(e.length){const t=e[0];let i;const s=this.columns.find((function(e){return e.get("name")===t}));switch(parseInt(this.collection.state.sorters[t],10)){case-1:i=this.DIRECTIONS[0];break;case 1:i=this.DIRECTIONS[1];break;default:return}this.currentDirection=i,this.currentColumn=s}},_selectCurrentSortableColumn:function(e,t){null!==t&&(this.currentDirection=t,this.currentColumn=e,this._updateDisplayValue())},_columnRenderableChanged:function(e,t){t||this.currentColumn!==e||(this.currentColumn=null,this.currentDirection=null),this.render()},_columnSortableChanged:function(e,t){t||this.currentColumn!==e||(this.currentColumn=null,this.currentDirection=null),this.render()},disable:function(){return this.enabled=!1,this.render(),this},enable:function(){return this.enabled=!0,this.render(),this},_getCurrentValue:function(){return this.currentColumn?this.hasSortingOrderButton?this.currentColumn.get("name"):this.currentColumn.get("name")+this.VALUE_SEPARATOR+this.currentDirection:null},_updateDisplayValue:function(){this.$("select").inputWidget("val",this._getCurrentValue()),this.hasSortingOrderButton&&this._updateDisplayDirection()},_updateDisplayDirection:function(){this.$("[data-name=order-toggle-icon]").toggleClass("fa-sort-amount-asc",this.currentDirection===this.DIRECTIONS[0]).toggleClass("fa-sort-amount-desc",this.currentDirection===this.DIRECTIONS[1])},onDirectionToggle:function(){this.currentDirection===this.DIRECTIONS[1]?this.currentDirection=this.DIRECTIONS[0]:this.currentDirection=this.DIRECTIONS[1],this.currentColumn&&this.collection.trigger("backgrid:sort",this.currentColumn,this.currentDirection),this._updateDisplayDirection()},onChangeSorting:function(){let e,t,i=this.$("select").val();this.hasSortingOrderButton?e=i:(i=i.split(this.VALUE_SEPARATOR),e=i[0],t=i[1]);const s=this.columns.findWhere({name:e});s?(t?this.currentDirection=t:this.currentDirection||(this.currentDirection=this.DIRECTIONS[0]),this.collection.trigger("backgrid:sort",s,this.currentDirection)):(this.currentColumn=null,this.currentDirection=null,this.collection.trigger("backgrid:sort","",this.currentDirection)),this.hasSortingOrderButton&&this._updateDisplayDirection()},getTemplateData:function(){let e=l.__super__.getTemplateData.call(this);return e=n.extend(e,{columns:this._getSelectOptionsData(),selectedValue:this._getCurrentValue(),currentDirection:this.currentDirection,hasSortingOrderButton:this.hasSortingOrderButton,disableNotSelectedOption:this.disableNotSelectedOption,inlineSortingLabel:this.inlineSortingLabel}),e},_getSelectOptionsData:function(){const e=[];return n.each(n.where(this.columns.toJSON(),{sortable:!0,renderable:!0}),(t=>{this.hasSortingOrderButton?e.push({label:t.label,value:t.name}):n.each(this.DIRECTIONS,(i=>{e.push({label:t.label,sortingType:t.sortingType,directionValue:i,value:t.name+this.VALUE_SEPARATOR+i})}))})),e},initSubview:function(){this.subview("select2",new r({el:this.$("select"),select2Config:this.select2Config}))},render:function(){if(this._initCurrentSortableColumn(),!this.enabled)return this;l.__super__.render.call(this),this.select2Config={dropdownCssClass:n.result(this,"dropdownClassName"),dropdownAutoWidth:!0};let e=this.SEARCH_CAPABILITY_GATE;return this.hasSortingOrderButton||(e=Math.floor(e/this.DIRECTIONS.length)),this.columns.where({sortable:!0,renderable:!0}).length<e&&(this.select2Config.minimumResultsForSearch=-1),this.initSubview(),this._updateDisplayDirection(),this}});return l}.call(t,i,t,e),void 0===s||(e.exports=s)},"./bundles/orodatagrid/js/datagrid/toolbar.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/oroui/js/extend/backbone.js"),i("./bundles/orotranslation/js/translator.js"),i("./bundles/orodatagrid/js/datagrid/pagination-input.js"),i("./bundles/orodatagrid/js/datagrid/visible-items-counter.js"),i("./bundles/orodatagrid/js/datagrid/page-size.js"),i("./bundles/orodatagrid/js/datagrid/actions-panel.js"),i("./bundles/orodatagrid/js/datagrid/sorting/dropdown.js")],void 0===(n=function(e,t,i,s,n,o,r,a){"use strict";const l=t.$,d=t.View.extend({template:'.datagrid_templates[data-identifier="template-datagrid-toolbar"]',pagination:s,itemsCounter:n,pageSize:o,sortingDropdown:a,actionsPanel:r,extraActionsPanel:r,selector:{pagination:"[data-grid-pagination]",itemsCounter:"[data-grid-items-counter]",pagesize:"[data-grid-pagesize]",actionsPanel:"[data-grid-actions-panel]",extraActionsPanel:"[data-grid-extra-actions-panel]",sortingDropdown:"[data-grid-sorting]"},themeOptions:{optionPrefix:"toolbar"},hideItemsCounter:!0,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(t){if(!(t=t||{}).collection)throw new TypeError('"collection" is required');this.collection=t.collection;const i=e.defaults({collection:this.collection},t.itemsCounter);t.columns.trigger("configureInitializeOptions",this.itemsCounter,i),this.subviews={pagination:new this.pagination(e.defaults({collection:this.collection},t.pagination)),itemsCounter:new this.itemsCounter(i),actionsPanel:new this.actionsPanel(e.extend({className:""},t.actionsPanel)),extraActionsPanel:new this.extraActionsPanel},!0!==e.result(t.pageSize,"hide")&&(this.subviews.pageSize=new this.pageSize(e.defaults({collection:this.collection},t.pageSize))),t.addSorting&&(this.subviews.sortingDropdown=new this.sortingDropdown({collection:this.collection,columns:t.columns})),t.actions&&this.subviews.actionsPanel.setActions(t.actions),t.extraActions&&this.subviews.extraActionsPanel.setActions(t.extraActions),e.has(t,"enable")&&!t.enable&&this.disable(),(t.hide||this.collection.state.hideToolbar)&&this.hide(),e.isFunction(t.template)?this.template=t.template:(t.template||this.template)&&(this.template=e.template(l(t.template||this.template).html())),e.isUndefined(t.hideItemsCounter)||(this.hideItemsCounter=t.hideItemsCounter),d.__super__.initialize.call(this,t)},enable:function(){return e.invoke(this.subviews,"enable"),this},disable:function(){return e.invoke(this.subviews,"disable"),this},hide:function(){return this.$el.hide(),this},render:function(){this.$el.empty(),this.$el.append(this.template({toolbarPosition:this.$el.data("gridToolbar")}));const e=this.subviews.pagination.render().$el;return e.attr("class",this.$(this.selector.pagination).attr("class")),this.$(this.selector.pagination).replaceWith(e),this.subviews.pageSize&&this.$(this.selector.pagesize).append(this.subviews.pageSize.render().$el),this.$(this.selector.actionsPanel).length&&this.$(this.selector.actionsPanel).append(this.subviews.actionsPanel.render().$el),this.$(this.selector.itemsCounter).replaceWith(this.subviews.itemsCounter.render().$el),this.hideItemsCounter&&this.subviews.itemsCounter.$el.hide(),this.subviews.sortingDropdown&&this.$(this.selector.sortingDropdown).append(this.subviews.sortingDropdown.render().$el),this.subviews.extraActionsPanel.haveActions()?this.$(this.selector.extraActionsPanel).append(this.subviews.extraActionsPanel.render().$el):this.$(this.selector.extraActionsPanel).hide(),this}});return d}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/util.js":(e,t,i)=>{var s,n;s=[i("./bundles/orodatagrid/js/datagrid/columns.js")],void 0===(n=function(e){"use strict";return{createFilteredColumnCollection:function(t){const i=new e(t.where({renderable:!0}));return i.listenTo(t,"change:renderable add remove reset",(function(){i.reset(t.where({renderable:!0}))})),i.listenTo(t,"sort",(function(){i.sort()})),i}}}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/datagrid/visible-items-counter.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/jquery.js"),i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/oroui/js/extend/backbone.js"),i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orodatagrid/templates/datagrid/visible-items-counter.html")],void 0===(n=function(e,t,i,s){"use strict";const n=i.View.extend({enabled:!0,hidden:!1,template:s,className:"visible-items-counter",themeOptions:{optionPrefix:"itemscounter"},transTemplate:null,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(e=e||{},this.hidden=!1!==e.hidden,e.template&&(this.template=e.template),e.transTemplate&&(this.transTemplate=e.transTemplate),!e.collection)throw new TypeError('"collection" is required');this.collection=e.collection,this.listenTo(this.collection,"add",this.render),this.listenTo(this.collection,"remove",this.render),this.listenTo(this.collection,"reset",this.render),this.hidden=!0===e.hide,n.__super__.initialize.call(this,e)},disable:function(){return this},enable:function(){return this},render:function(){const e=this.collection.state;return null===e.totalRecords||(this.$el.empty(),this.$el.html(this.template({disabled:!this.enabled||!e.totalRecords,state:t.extend({length:this.collection.length},e),transTemplate:this.transTemplate})),this.hidden&&this.$el.hide()),this}});return n}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/extend/backgrid.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/orotranslation/js/translator.js"),n=i("../node_modules/backgrid/lib/backgrid.js");n.Cell.prototype.optionNames=["column"],n.Cell.prototype.keepElement=!1,n.Cell.prototype.initialize=function(e){const i=this.column,s=this.model,o=this.$el;let r=n.resolveNameToClass(i.get("formatter")||this.formatter,"Formatter");t.isFunction(r.fromRaw)||t.isFunction(r.toRaw)||(r=new r),this.formatter=r,this.editor=n.resolveNameToClass(this.editor,"CellEditor"),this.listenTo(s,"change:"+i.get("name"),(function(){o.hasClass("editor")||(this.render(),this._setAttributes(this._collectAttributes()))})),this.listenTo(s,"backgrid:error",this.renderError),this.listenTo(i,"change:editable change:sortable change:renderable",(function(e){const t=e.changedAttributes();for(const e in t)t.hasOwnProperty(e)&&o.toggleClass(e,t[e])}))},n.Cell.prototype.render=function(){const e=this.$el;e.empty();const t=this.model,i=this.column.get("name");return e.text(this.formatter.fromRaw(t.get(i),t)),this.delegateEvents(),this},n.Cell.prototype.delegatedEventBinding=!0;const o=n.Cell.prototype.delegateEvents;n.Cell.prototype.delegateEvents=function(){t.isFunction(this.events)&&o.call(this)};const r=n.Cell.prototype.undelegateEvents;return n.Cell.prototype.undelegateEvents=function(){t.isFunction(this.events)&&r.call(this)},n.Cell.prototype.isEditableColumn=function(){return n.callByNeed(this.column.editable(),this.column,this.model)},n.Cell.prototype._attributes=function(){const e={},{collection:i}=this.column||{};if(i&&i.length){const t=i.indexOf(this.column);-1===t||this.model&&!0===this.model.get("isAuxiliary")||(e["aria-colindex"]=t+1)}if(this.model&&!0!==this.model.get("isAuxiliary")&&!0!==this.column.get("notMarkAsBlank")&&!0!==this.notMarkAsBlank){const i=this.model&&this.model.get(this.column.get("name"));null==i||t.isString(i)&&0===i.trim().length||t.isArray(i)&&0===i.length?(e["aria-label"]=s("oro.datagrid.cell.blank.aria_label"),e["data-blank-content"]=s("oro.datagrid.cell.blank.placeholder")):(e["aria-label"]=null,e["data-blank-content"]=null)}return e},n.HeaderCell.prototype.optionNames=["column"],n.HeaderCell.prototype._attributes=function(){const e={};if(this.column&&this.column.get("label")){const{collection:t}=this.column;if(t&&t.length){const i=t.indexOf(this.column);-1!==i&&(e["aria-colindex"]=i+1)}}return e},n.BooleanCellEditor.prototype.attributes={type:"checkbox"},n.BooleanCellEditor.prototype.initialize=function(e){this.formatter=e.formatter,this.column=e.column,this.column instanceof n.Column||(this.column=new n.Column(this.column))},n.BooleanCellEditor.prototype.saveOrCancel=function(e){const t=this.model,i=this.column,s=this.formatter,o=new n.Command(e);if(o.passThru()&&"change"!==e.type)return!0;o.cancel()&&(e.stopPropagation(),t.trigger("backgrid:edited",t,i,o));const r=this.$el;if(o.save()){e.preventDefault(),e.stopPropagation();const n=s.toRaw(r.prop("checked"),t);t.set(i.get("name"),n),t.trigger("backgrid:edited",t,i,o)}else if("change"===e.type){const e=s.toRaw(r.prop("checked"),t);t.set(i.get("name"),e),r.focus()}},n}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/grid-views-builder.js":(e,t,i)=>{var s;s=function(e,t,s){"use strict";const n=i("./bundles/oroui/js/extend/jquery.js"),o=i("./bundles/oroui/js/extend/underscore.js"),r=i("./bundles/oroui/js/mediator.js"),a=i("./bundles/oroui/js/app/services/load-modules.js"),l=i("./bundles/orodatagrid/js/datagrid/grid-views/view.js"),d=i("./bundles/orodatagrid/js/datagrid/grid-views/collection.js");let c=i("./bundles/oroui/js/app/services/module-config.js").Z(s.id);c=o.extend({GridViewsView:l},c);const u={init:function(e,t){if(!t.enableViews||n.isEmptyObject(t.metadata.gridViews)||!t.metadata.gridViews.permissions.VIEW||!t.metadata.filters)return void e.resolve();const i={metadata:o.defaults(t.metadata,{gridViews:{},options:{}}),gridViewsOptions:o.defaults({},t.gridViewsOptions),enableViews:t.enableViews,$gridEl:t.$el,showInNavbar:t.showViewsInNavbar,showInCustomElement:t.showViewsInCustomElement,GridViewsView:c.GridViewsView,buildViews:function(t){const i=u.build.call(this,t.collection);void 0!==i&&t.$grid.attr({"aria-labelledby":i.uniqueId}),e.resolve(i)}};o.isString(i.GridViewsView)&&(i.buildViews=o.wrap(i.buildViews,(function(e,t){a(this.GridViewsView).then((i=>{this.GridViewsView=i,e.call(this,t)}))}))),t.gridPromise.done((function(e){if(o.contains(t.builders,"orofilter/js/datafilter-builder"))if(i.$gridEl.find(".filter-box").length)i.buildViews(e);else{const t=function(i,s){s.is("#"+this.$gridEl.attr("id"))&&(this.buildViews(e),r.off("datagrid_filters:rendered",t))};r.on("datagrid_filters:rendered",t,i)}else i.buildViews(e)})).fail((function(){e.reject()}))},build:function(e){let t,i;const s=this.GridViewsView,r=u.combineGridViewsOptions.call(this),a=o.extend({collection:e},r);return this.showInNavbar?(i=n(".page-title > .navbar-extra .pull-left-extra > .pull-left"),a.title=i.text(),t=new s(a),i.html(t.render().$el)):this.showInCustomElement?(t=new s(a),i=n(this.showInCustomElement),i.html(t.render().$el)):(t=new s(a),this.$gridEl.prepend(t.render().$el)),t},combineGridViewsOptions:function(){const e=this.metadata.gridViews;u.normalizeGridViewModelsData(e.views,this.metadata.initialState);const t=new d(e.views,{gridName:e.gridName});return e.viewsCollection=t,e.appearances=this.metadata.options.appearances,e.gridViewsOptions=this.gridViewsOptions,e.uniqueId=o.uniqueId(`grid-views-${e.gridName}`),o.omit(e,["views"])},normalizeGridViewModelsData:function(e,t){o.each(e,(function(e){o.each(["columns","sorter"],(function(i){o.isEmpty(e[i])&&n.extend(!0,e,o.pick(t,i))}))}))}};return u}.call(t,i,t,e),void 0===s||(e.exports=s)},"./bundles/orodatagrid/js/inline-editing/builder.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/jquery.js"),s=i("./bundles/oroui/js/extend/underscore.js"),n=i("./bundles/oroui/js/tools.js"),o=i("./bundles/oroui/js/app/services/load-modules.js"),r=i("./bundles/oroui/js/error.js"),{validator:a}=i("./bundles/oroform/js/extend/validate.js"),l={DEFAULT_COLUMN_TYPE:"string",processDatagridOptions:function(e,i){if(!i.metadata.inline_editing)return void e.resolve();const{mobile_enabled:s=!1,enable:o=!1}=i.metadata.inline_editing;if(!s&&n.isMobile()||!i.metadata.inline_editing||!o)return void e.resolve();const l=this.preparePlugin(i).concat(this.prepareColumns(i)).concat([a.preloadMethods()]);t.when(...l).done((function(){i.metadata.plugins||(i.metadata.plugins=[]),i.metadata.plugins.push({constructor:i.metadata.inline_editing.plugin,options:i}),e.resolve()})).fail((function(t){r.showErrorInConsole(t),e.resolve()}))},init:function(e,t){e.resolve()},getDefaultOptions:function(){return{plugin:"orodatagrid/js/app/plugins/grid/inline-editing-plugin",default_editors:"orodatagrid/js/inline-editing/default-editors",behaviour:"enable_all",cell_editor:{component:"orodatagrid/js/app/components/cell-popup-editor-component"},save_api_accessor:{class:"oroui/js/tools/api-accessor",http_method:"PATCH"}}},preparePlugin:function(e){const i=[],s={};return t.extend(!0,s,this.getDefaultOptions(),e.metadata.inline_editing),e.metadata.inline_editing=s,i.push(n.loadModuleAndReplace(s,"plugin")),e.metadata.inline_editing.defaultEditorsLoadPromise=n.loadModuleAndReplace(s,"default_editors"),i.push(e.metadata.inline_editing.defaultEditorsLoadPromise),i.push(n.loadModuleAndReplace(s.cell_editor,"component")),i.push(n.loadModuleAndReplace(s.save_api_accessor,"class")),i},prepareColumns:function(e){const t=[],i=this.getDefaultOptions(),a=e.metadata.columns,d=e.metadata.inline_editing.behaviour;return s.each(a,(function(a){switch(d){case"enable_all":if(a.inline_editing&&!1===a.inline_editing.enable)return;break;case"enable_selected":if(!a.inline_editing||!0!==a.inline_editing.enable)return;break;default:throw new Error("Unknown behaviour")}a.inline_editing||(a.inline_editing={}),a.inline_editing.editor||(a.inline_editing.editor={});const c=a.inline_editing.editor;if(c.component||(c.component=i.cell_editor.component),c.view?t.push(o(c.view).then((function(e){return c.view=e,s.isFunction(e.processMetadata)?e.processMetadata(a):e}))):t.push(e.metadata.inline_editing.defaultEditorsLoadPromise.then((function(e){const t=e[a.type||l.DEFAULT_COLUMN_TYPE];return c.view=t,void 0===t?(a.inline_editing.enable=!1,a.inline_editing.enable$changeReason="Automatically disabled due to absent editor realization",void("enable_selected"===d&&r.showErrorInConsole("Could not enable editing on grid column due to absent editor realization for type `"+a.type+"`"))):s.isFunction(t.processMetadata)?t.processMetadata(a):t}))),s.isString(c.component))t.push(o(c.component).then((function(e){return c.component=e,s.isFunction(e.processMetadata)?e.processMetadata(a):e})));else if(s.isFunction(c.component.processMetadata))return c.component.processMetadata(a);a.inline_editing&&a.inline_editing.save_api_accessor&&a.inline_editing.save_api_accessor.class&&t.push(n.loadModuleAndReplace(a.inline_editing.save_api_accessor,"class"))})),t}};return l}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/inline-editing/default-editors.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";return{string:i("./bundles/oroform/js/app/views/editor/text-editor-view.js"),phone:i("./bundles/oroform/js/app/views/editor/text-editor-view.js"),datetime:i("./bundles/oroform/js/app/views/editor/datetime-editor-view.js"),date:i("./bundles/oroform/js/app/views/editor/date-editor-view.js"),currency:i("./bundles/oroform/js/app/views/editor/number-editor-view.js"),number:i("./bundles/oroform/js/app/views/editor/number-editor-view.js"),integer:i("./bundles/oroform/js/app/views/editor/number-editor-view.js"),decimal:i("./bundles/oroform/js/app/views/editor/number-editor-view.js"),percent:i("./bundles/oroform/js/app/views/editor/percent-editor-view.js"),select:i("./bundles/oroform/js/app/views/editor/select-editor-view.js")}}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/map-action-module-name.js":(e,t,i)=>{var s;void 0===(s=function(){"use strict";return function(e){return"oro/datagrid/action/{{type}}-action".replace("{{type}}",e)}}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/map-cell-module-name.js":(e,t,i)=>{var s;void 0===(s=function(){"use strict";const e={integer:"number",decimal:"number",percent:"number",currency:"number",array:"string",simple_array:"string",enum:"string"};return function(t){return"oro/datagrid/cell/{{type}}-cell".replace("{{type}}",e[t]||t)}}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/row-select-for-widget/builder.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/widget/widget-manager.js");return{init:function(e,t){e.resolve()},processDatagridOptions:function(e,i){const s=i.gridBuildersOptions.rowSelectForWidget||{};if(s.multiSelect)i.metadata.options.multiSelectRowEnabled=!0;else{const e=s.wid;if(!e)throw Error('"wid" has to be defined');i.metadata.options.rowClickAction=function(i){return{run:function(){t.getWidgetInstance(e,(function(e){e.trigger("grid-row-select",i)}))}}}}return e.resolve(),e}}}.call(t,i,t,e))||(e.exports=s)},"./bundles/orodatagrid/js/totals-builder.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/jquery.js"),i("./bundles/oroui/js/extend/underscore.js")],void 0===(n=function(e,t){"use strict";return{init:function(e,t){t.gridPromise.done((function(t){t.collection.on("beforeReset",(function(e,t,i){e.state.totals=i.totals})),e.resolve()})).fail((function(){e.reject()}))}}}.apply(t,s))||(e.exports=n)},"./bundles/orodatagrid/js/url-helper.js":(e,t,i)=>{var s;void 0===(s=function(){"use strict";return{addUrlParameter:function(e,t,i){let s,n,o,r,a,l;e.indexOf("#")>0?(n=e.indexOf("#"),s=e.substring(e.indexOf("#"),e.length)):(s="",n=e.length);const d=e.substring(0,n).split("?");if(o="",d.length>1)for(r=d[1].split("&"),l=0;l<r.length;l+=1)a=r[l].split("="),a[0]!==t&&(""===o?o="?":o+="&",o+=a[0]+"="+(a[1]||""));return""===o&&(o="?"),""!==o&&"?"!==o&&(o+="&"),o+=t+"="+encodeURIComponent(i||""),d[0]+o+s}}}.call(t,i,t,e))||(e.exports=s)},"./bundles/oroemail/js/datagrid/action/mark-email-mass-action.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";return i("./bundles/orodatagrid/js/datagrid/action/mass-action.js").extend({})}.call(t,i,t,e))||(e.exports=s)},"./bundles/oroemail/js/filter/multiselect-originfolder-filter.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/jquery.js"),i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/orotranslation/js/translator.js"),i("./bundles/oroui/js/tools.js"),i("./bundles/orofilter/js/filter/multiselect-filter.js")],void 0===(n=function(e,t,i,s,n){"use strict";return n.extend({templateSelector:"#multiselect-origin-folder-template",buttonSelector:".filter-criteria-selector",minimumDropdownWidth:150,widgetOptions:{multiple:!0,classes:"select-filter-widget multiselect-filter-widget multiselect-origin-folder"},emptyValue:{value:[""]},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){t.isUndefined(this.choices)&&(this.choices=[]);const i=this.choices;n.__super__.initialize.call(this,e),this.choices=i},render:function(){const e=this.choices;return this.populateDefault&&e.unshift({value:"",label:this.placeholder}),this.setElement(this.template({label:this.labelPrefix+this.label,showLabel:this.showLabel,options:e,placeholder:this.placeholder,selected:t.extend({},this.emptyValue,this.value),isEmpty:this.isEmpty()})),this._initializeSelectWidget(),this}})}.apply(t,s))||(e.exports=n)},"./bundles/oroentityextend/js/datagrid/action/ajaxdeletefield-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/orodatagrid/js/datagrid/action/ajaxdelete-action.js"),i("./bundles/oroui/js/delete-confirmation.js"),i("./bundles/oroui/js/mediator.js")],void 0===(n=function(e,t,i){"use strict";return e.extend({confirmation:!0,confirmModalConstructor:t,defaultMessages:{confirm_title:"Delete Confirmation",confirm_content:"oro.entity_extend.delete_field.confirm_content",confirm_ok:"Yes",confirm_cancel:"Cancel",success:"Removed.",error:"Not removed.",empty_selection:"Please, select item to remove."},constructor:function e(t){e.__super__.constructor.call(this,t)},_onAjaxSuccess:function(e){i.execute("refreshPage")}})}.apply(t,s))||(e.exports=n)},"./bundles/oroentityextend/js/datagrid/action/ajaxrestorefield-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/orodatagrid/js/datagrid/action/ajax-action.js"),i("./bundles/oroui/js/mediator.js")],void 0===(n=function(e,t){"use strict";return e.extend({_onAjaxSuccess:function(){t.execute("refreshPage")}})}.apply(t,s))||(e.exports=n)},"./bundles/oroentitymerge/js/datagrid/action/merge-mass-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/orotranslation/js/translator.js"),i("./bundles/orodatagrid/js/datagrid/action/mass-action.js"),i("./bundles/oroui/js/messenger.js")],void 0===(n=function(e,t,i,s){"use strict";const n=i.extend({constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){n.__super__.initialize.call(this,e),this.on("preExecute",this.onPreExecute,this)},onPreExecute:function(e,i){let n,o;const r=this.max_element_count,a=this.datagrid.getSelectionState(),l=a.inset;let d=a.selectedIds.length;l||(n=this.datagrid.collection.state.totalRecords,d=n-d),d>r&&(i.doExecute=!1,o=t("oro.entity_merge.mass_action.validation.maximum_records_error",{number:r}),s.notificationFlashMessage("error",o)),d<2&&(i.doExecute=!1,o=t("oro.entity_merge.mass_action.validation.minimum_records_error",{number:r}),s.notificationFlashMessage("error",o))}});return n}.apply(t,s))||(e.exports=n)},"./bundles/orofilter/js/actions/toggle-filters-action.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/mediator.js"),s=i("./bundles/orodatagrid/js/datagrid/action/abstract-action.js"),n=i("./bundles/orofilter/js/filters-manager.js"),o=s.extend({initialize:function(e){const t=e||{};if(!t.datagrid)throw new TypeError('"datagrid" is required');this.listenTo(t.datagrid,"filterManager:connected",(function(){this.onFilterManagerModeChange(this.datagrid.filterManager.getViewMode()),this.listenTo(this.datagrid.filterManager,"changeViewMode",this.onFilterManagerModeChange)})),o.__super__.initialize.call(this,e)},execute:function(){const e=this.datagrid.filterManager.getViewMode()===n.STATE_VIEW_MODE?n.MANAGE_VIEW_MODE:n.STATE_VIEW_MODE;this.datagrid.filterManager.setViewMode(e)},toggleFilters:function(e){e===n.STATE_VIEW_MODE&&this.datagrid.filterManager.$el.is(":visible")?this.datagrid.filterManager.hide():e===n.MANAGE_VIEW_MODE&&this.datagrid.filterManager.hasFilters()&&!this.datagrid.filterManager.$el.is(":visible")&&this.datagrid.filterManager.show()},onFilterManagerModeChange:function(e){this.datagrid.filterManager.getViewMode()!==e&&this.toggleFilters(e),this.launcherInstance&&this.launcherInstance.$el.toggleClass("pressed",e===n.MANAGE_VIEW_MODE),t.trigger("layout:adjustHeight")}});return o}.call(t,i,t,e))||(e.exports=s)},"./bundles/orofilter/js/app/views/filter-dialog-widget.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/extend/jquery.js"),n=i("./bundles/oroui/js/mediator.js"),o=i("./bundles/orowindows/js/widget/dialog-widget.js"),r=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orofilter/templates/filters-dialog-actions.html"),a=o.extend({actionsTemplate:r,content:null,dialogOptions:{autoResize:!1,modal:!0,resize:!1,dialogClass:"filter-box"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(t.isEmpty(e.content))throw new TypeError('"content" property should be not empty');t.extend(this,t.pick(e,["content"])),e.dialogOptions=t.extend({},this.dialogOptions,e.dialogOptions),a.__super__.initialize.call(this,e)},render:function(){this.$placeholder=s("<div />"),this.content.after(this.$placeholder),this.$el.append(this.content),this.$el.append(this.actionsTemplate()),a.__super__.render.call(this),this._bindActionEvents()},onResetAll:function(e){n.trigger("filters:reset",e)},_bindActionEvents:function(){this.actionsEl.on("click",'[data-role="reset-filters"]',this.onResetAll.bind(this))},dispose:function(){this.disposed||(this.$placeholder.before(this.content),this.$placeholder.remove(),a.__super__.dispose.call(this))}});return a}.call(t,i,t,e))||(e.exports=s)},"./bundles/orofilter/js/app/views/filters-state-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/app/views/base/view.js"),n="animated-init",o=s.extend({POPOVER_DELAY:300,filters:[],template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orofilter/templates/filters-state-view.html"),popoverTemplate:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orofilter/templates/filters-state-popover.html"),events:{"click .filters-state":"onClick","mouseenter .filters-state":"onMouseEnter","mouseleave .filters-state":"onMouseLeave"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){t.extend(this,t.pick(e,["filters"])),t.each(this.filters,(function(e){this.listenTo(e,"update updateCriteriaLabels",this.render)}),this),e.useAnimationOnInit&&this.$el.addClass(n),o.__super__.initialize.call(this,e)},getTemplateData:function(){const e=o.__super__.getTemplateData.call(this);return e.filters=[],t.each(this.filters,(function(t){t.isEmptyValue()||e.filters.push(t.getState())}),this),e},render:function(){return o.__super__.render.call(this),t.isEmpty(this.filters)&&this.$el.hide(),this},show:function(){this.$el.show()},hide:function(){this.$el.removeClass(n).hide()},onMouseEnter:function(e){const i=this.$(".filters-state");i[0].scrollWidth>i[0].clientWidth&&(i.popover({content:i.text(),trigger:"manual",placement:"bottom",animation:!1,container:"body",template:this.popoverTemplate()}),this.popoverDelay=t.delay((function(){i.popover("show")}),this.POPOVER_DELAY))},onMouseLeave:function(e){this.popoverDelay&&(clearTimeout(this.popoverDelay),delete this.popoverDelay);const t=this.$(".filters-state");t.popover("hide"),t.popover("dispose")},onClick:function(){this.trigger("clicked")}});return o}.call(t,i,t,e))||(e.exports=s)},"./bundles/orofilter/js/collection-filters-manager.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/oroui/js/tools.js"),i("./bundles/orofilter/js/filters-manager.js"),i("./bundles/oroui/js/mediator.js")],void 0===(n=function(e,t,i,s){"use strict";const n=i.extend({constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.collection=e.collection,this.listenTo(this.collection,{beforeFetch:this._beforeCollectionFetch,updateState:this._onUpdateCollectionState,reset:this._onCollectionReset}),this.isVisible=!0,n.__super__.initialize.call(this,e)},render:function(){return n.__super__.render.call(this),this._onUpdateCollectionState(this.collection),this._onCollectionReset(this.collection),this},_onFilterUpdated:function(e){this.ignoreFiltersUpdateEvents||(this._updateView(),n.__super__._onFilterUpdated.call(this,e))},_beforeCollectionFetch:function(e){e.state.filters=this._createState()},_onUpdateCollectionState:function(e){this.ignoreFiltersUpdateEvents=!0,this._applyState(e.state.filters||{}),this._resetHintContainer(),this.ignoreFiltersUpdateEvents=!1},_onChangeFilterSelect:function(e){n.__super__._onChangeFilterSelect.call(this,e),this._updateView()},_updateView:function(){this.trigger("update-view:before-fetch"),this.collection.state.currentPage=1,this.collection.fetch({reset:!0})},_onCollectionReset:function(t){const i=t.length>0,s=!e.isEmpty(t.state.filters);i||s?this.isVisible||(this.$el.show(),this.isVisible=!0):this.isVisible&&(this.$el.hide(),this.isVisible=!1)},_createState:function(){const t={};return e.each(this.filters,(function(i,s){const n="__"+s;e.has(this.collection.initialState.filters,s)&&!i.isEmptyValue()?t[s]=i.getValue():i.renderable?i.isEmptyValue()?i.renderableByDefault||(t[n]="1"):t[s]=i.getValue():i.renderableByDefault&&(t[n]="0")}),this),t},_applyState:function(i){const n=[],o=[],r={};return e.each(this.filters,(function(s,a){const l="__"+a;let d;!1===s.renderableByDefault&&!0===s.renderable&&this.disableFilter(s),!0===s.renderableByDefault&&!1===s.renderable&&this.enableFilter(s),e.has(i,a)&&!t.isEqualsLoosely(i[a],s.emptyValue)?(d=i[a],e.isObject(d)||(d={value:d}),r[a]=d,n.push(s)):e.has(i,l)?(s.reset(),Number(i[l])?n.push(s):o.push(s)):s.reset()}),this),this.enableFilters(n),this.disableFilters(o),e.each(r,(function(e,t){this.filters[t].setValue(e)}),this),s.trigger("filters-manager:after-applying-state",this),this.checkFiltersVisibility(),this}});return n}.apply(t,s))||(e.exports=n)},"./bundles/orofilter/js/datafilter-builder.js":(e,t,i)=>{var s;s=function(e,t,s){"use strict";const n=i("./bundles/oroui/js/extend/jquery.js"),o=i("./bundles/oroui/js/extend/underscore.js"),r=i("./bundles/oroui/js/mediator.js"),a=i("./bundles/fosjsrouting/js/router.js"),l=i("./bundles/oroui/js/app/services/load-modules.js"),d=i("./bundles/orofilter/js/map-filter-module-name.js");let c=i("./bundles/orofilter/js/collection-filters-manager.js");const u=i("./bundles/orofilter/js/filters-navigation-component.js").Z,h=i("./bundles/orofilter/js/plugins/filters-toggle-plugin.js");let p=i("./bundles/oroui/js/app/services/module-config.js").Z(s.id);const _={};p=o.extend({FiltersManager:c},p);const g={initBuilder:function(){const e=n.Deferred();o.defaults(this.metadata,{filters:{}});const t=g.collectModules.call(this);return l(t,(function(t){this.modules=t,e.resolve()}),this),e.promise()},collectModules:function(){const e={};return o.each(this.metadata.filters||{},(function(t){const i=t.type;e[i]=d(i)})),o.isString(p.FiltersManager)&&(e.FiltersManager=p.FiltersManager),e},build:function(){if(!this.collection||!this.modules)return;c=this.modules.FiltersManager||c;const e=o.extend(g.combineOptions.call(this),o.pick(this,"collection"),o.pick(this.metadata.options,"defaultFiltersViewMode","filtersStateStorageKey","useFiltersStateAnimationOnInit","enableFiltersNavigation"),this.metadata.options.filtersManager);let t;if(this.filterContainerSelector&&(t=this.$el.find(this.filterContainerSelector)[0]||n(this.filterContainerSelector)[0]),t||(t=this.$el[0]),this.enableToggleFilters&&!0!==o.result(this.metadata.options.toolbarOptions,"hide"))if(this.filtersStateElement)e.filtersStateElement=this.filtersStateElement;else{const i=this.$el.closest("body, .ui-dialog").find(e.filtersStateElement).first();e.filtersStateElement=i.length?i:n("<div/>").prependTo(t)}else e.forcedViewMode=c.MANAGE_VIEW_MODE;e.filterContainer=t;const i=new c(e);this.grid.filterManager=i,this.grid.trigger("filters:beforeRender"),i.render(),r.trigger("datagrid_filters:rendered",this.collection,this.$el),this.metadata.state.filters=this.metadata.state.filters||[],0===this.collection.length&&0===this.metadata.state.filters.length&&i.$el.hide(),this.grid.trigger("filterManager:connected");const{enableFiltersNavigation:s=!0}=e;s&&(this.grid.filtersNavigationComponent=new u({filters:e.filters})),this.deferred.resolve(i)},combineOptions:function(){const e={},t=this.modules;return o.each(this.metadata.filters,(function(i){if(o.has(i,"name")&&o.has(i,"type")){i.lazy&&(i.loader=g.createFilterLoader.call(this,i));const s=t[i.type].extend(i);e[i.name]=new s}}),this),g.loadFilters.call(this,this.metadata.options.gridName),{filters:e}},loadFilters:function(e){if(!o.map(this.filterLoaders,o.property("name")).length)return;o.chain(this.filterLoaders).filter(o.property("useCache")).each((function(e){e.success.call(this,_[e.cacheId])}));const t={gridName:e,filterNames:o.map(this.filterLoaders,o.property("name"))};t[this.metadata.options.gridName]=this.metadata.gridParams;const i=a.generate("oro_datagrid_filter_metadata",t),s=this;n.get(i).done((function(e){o.each(s.filterLoaders,(function(t){_[e[t.name].cacheId]=e[t.name],t.useCache||t.success.call(this,e[t.name])}))}))},createFilterLoader:function(e){return t=>{this.filterLoaders.push({name:e.name,cacheId:e.cacheId,success:t,useCache:e.cacheId&&_[e.cacheId]})}}};return{init:function(e,t){const i={filterLoaders:[],deferred:e,$el:t.$el,gridName:t.gridName,metadata:t.metadata,collection:null,modules:null};o.extend(i,o.pick(t,"filtersStateElement","filterContainerSelector","enableToggleFilters")),n.when(t.gridPromise,g.initBuilder.call(i)).done((function(e){i.collection=e.collection,i.grid=e,g.build.call(i)})).fail((function(){e.reject()}))},processDatagridOptions:function(e,t){o.isArray(t.metadata.plugins)||(t.metadata.plugins=[]),!1===o.result(p,"enableToggleFilters")&&(t.enableToggleFilters=!1),t.enableToggleFilters&&t.metadata.plugins.push(h),o.isFunction(h.isApplicable)&&!1===h.isApplicable(t)&&(t.enableToggleFilters=!1),e.resolve()}}}.call(t,i,t,e),void 0===s||(e.exports=s)},"./bundles/orofilter/js/filter/boolean-filter.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";return i("./bundles/orofilter/js/filter/select-filter.js").extend({})}.call(t,i,t,e))||(e.exports=s)},"./bundles/orofilter/js/filter/choice-tree-filter.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orofilter/templates/filter/choice-tree.html"),s=i("./bundles/oroui/js/extend/underscore.js"),n=i("./bundles/oroui/js/extend/jquery.js"),o=i("./bundles/orofilter/js/filter/text-filter.js"),r=i("./bundles/oroui/js/tools.js"),a=i("./bundles/oroui/js/app/views/loading-mask-view.js"),l=i("./bundles/oroform/js/app/components/select2-tree-autocomplete-component.js"),d=o.extend({template:t,templateSelector:"#choice-tree-template",select2component:null,events:{"click .filter-update":"_onClickUpdateCriteria","click .filter-criteria .filter-criteria-hide":"_onClickCloseCriteria","click .disable-filter":"_onClickDisableFilter","select2-data-loaded":"onDataLoaded","select2-loaded":"onDataLoaded"},emptyValue:{type:1,value:""},checkedItems:{},loadedMetadata:!0,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){d.__super__.initialize.call(this,e),this.data=this.data||[],this.lazy&&(this.loadedMetadata=!1,this.loader((e=>{this.data=e.data,this._updateCriteriaHint(),this.loadedMetadata=!0,this.subview("loading")&&this.subview("loading").hide()})))},render:function(){const e=d.__super__.render.call(this);return this.loadedMetadata||(this.subview("loading",new a({container:this.$el})),this.subview("loading").show()),e},_showCriteria:function(){this.select2component||this._initSelect2Component(),d.__super__._showCriteria.call(this)},_initSelect2Component:function(){if(!this.loadedMetadata)return;const e={_sourceElement:this.$(this.criteriaValueSelectors.value),configs:{allowClear:!0,minimumInputLength:0,multiple:!0,renderedPropertyName:this.renderedPropertyName,forceSelectedData:!0}};this.autocomplete_url?(e.url=this.autocomplete_url,s.extend(e.configs,{autocomplete_alias:this.autocomplete_alias})):this.data&&(e.configs.data={results:this.data,text:"name"}),this.$(this.criteriaValueSelectors.value).data("selected-data",this.data),this.select2component=new l(e)},setValue:function(e,t){if(!r.isEqualsLoosely(this.value,e)){const i=this.value;this.value=r.deepClone(e),this._updateDOMValue(),t||this._onValueUpdated(this.value,i)}return this},_onClickUpdateCriteria:function(){this.trigger("updateCriteriaClick",this),this._hideCriteria(),this.applyValue()},_readDOMValue:function(){return{value:this._getInputValue(this.criteriaValueSelectors.value),type:1}},onDataLoaded:function(e){const t=s.result(e.items,"results")||[],i=s.pluck(this.data,"id");Array.prototype.push.apply(this.data,s.filter(t,(function(e){return-1===i.indexOf(e.id)})))},_getCriteriaHint:function(...e){const t=e.length>0?this._getDisplayValue(e[0]):this._getDisplayValue();if(!t.value)return this.placeholder;if(0!==this.data.length){const e=this.renderedPropertyName||"name",i=[];return s.each(t.value.split(","),(function(t){let n=parseInt(t);t&&isNaN(n)&&(n=t);const o=s.findWhere(this.data,{id:n});if(void 0!==o)if(o.treePath){const t=[];s.each(o.treePath,(function(i){t.push(i[e])})),i.push(t.join(" / "))}else i.push(o[e])}),this),this.select2component&&0===this.select2component.view.$el.select2("data").length&&this.select2component.view.$el.select2("data",this.data),""+(this.wrapHintValue?'"'+i.join(", ")+'"':i.join(", "))}this.loadDataById(t)},getQuery:function(e){let t;if("string"==typeof e.value)t=e.value;else{const i=[];s.each(e.value,(function(e){i.push(e.id)})),t=i.join(",")}return t},loadDataById:function(e){const t=this.getQuery(e),i=this;n.ajax({url:this.autocomplete_url,data:{page:1,per_page:10,name:i.autocomplete_alias,query:t,search_by_id:!0},success:function(e){i.data=e.results,i._updateCriteriaHint(!0)}})},reset:function(){d.__super__.reset.call(this),this.$(this.criteriaValueSelectors.value).trigger("change"),this._hideCriteria()}});return d}.call(t,i,t,e))||(e.exports=s)},"./bundles/orofilter/js/filter/dictionary-filter.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orofilter/templates/filter/dictionary-filter.html"),s=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orofilter/templates/filter/select-field.html"),n=i("./bundles/oroui/js/extend/jquery.js"),o=i("./bundles/fosjsrouting/js/router.js"),r=i("./bundles/oroui/js/extend/underscore.js"),a=i("./bundles/orotranslation/js/translator.js"),l=i("./bundles/orofilter/js/filter/choice-filter.js"),d=i("./bundles/oroui/js/tools.js");i("./bundles/oroui/js/extend/select2.js");const c=l.extend({elementSelector:".select-values-autocomplete",template:t,templateSelector:"#dictionary-filter-template",fieldTemplate:s,fieldTemplateSelector:"#select-field-template",maxCountForDropDownMode:10,criteriaValueSelectors:{type:'input[type="hidden"]:last',value:"input.select-values-autocomplete"},filterParams:null,class:null,select2ConfigData:null,isInitSelect2:!1,previousData:[],selectedData:{},dictionaryValueRoute:"oro_dictionary_value",dictionarySearchRoute:"oro_dictionary_search",constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.selectedData={},this.filterParams?this.dictionaryClass=this.filterParams.class.replace(/\\/g,"_"):this.dictionaryClass=this.class.replace(/\\/g,"_"),this.listenTo(this,"renderCriteriaLoadValues",this.renderCriteriaLoadValues),this.listenTo(this,"updateCriteriaLabels",this.updateCriteriaLabels),c.__super__.initialize.call(this,e)},reset:function(){c.__super__.reset.call(this);const e=this.$el.find(this.elementSelector),t=e.inputWidget("data");t&&(this.previousData=t),e.inputWidget("data",null)},resetFags(){this.popupCriteriaShowed=!1,this.selectDropdownOpened=!1,this._criteriaRenderd=!1,this._isRenderingInProgress=!1},render:function(){this.resetFags(),this.renderDeferred=n.Deferred(),this._wrap(""),""===this.$el.html()&&this._renderCriteria()},loadValuesById:function(e){const t=this;if(null===this.select2ConfigData){const i=t.$(t.elementSelector).parent();i.addClass("loading"),n.ajax({url:o.generate(t.dictionaryValueRoute,{dictionary:this.dictionaryClass}),data:{keys:this.isEmptyType(this.value.type)?[]:this.value.value},success:function(s){i.removeClass("loading"),t.trigger(e,s)}})}else{const i=this.select2ConfigData,s=this.value.value,n={results:r.filter(i,(function(e){const t=e.id.toString();return-1!==r.indexOf(s,t)}))};t.trigger(e,n)}},renderCriteriaLoadValues:function(e){this.updateLocalValues(e.results),this._writeDOMValue(this.value),this.applySelect2(),this._updateCriteriaHint(),this._updateDOMValue(),this.renderDeferred.resolve(),this.trigger("update")},updateCriteriaLabels:function(e){this.updateLocalValues(e.results),this.$(this.elementSelector).inputWidget("data",this.getDataForSelect2()),this._updateCriteriaHint(),this.trigger("update")},updateLocalValues:function(e){const t=[];return r.each(e,(function(e){t.push(e.id),this.selectedData[e.id]=e}),this),this.value.value=t,this},_renderCriteria:function(){this.renderTemplate(),this.loadValuesById("renderCriteriaLoadValues")},renderTemplate:function(){const e=r.extend({},this.emptyValue,this.value);let t="";r.isEmpty(this.choices)||(t=r.find(this.choices,(function(t){return e.type===t.value})).label);const i=this._getParts(),s=n(this.template({parts:i,isEmpty:!1,showLabel:this.showLabel,label:this.label,selectedChoiceLabel:t,selectedChoice:e.type,choices:this.choices,name:this.name,renderMode:this.renderMode,...this.getTemplateDataProps()}));this._appendFilter(s)},applySelect2:function(){const e=this,t=this.getSelect2Config(),i=this.$el.find(this.elementSelector),s=this.getDataForSelect2();i.removeClass("hide"),i.attr("multiple","multiple"),i.inputWidget("create","select2",{initializeOptions:t}),e.isInitSelect2=!0,this.templateTheme&&i.on("change",(function(){e.applyValue()})),i.inputWidget("data",s),this._criteriaRenderd=!0,this._alignCriteria(),!1!==this.autoClose&&this._focusCriteriaValue()},getSelect2Config:function(){const e={multiple:!0,containerCssClass:"dictionary-filter",dropdownAutoWidth:!0,minimumInputLength:0,placeholder:a("Choose values")};return null===this.select2ConfigData?e.ajax={url:o.generate(this.dictionarySearchRoute,{dictionary:this.dictionaryClass}),dataType:"json",delay:250,type:"POST",data:function(e){return{q:e}},results:function(e){return{results:e.results}}}:(e.data={results:this.select2ConfigData},e.data.results.length>100&&(e.minimumInputLength=2)),""===this.templateTheme&&(e.width="off"),e},getDataForSelect2:function(){const e=[];return r.each(this.value.value,(function(t){const i=this.selectedData[t];i&&e.push({id:i.id,text:i.text})}),this),e},isEmptyValue:function(){if(this.isEmptyType(this.value.type))return!1;const e=this.getValue();return!e.value||0===e.value.length},_getParts:function(){const e=r.extend({},this.emptyValue,this.getValue()),t=this._getTemplate("fieldTemplate"),i=[],s=this._getSelectedChoiceLabel("choices",this.value);return""!==this.templateTheme&&i.push(t({name:this.name+"_part",choices:this.choices,selectedChoice:e.type,selectedChoiceLabel:s})),i},setValue:function(e){this.preloadSelectedData(e);const t=this.value;return this.value=d.deepClone(e),this.$(this.elementSelector).inputWidget("data",this.getDataForSelect2()),this._updateDOMValue(),this.valueIsLoaded(e.value)||this.isEmptyType(e.type)?this._onValueUpdated(this.value,t):this.loadValuesById("updateCriteriaLabels"),this},preloadSelectedData:function(e){if(!this.isInitSelect2||!e.value)return;const t=this.$(this.elementSelector).inputWidget("data");r.each(t,(function(e){"id"in e&&(this.selectedData[e.id]||(this.selectedData[e.id]=e))}),this)},_writeDOMValue:function(e){this._setInputValue(this.criteriaValueSelectors.type,e.type)},_readDOMValue:function(){let e;return e=this.isInitSelect2?this.$el.find(".select-values-autocomplete").inputWidget("val"):null,{type:this._getInputValue(this.criteriaValueSelectors.type),value:e}},_getSelectedChoiceLabel:function(e,t){let i="";if(!r.isEmpty(this[e])){const s=r.find(this[e],(function(e){return e.value===t.type}));s&&(i=s.label)}return i},_getCriteriaHint:function(){const e=this._getDisplayValue();let t=null;if(!r.isUndefined(e.type)){const i=e.type;if(t=this._getChoiceOption(i),this.isEmptyType(i))return t?t.label:this.placeholder}if(!e.value||0===e.value.length)return this.placeholder;if(this.valueIsLoaded(e.value)){const i=this,s=r.isObject(r.first(e.value))?r.map(e.value,r.property("text")):r.chain(e.value).map((function(e){const t=r.find(i.selectedData,(function(t){return t.id.toString()===e.toString()}));return t?t.text:t})).filter(r.negate(r.isUndefined)).value(),n=this.wrapHintValue?'"'+s+'"':s;return(t?t.label+" ":"")+n}return this.placeholder},_hideCriteria:function(){this.$el.find(this.elementSelector).inputWidget("close"),c.__super__._hideCriteria.call(this)},valueIsLoaded:function(e){if(e){let t=0;const i=this;return r.each(e,(function(e){i.selectedData&&i.selectedData[e]&&t++})),t===e.length}return!0},_applyValueAndHideCriteria:function(){if(!this.isInitSelect2)return this._hideCriteria();c.__super__._applyValueAndHideCriteria.call(this)},getCriteriaValueFieldToFocus(){const e=c.__super__.getCriteriaValueFieldToFocus.call(this);return e.data("select2")?e.data("select2").search:e}});return c}.call(t,i,t,e))||(e.exports=s)},"./bundles/orofilter/js/filter/none-filter.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orofilter/templates/filter/filter-wrapper.html"),s=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orofilter/templates/filter/none-filter.html"),n=i("./bundles/oroui/js/extend/jquery.js"),o=i("./bundles/oroui/js/extend/underscore.js"),r=i("./bundles/orofilter/js/filter/abstract-filter.js").extend({wrappable:!0,wrapperTemplate:t,wrapperTemplateSelector:"#filter-wrapper-template",template:s,templateSelector:"#none-filter-template",criteriaHintSelector:".filter-criteria-hint",criteriaSelector:".filter-criteria",popupHint:"Choose a value first",events:{"click .filter-criteria-selector":"_onClickCriteriaSelector","click .filter-criteria .filter-criteria-hide":"_onClickCloseCriteria","click .disable-filter":"_onClickDisableFilter"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){const t=o.pick(e||{},"popupHint");o.extend(this,t),this.label="None",r.__super__.initialize.call(this,e)},ensurePopupCriteriaClosed:function(){this.popupCriteriaShowed&&this._hideCriteria()},_onClickCriteriaSelector:function(e){e.stopPropagation(),this.popupCriteriaShowed?this._hideCriteria():this._showCriteria()},_onClickCloseCriteria:function(){this._hideCriteria(),this._updateDOMValue()},_onClickDisableFilter:function(e){e.preventDefault(),this.disable()},_onClickOutsideCriteria:function(e){const t=this.$(this.criteriaSelector);t.get(0)===e.target||t.has(e.target).length||this._hideCriteria()},render:function(){const e=n(this.template({popupHint:this._getPopupHint(),renderMode:this.renderMode}));return this._wrap(e),this.initiallyOpened&&this._showCriteria(),this},_wrap:function(e){this.$el.append(e)},_showCriteria:function(){this.$(this.criteriaSelector).show(),this._setButtonPressed(this.$(this.criteriaSelector),!0),this.trigger("showCriteria",this),setTimeout((()=>{this.popupCriteriaShowed=!0}),100)},_hideCriteria:function(){this.$(this.criteriaSelector).hide(),this._setButtonPressed(this.$(this.criteriaSelector),!1),this.trigger("hideCriteria",this),setTimeout((()=>{this.disposed||(this.popupCriteriaShowed=!1)}),100)},_writeDOMValue:function(e){return this},_readDOMValue:function(){return{}},_getPopupHint:function(){return this.popupHint,this.popupHint},_getCriteriaHint:function(){return this.criteriaHint?this.criteriaHint:this.placeholder}});return r}.call(t,i,t,e))||(e.exports=s)},"./bundles/orofilter/js/filter/number-filter.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/extend/jquery.js"),n=i("./bundles/orofilter/js/filter/choice-filter.js"),o=i("./bundles/orofilter/js/formatter/number-formatter.js"),r=i("./bundles/orotranslation/js/translator.js"),a=i("./bundles/oroui/js/mediator.js"),l=n.extend({wrapHintValue:!1,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){t.defaults(this,{formatterOptions:{},arraySeparator:",",arrayOperators:[],dataType:"data_integer",limitDecimals:!1}),this._filterArrayChoices(),this.formatter=new o(this.formatterOptions),l.__super__.initialize.call(this,e)},dispose:function(){this.disposed||(delete this.formatter,l.__super__.dispose.call(this))},_filterArrayChoices:function(){this.choices=t.filter(this.choices,(e=>"data_integer"===this.dataType||!this._isArrayType(e.data)))},_formatRawValue:function(e){const i=t.clone(e);return i.value=this._toRawValue(e.value),i},_formatDisplayValue:function(e){const i=t.clone(e);return i.value=this._toDisplayValue(e.value),i},_toRawValue:function(e){return""===e&&(e=void 0),void 0!==e&&this._isArrayTypeSelected()?this._formatArray(e):(void 0!==e&&(e=this.formatter.toRaw(e)),e)},_toDisplayValue:function(e){return e&&this._isArrayTypeSelected()?this._formatArray(e):this.formatter.fromRaw(e)},_formatArray:function(e){return t.filter(t.map(e.toString().split(this.arraySeparator),(function(e){return parseInt(e)})),(function(e){return!isNaN(e)})).join(this.arraySeparator)},_isArrayTypeSelected:function(){return this._isArrayType(this._readDOMValue().type)},_isArrayType:function(e){return t.contains(this.arrayOperators,parseInt(e)||0)},_writeDOMValue:function(e){return this._initInputWidget(),l.__super__._writeDOMValue.call(this,e)},_isValid:function(){const e=this.formatter.toRaw(this._readDOMValue().value);return!(void 0!==e&&!this._checkNumberRules(e))&&l.__super__._isValid.call(this)},_checkNumberRules:function(e){if(t.isUndefined(e))return!0;let i=!0;return t.isNaN(e)&&(this._showNumberWarning(),i=!1),i},_showNumberWarning:function(){a.execute("showFlashMessage","warning",r("oro.form.number.nan"))},_initInputWidget:function(){t.each(this.$el.find('input[type="number"]'),(function(e){this.formatter.decimals&&s(e).attr("data-precision",this.formatter.decimals),s(e).attr("data-limit-decimals",this.limitDecimals)}),this),this.$el.inputWidget("seekAndCreate")}});return l}.call(t,i,t,e))||(e.exports=s)},"./bundles/orofilter/js/filter/number-range-filter.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orofilter/templates/filter/number-range-filter.html"),s=i("./bundles/oroui/js/extend/jquery.js"),n=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/orotranslation/js/translator.js"),r=i("./bundles/oroui/js/tools.js"),a=i("./bundles/orofilter/js/filter/number-filter.js").extend({template:t,templateSelector:"#number-range-filter-template",criteriaValueSelectors:{value_end:'input[name="value_end"]'},typeValues:{between:7,notBetween:8},fallbackTypeValues:{moreThan:2,lessThan:6},autoUpdateRangeFilterType:!0,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){this.emptyValue=n.defaults(this.emptyValue||{},{type:n.isEmpty(this.choices)?"":n.first(this.choices).value,value:"",value_end:""}),n.defaults(this.criteriaValueSelectors,a.__super__.criteriaValueSelectors),a.__super__.initialize.call(this,e)},isEmptyValue:function(){return this.isApplicable(this.value.type)?!n.has(this.value,"value")&&!n.has(this.value,"value_end")||this.emptyValue.value===this.value.value&&this.emptyValue.value_end===this.value.value_end:a.__super__.isEmptyValue.call(this)},_applyValueAndHideCriteria:function(){this._beforeApply(),a.__super__._applyValueAndHideCriteria.call(this)},_updateValueField:function(){a.__super__._updateValueField.call(this);const e=this.$(this.criteriaValueSelectors.type).val(),t=this.$(".filter-separator, .filter-end"),{inputFieldAriaLabel:i,rangeStartFieldAriaLabel:s}=this.getTemplateDataProps();this.isApplicable(e)?(this.$(this.criteriaValueSelectors.value).attr("aria-label",s),t.show()):(this.$(this.criteriaValueSelectors.value).attr("aria-label",i),t.hide(),this.value.value_end=this.emptyValue.value_end,this._setInputValue(this.criteriaValueSelectors.value_end,this.value.value_end))},isApplicable:function(e){return n.has(n.invert(this.typeValues),e)},getRangeHint:function(e,t,i,s){let n="",r=this._getChoiceOption(e);return t&&i?(r=this._getChoiceOption(e),n+=[r.label,t,o("and"),i].join(" ")):s&&t||!s&&i?n+=[o("oro.filter.number_range.greater_than"),t||i].join(" "):(s&&i||!s&&t)&&(n+=[o("oro.filter.number_range.less_than"),i||t].join(" ")),n},_getCriteriaHint:function(...e){if(this.isEmptyValue())return this.placeholder;let t="";const i=e.length>0?this._getDisplayValue(e[0]):this._getDisplayValue();if(i.value||i.value_end)switch(i.type?i.type.toString():""){case this.typeValues.between.toString():t=this.getRangeHint(this.typeValues.between,i.value,i.value_end,!0);break;case this.typeValues.notBetween.toString():t=this.getRangeHint(this.typeValues.notBetween,i.value,i.value_end,!1)}return t||(t=a.__super__._getCriteriaHint.apply(this,e)),t||this.placeholder},_beforeApply:function(){this.autoUpdateRangeFilterType&&this._updateRangeFilter(this._readDOMValue())},_updateRangeFilter:function(e){e=this._formatRawValue(e);const t=r.deepClone(e);e=this.swapValues(e),r.isEqualsLoosely(e,t)||this.setValue(e)},_writeDOMValue:function(e){a.__super__._writeDOMValue.call(this,e),this._setInputValue(this.criteriaValueSelectors.value_end,e.value_end);const t=this.$(this.criteriaValueSelectors.type);return t.length&&e.type!==t.val()&&(this._setInputValue(this.criteriaValueSelectors.type,e.type),this._updateTypeDropdown(e.type)),this},_updateTypeDropdown:function(e){const t=this.$(".dropdown-menu:eq(0) a").filter((function(){return s(this).data("value")===e}));t.parent().parent().find("li").each((function(){s(this).removeClass("active")})),t.parent().addClass("active");const i=t.parent().parent().parent();let n=t.html();n+=this.caret,i.find('[data-toggle="dropdown"]').html(n)},_readDOMValue:function(){const e=a.__super__._readDOMValue.call(this);return e.value_end=this._getInputValue(this.criteriaValueSelectors.value_end),e},swapValues(e){if(!this.isApplicable(e.type))return e;if(e.value&&e.value_end){if(e.value_end<e.value){const t=e.value_end;e.value_end=e.value,e.value=t}}else if(e.value||e.value_end){const t=parseInt(e.type);e.value_end?(e.type=t===this.typeValues.between?this.fallbackTypeValues.lessThan:this.fallbackTypeValues.moreThan,e.value=e.value_end,e.value_end=""):e.type=t===this.typeValues.between?this.fallbackTypeValues.moreThan:this.fallbackTypeValues.lessThan}return e},_formatRawValue:function(e){const t=a.__super__._formatRawValue.call(this,e);return t.value_end=this._toRawValue(e.value_end),t},_formatDisplayValue:function(e){const t=a.__super__._formatDisplayValue.call(this,e);return t.value_end=this._toDisplayValue(e.value_end),t},_isValid:function(){const e=this.formatter.toRaw(this._readDOMValue().value_end);return!(void 0!==e&&!this._checkNumberRules(e))&&a.__super__._isValid.call(this)},getTemplateDataProps(){return{...a.__super__.getTemplateDataProps.call(this),rangeStartFieldAriaLabel:o("oro.filter.range_fields.start_field.aria_label",{label:this.label}),rangeEndFieldAriaLabel:o("oro.filter.range_fields.end_field.aria_label",{label:this.label})}}});return a}.call(t,i,t,e))||(e.exports=s)},"./bundles/orofilter/js/filters-manager.js":(e,t,i)=>{var s;s=function(e,t,s){"use strict";const n=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orofilter/templates/filters-container.html"),o=i("./bundles/oroui/js/extend/jquery.js"),r=i("./bundles/oroui/js/extend/underscore.js"),a=i("./bundles/orotranslation/js/translator.js"),l=i("./bundles/oroui/js/mediator.js"),d=i("./bundles/oroui/js/tools.js"),c=i("./bundles/oroui/js/app/views/base/view.js"),u=i("./bundles/orofilter/js/multiselect-decorator.js"),h=i("./bundles/orofilter/js/datafilter-wrapper.js"),p=i("./bundles/orofilter/js/app/views/filters-state-view.js"),_=i("./bundles/oroui/js/persistent-storage.js"),g=i("./bundles/orofilter/js/app/views/filter-dialog-widget.js"),m=i("./bundles/oroui/js/app/services/module-config.js").Z(s.id),f=c.extend({filters:null,template:n,viewMode:NaN,filterSelector:"[data-action=add-filter-select]",renderMode:"dropdown-mode",addButtonHint:a("oro_datagrid.label_add_filter"),multiselectResetButtonLabel:a("oro_datagrid.label_reset_button"),filterDialogTitle:a("oro.filter.dialog.filter_results"),selectWidget:null,MultiselectDecorator:u,multiselectParameters:{},buttonSelector:".ui-multiselect.filter-list",dropdownContainer:"body",outerHintContainer:void 0,autoClose:!0,storageKey:null,enableMultiselectWidget:!1,events:{"change [data-action=add-filter-select]":"_onChangeFilterSelect","click .reset-filter-button":"_onReset",'click a[data-name="filters-dropdown"]':"_onDropdownToggle",'click [data-role="reset-filters"], [data-role="reset-all-filters"]':"_onReset"},listen:{"filters:update mediator":"_onChangeFilterSelect","filters:reset mediator":"_onReset"},noWrap:!0,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){r.extend(this,r.pick(e,"addButtonHint","multiselectResetButtonLabel","stateViewElement","template","renderMode","autoClose","outerHintContainer","enableMultiselectWidget","multiselectParameters","filterContainer")),this.template=this.getTemplateFunction(),this.filters=r.extend({},e.filters),this.storageKey=e.filtersStateStorageKey||m.filtersStateStorageKey||"filters-state",e.forcedViewMode?this.viewMode=e.forcedViewMode:(this.viewMode=_.getItem(this.storageKey),null===this.viewMode&&(this.viewMode=e.defaultFiltersViewMode||f.STATE_VIEW_MODE));const t={update:this._onFilterUpdated,change:this._onFilterChanged,disable:this._onFilterDisabled,showCriteria:this._onFilterShowCriteria};if(d.isMobile()){const e="click."+this.cid+" shown.bs.dropdown."+this.cid;t.updateCriteriaClick=this._onUpdateCriteriaClick,o("body").on(e,this._onOutsideActionEvent.bind(this))}if(r.each(this.filters,(function(e){e.wrappable&&Object.assign(e,h),!1===this.autoClose&&Object.assign(e,{autoClose:this.autoClose}),this.listenTo(e,t),e.trigger("total-records-count-updated",this.collection.state.totalRecords)}),this),this.isFiltersStateViewNeeded(e)){const t=new p({el:e.filtersStateElement,filters:e.filters,useAnimationOnInit:e.useFiltersStateAnimationOnInit});this.subview("filters-state",t),this.listenTo(t,"clicked",(function(){this.setViewMode(f.MANAGE_VIEW_MODE);const e=Object.values(this.filters).find((e=>e.visible&&e.renderable&&"-1"!==e.getCriteriaSelector().attr("tabindex")));e&&o.contains(t.el,document.activeElement)&&e.getCriteriaSelector().trigger("focus")}))}f.__super__.initialize.call(this,e)},hasFilters:function(){return!r.isEmpty(this.filters)},delegateListeners:function(){return r.isEmpty(this.filters)||this.listenTo(l,"datagrid:metadata-loaded",this.updateFilters),f.__super__.delegateListeners.call(this)},updateFilters:function(e){r.each(e.metadata.filters,(function(e){const t=this.filters[e.name];t&&(t.setRenderMode(this.renderMode),t.trigger("total-records-count-updated",this.collection.state.totalRecords),t.trigger("metadata-loaded",e))}),this),this.checkFiltersVisibility()},checkFiltersVisibility:function(){r.each(this.filters,(e=>{e.visible&&e.renderable?this._renderFilter(e).show():e.visible||e.hide()})),this.checkFiltersSelectVisibility()},checkFiltersSelectVisibility:function(){const e=this.$(this.filterSelector);e.length&&(r.each(this.filters,(t=>{const i=e.find(`option[value="${t.name}"]`);t.visible&&i.hasClass("hidden")?i.removeClass("hidden").removeAttr("disabled"):t.visible||i.hasClass("hidden")||i.addClass("hidden").attr("disabled",!0)})),this._refreshSelectWidget())},isFiltersStateViewNeeded:function(e){return"filtersStateElement"in e},dispose:function(){this.disposed||(o("body").off("."+this.cid),r.each(this.filters,(function(e){e.dispose()})),delete this.filters,this._disposeSelectWidget(),f.__super__.dispose.call(this))},_onFilterUpdated:function(e){this._resetHintContainer(),this.trigger("updateFilter",e),this._publishCountSelectedFilters()},_onFilterChanged:function(){this._publishCountSelectedFilters(),this._publishCountChangedFilters()},_onFilterDisabled:function(e){this.trigger("disableFilter",e),this.disableFilter(e),this.trigger("afterDisableFilter",e),this._publishCountSelectedFilters(),this._publishCountChangedFilters()},_onFilterShowCriteria:function(e){this.autoClose&&r.each(this.filters,(function(t){t!==e&&r.result(t,"ensurePopupCriteriaClosed")})),this._publishCountSelectedFilters()},getValues:function(){const e={};return r.each(this.filters,(function(t){t.renderable&&(e[t.name]=t.getValue())}),this),e},setValues:function(e){r.each(e,(function(e,t){r.has(this.filters,t)&&this.filters[t].setValue(e)}),this)},_onChangeFilterSelect:function(e){this.trigger("updateList",this),this._processFilterStatus(e),this.trigger("afterUpdateList",this)},enableFilter:function(e){return this.enableFilters([e])},disableFilter:function(e){return this.disableFilters([e])},enableFilters:function(e){if(r.isEmpty(e))return this;const t=[];if(r.each(e,(function(e){this._renderFilter(e),e.visible&&e.enable(),t.push('option[value="'+e.name+'"]:not(:selected)')}),this),!this.enableMultiselectWidget)return;const i=this.$(this.filterSelector).find(t.join(","));return i.length&&i.prop("selected",!0),t.length&&this._refreshSelectWidget(),this},disableFilters:function(e){if(r.isEmpty(e))return this;const t=[];if(r.each(e,(function(e){e.disable(),t.push('option[value="'+e.name+'"]:selected')}),this),!this.enableMultiselectWidget)return;const i=this.$(this.filterSelector).find(t.join(","));return i.length&&i.prop("selected",!1),t.length&&this.selectWidget.multiselect("refresh"),this},_renderFilter:function(e){if(!e.isRendered()){const t=e.$el;e.setRenderMode(this.renderMode),e.render(),t.replaceWith(e.$el),e.rendered(),e.visible||e.hide()}return e},getTemplateData:function(){return{filters:this.filters,renderMode:this.renderMode,outerHintContainer:this.outerHintContainer,enableMultiselectWidget:this.enableMultiselectWidget}},render:function(){f.__super__.render.call(this),this.dropdownContainer=this.$el.find(".filter-container");const e=this.dropdownContainer.find(".filter-items");r.each(this.filters,(function(t){r.isFunction(t.setDropdownContainer)&&t.setDropdownContainer(this.dropdownContainer),t.setRenderMode(this.renderMode),t.renderable&&t.visible?(t.render(),e.append(t.$el),t.rendered()):e.append(t.$el)}),this),this.trigger("rendered"),r.isEmpty(this.filters)?this.hide():this.enableMultiselectWidget&&this._initializeSelectWidget();const t=this.subview("filters-state");return t&&(t.render(),this.viewMode===f.MANAGE_VIEW_MODE&&t.hide()),this.viewMode===f.STATE_VIEW_MODE&&this.hide(),this.appendToContainer(),this},show:function(){this.$el.show(),this.trigger("visibility-change",!0)},hide:function(){this.$el.hide(),this.trigger("visibility-change",!1)},appendToContainer(){this.$el.prependTo(this.filterContainer),this.trigger("visibility-change",!0)},_publishCountSelectedFilters:function(e){const t=!r.isUndefined(e)&&r.isNumber(e)?e:this._calculateSelectedFilters();l.trigger("filterManager:selectedFilters:count:"+this.collection.options.gridName,t),this.$('a[data-name="filters-dropdown"]').toggleClass("filters-exist",t>0)},_publishCountChangedFilters:function(e){const t=!r.isUndefined(e)&&r.isNumber(e)?e:this._calculateChangedFilters();l.trigger("filterManager:changedFilters:count:"+this.collection.options.gridName,t)},_calculateSelectedFilters:function(){return r.reduce(this.filters,(function(e,t){return e+(!t.renderable||t.isEmptyValue()||r.isEqual(t.emptyValue,t.value)?0:1)}),0)},_calculateChangedFilters:function(){return r.reduce(this.filters,(function(e,t){const i=t._readDOMValue();return e+(!t.renderable||r.isEqual(t.value,i)||r.isEqual(t.emptyValue,i)||r.isUndefined(i.type)||r.isEmpty(i.value)?0:1)}),0)},getHintContainer:function(){let e=this.dropdownContainer;return this.outerHintContainer&&(e=o(this.outerHintContainer)),e.find(".filter-items-hint")},_resetHintContainer:function(){const e=this.getHintContainer();let t=!1;e.children("span").each((function(){if("none"!==this.style.display)return t=!0,!1})),t?e.show():e.hide(),this._publishCountSelectedFilters()},_disposeSelectWidget(){this.selectWidget&&(this.$(this.filterSelector).off(`remove${this.eventNamespace()}`),this.selectWidget.dispose(),delete this.selectWidget)},_initializeSelectWidget:function(){this._disposeSelectWidget(),this.multiselectParameters.appendTo&&(this.multiselectParameters.appendTo=this.$el.find(this.multiselectParameters.appendTo));const e=r.extend({multiple:!0,selectedList:0,classes:"select-filter-widget",position:{my:"left top+2",at:"left bottom"}},{minWidth:"none",selectedText:this.addButtonHint,beforeopen:()=>{this.selectWidget.onBeforeOpenDropdown()},open:()=>{this.selectWidget.onOpenDropdown(),this._setDropdownWidth()},refresh:()=>{this.selectWidget.onRefresh()},close:()=>{this.selectWidget.onClose()},appendTo:this.dropdownContainer},this.multiselectParameters);this.$(this.filterSelector).on(`remove${this.eventNamespace()}`,this._disposeSelectWidget.bind(this)),this.selectWidget=new this.MultiselectDecorator({element:this.$(this.filterSelector),parameters:e}),this.selectWidget.setViewDesign(this);const t=this.selectWidget.multiselect("instance").button;this._setButtonDesign(t),this._setButtonReset()},_refreshSelectWidget:function(){(this.selectWidget||this.enableMultiselectWidget)&&this.selectWidget.multiselect("refresh")},_setButtonDesign:function(e){e.addClass("dropdown-toggle")},_createButtonReset:function(){return o('<div class="ui-multiselect-footer"><a href="#" class="ui-multiselect-reset" role="button" data-role="reset-filters"><i class="fa-refresh"></i>'+this.multiselectResetButtonLabel+"</a></div>")},_setButtonReset:function(){const e=this._createButtonReset();this.selectWidget.multiselect("instance").menu.append(e)},_setDropdownWidth:function(){const e=this.selectWidget.getWidget(),t=this.selectWidget.getMinimumDropdownWidth()+24;e.width(t).css("min-width",t+"px")},_processFilterStatus:function(e){r.isArray(e)||(e=this.$(this.filterSelector).val()),r.each(this.filters,(function(t,i){t.renderable||-1===r.indexOf(e,i)?t.renderable&&-1===r.indexOf(e,i)&&this.disableFilter(t):this.enableFilter(t)}),this)},_onReset:function(e){e.stopPropagation(),this.collection.state.filters={},this.collection.trigger("updateState",this.collection),l.trigger("datagrid:doRefresh:"+this.collection.inputName,!0)},_onDropdownToggle:function(e){e.preventDefault(),new g({title:this.filterDialogTitle,content:this.dropdownContainer}).render()},_onOutsideActionEvent:function(e){r.contains(o(e.target).parents(),this.el)||this.closeDropdown()},closeDropdown:function(){this.$(".dropdown").removeClass("oro-open")},_onUpdateCriteriaClick:function(e){e.once("update",this.closeDropdown,this),r.defer(e.off.bind(e,"update",this.closeDropdown,this))},getViewMode:function(){return this.viewMode},setViewMode:function(e){const t=[f.STATE_VIEW_MODE,f.MANAGE_VIEW_MODE];this.viewMode!==e&&r.contains(t,e)&&(this.trigger("changeViewMode",e),r.result(this.subview("filters-state"),e===f.STATE_VIEW_MODE?"show":"hide"),this.viewMode=e,_.setItem(this.storageKey,e))},getChangedFilters:function(){return r.filter(this.filters,(function(e){return e.renderable&&e._isDOMValueChanged()}))}});return r.extend(f,{MANAGE_VIEW_MODE:"expanded",STATE_VIEW_MODE:"collapsed"}),f}.call(t,i,t,e),void 0===s||(e.exports=s)},"./bundles/orofilter/js/filters-navigation-component.js":(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var s=i("./bundles/oroui/js/app/components/base/component.js"),n=i.n(s),o=i("./bundles/oroui/js/extend/backbone.js");const r=class{constructor(e){if(!e||!Array.isArray(e)||!e.length)throw new Error('Option "filters" is required');this.filters=e,this._index=0}get index(){return this._index}set index(e){this._index=e,this.trigger("change:index",e)}next(){return this.index+1<this.filters.length?this.getFilterByIndex(this.index+1):this.first()}previous(){return this.index>0?this.getFilterByIndex(this.index-1):this.last()}current(){return this.filters[this.index]}setCurrent(e){const t=this.filters.indexOf(e);this.index=-1!==t?t:0}first(){return this.getFilterByIndex(0)}last(){return this.getFilterByIndex(this.filters.length-1)}getFilterByIndex(e){const t=this.filters[e];return t?(this.index=e,t):this.first()}reset(){return this.index=0,this.current()}};Object.assign(r.prototype,o.Events);const a=r;var l=i("./bundles/oroui/js/tools/keyboard-key-codes.js"),d=i("./bundles/oroui/js/extend/underscore.js"),c=i.n(d);i("../node_modules/jquery-ui/ui/tabbable.js");const u=n().extend({constructor:function e(t){e.__super__.constructor.call(this,t)},initialize(e){if(this.options=e||{},!this.options.filters)throw new Error('Option "filters" is required');const t=Object.values(this.options.filters);if(u.__super__.initialize.call(this,e),0===t.length)return;this.onFilterVisibilityChange=c().debounce(this.onFilterVisibilityChange.bind(this),50);const i={keydownOnToggle:this.onFilterKeyDownToggle,focusinOnToggle:this.onFilterFocusInToggle,focusoutOnToggle:this.onFilterFocusOutToggle,enable:this.onFilterVisibilityChange,disable:this.onFilterVisibilityChange,showCriteria:this.setFilterAsCurrent};t.forEach((e=>this.listenTo(e,i))),this.iterator=new a(t),this.listenTo(this.iterator,"change:index",this.updateTabIndex),this.setFirstVisibleFilterAsCurrent()},onFilterKeyDownToggle(e){if(!this.disposed)switch(e.keyCode){case l.Z.ARROW_LEFT:this.focusPreviousFilter(),e.preventDefault();break;case l.Z.ARROW_RIGHT:this.focusNextFilter(),e.preventDefault();break;case l.Z.ENTER:case l.Z.SPACE:case l.Z.ARROW_UP:case l.Z.ARROW_DOWN:this.openCurrentFilter(),e.preventDefault();break;case l.Z.ESCAPE:this.closeCurrentFilterAndSetFocus(),e.preventDefault(),e.stopPropagation()}},onFilterFocusInToggle(e){e.target.classList.add("focus-via-arrows-keys")},onFilterFocusOutToggle(e){e.target.classList.remove("focus-via-arrows-keys")},onFilterVisibilityChange(){const e=this.iterator.current();e.renderable&&e.visible||this.setFirstVisibleFilterAsCurrent(),this.updateTabIndex()},setFilterAsCurrent(e){this.iterator.setCurrent(e)},updateTabIndex(){const e=this.iterator.current();e.getCriteriaSelector().attr("tabindex",0),this.iterator.filters.forEach((t=>{t!==e&&t.getCriteriaSelector().attr("tabindex",-1)}))},getFilterByIterator(e){const t=this.iterator.current();let i;do{i=this.iterator[e]()}while(!(i.renderable&&i.visible||i===t));return i},setFirstVisibleFilterAsCurrent(){const e=this.iterator.reset();e.visible&&e.renderable||this.getFilterByIterator(c().isRTL()?"previous":"next")},focusNextFilter(){const e=this.getFilterByIterator(c().isRTL()?"previous":"next");c().result(e,"focusCriteriaToggler")},focusPreviousFilter(){const e=this.getFilterByIterator(c().isRTL()?"next":"previous");c().result(e,"focusCriteriaToggler")},openCurrentFilter(){const e=this.iterator.current();c().result(e,"_showCriteria")},closeCurrentFilterAndSetFocus(){const e=this.iterator.current();c().result(e,"_hideCriteria"),c().result(e,"focusCriteriaToggler")},dispose:function(){this.disposed||(delete this.iterator,u.__super__.dispose.call(this))}}),h=u},"./bundles/orofilter/js/plugins/filters-toggle-plugin.js":(e,t,i)=>{var s;s=function(e,t,s){"use strict";const n=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/orotranslation/js/translator.js"),r=i("./bundles/oroui/js/app/plugins/base/plugin.js"),a=i("./bundles/orofilter/js/actions/toggle-filters-action.js"),l=i("./bundles/oroui/js/app/services/module-config.js").Z(s.id),d=n.extend({className:"btn",icon:"filter",label:o("oro.filter.datagrid-toolbar.filters"),ariaLabel:o("oro.filter.datagrid-toolbar.aria_label")},l.launcherOptions||{}),c=r.extend({enable:function(){this.listenTo(this.main,"beforeToolbarInit",this.onBeforeToolbarInit),c.__super__.enable.call(this)},onBeforeToolbarInit:function(e){const t={datagrid:this.main,launcherOptions:d,order:l.order||50};e.addToolbarAction(new a(t))}});return c}.call(t,i,t,e),void 0===s||(e.exports=s)},"./bundles/orointegration/js/datagrid/action/schedule-sync-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/orotranslation/js/translator.js"),i("./bundles/oroui/js/messenger.js"),i("./bundles/orodatagrid/js/datagrid/action/ajax-action.js")],void 0===(n=function(e,t,i){"use strict";return i.extend({constructor:function e(t){e.__super__.constructor.call(this,t)},_onAjaxSuccess:function(e){this.reloadData&&this.datagrid.hideLoading(),this._showAjaxSuccessMessage(e)},_showAjaxSuccessMessage:function(i){const s=i.successful?this.messages.success:this.messages.error,n=i.message||e(s);n&&t.notificationFlashMessage(i.successful?"success":"error",n)}})}.apply(t,s))||(e.exports=n)},"./bundles/orosales/js/datagrid/inline-editing/save-api-accessor.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/tools/api-accessor.js").extend({validateUrlParameters:function(e){this.initRoute(e);const t=this.prepareUrlParameters(e);return this.route.validateParameters(t)},send:function(e,t,i,n){return this.initRoute(e,t),this.isActiveCreateEntityRoute()&&(t.entityId=e.id,t.primary=!0),s.__super__.send.call(this,e,t,i,n)},initRoute:function(e,i){let s=t.clone(e);this.setUpdateEntityRoute(),s=this.prepareUrlParameters(s),this.route.validateParameters(s)||this.setCreateEntityRoute(),this.route.validateParameters(s)&&this.canSetDeleteEntityRoute(i)&&this.setDeleteEntityRoute()},canSetDeleteEntityRoute:function(e){return!(!e||""!==e[this.initialOptions.field_name])},setUpdateEntityRoute:function(){this.route.set("routeName",this.initialOptions.route),this.httpMethod=this.initialOptions.http_method},setCreateEntityRoute:function(){this.route.set("routeName",this.initialOptions.route_create_entity.name),this.httpMethod=this.initialOptions.route_create_entity.http_method},setDeleteEntityRoute:function(){this.route.set("routeName",this.initialOptions.route_delete_entity.name),this.httpMethod=this.initialOptions.route_delete_entity.http_method},isActiveCreateEntityRoute:function(){return this.route.get("routeName")===this.initialOptions.route_create_entity.name},isActiveDeleteEntityRoute:function(){return this.route.get("routeName")===this.initialOptions.route_delete_entity.name}});return s}.call(t,i,t,e))||(e.exports=s)},"./bundles/orosearch/js/filter/search-boolean-filter.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";return i("./bundles/orofilter/js/filter/multiselect-filter.js").extend({})}.call(t,i,t,e))||(e.exports=s)},"./bundles/orotag/js/datagrid/cell/tags-cell.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/orodatagrid/js/extend/backgrid.js"),s=i("./bundles/oroui/js/extend/underscore.js"),n=i("./bundles/fosjsrouting/js/router.js"),o=i("./bundles/orotag/js/app/views/viewer/tags-view.js");return t.StringCell.extend({template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orotag/templates/viewer/tags-view.html"),getTemplateFunction:o.prototype.getTemplateFunction,getTemplateData:o.prototype.getTemplateData,render:o.prototype.render,type:"tags",className:"tags-cell tags-container",initialize:function(e){t.StringCell.__super__.initialize.call(this,e),this.fieldName=this.column.get("name");let i=this.model.get(this.fieldName);i=s.map(i,(function(e){return e.hasOwnProperty("url")||(e.url=n.generate("oro_tag_search",{id:e.id})),e})),this.model.set(this.fieldName,i)}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/oroui/js/app/views/dropdown-menu-collection-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/orotranslation/js/translator.js"),n=i("./bundles/oroui/js/app/views/base/collection-view.js"),o=i("./bundles/oroui/js/app/views/base/view.js"),r=i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/oroui/templates/dropdown-menu-collection--item.html"),a=n.extend({tagName:"div",className:"dropdown-menu dropdown-menu-collection",animationDuration:0,listSelector:'[data-name="list"]',loadingSelector:'[data-name="loading"]',fallbackSelector:'[data-name="fallback"]',loadingText:s("Loading..."),fallbackText:s("No matches found"),events:{"click li":"onItemClick"},listen:{"sync collection":"onCollectionSync","syncStateChange collection":"onCollectionSyncStateChange"},template:t.template(['<div class="dropdown-item" data-name="fallback"><%- fallbackText %></div>','<div class="dropdown-item" data-name="loading"><%- loadingText %></div>','<ul class="list-unstyled" data-name="list" role="menu"></ul>'].join("")),constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){if(t.extend(this,t.pick(e,["loadingText","fallbackText","keysMap"])),e.keysMap){const t=e.keysMap,i=this.itemView=this.itemView.extend({getTemplateData:function(){const e=i.__super__.getTemplateData.call(this);return e.id=t.id&&e[t.id],e.text=t.text&&e[t.text],e}})}a.__super__.initialize.call(this,e)},getTemplateData:function(){const e=a.__super__.getTemplateData.call(this);return t.extend(e,t.pick(this,["loadingText","fallbackText"])),e},itemView:o.extend({tagName:"li",template:r}),onItemClick:function(e){e.preventDefault(),e.stopPropagation();const i=t.find(this.subviews,(function(t){return t.el===e.currentTarget}));i&&this.trigger("selected",i.model.toJSON())},onCollectionSync:function(){this.$el.trigger("content:changed")},onCollectionSyncStateChange:function(){t.defer((()=>{this.$el.trigger("content:changed")}))}});return a}.call(t,i,t,e))||(e.exports=s)},"./bundles/oroui/js/app/views/tab-collection-view.js":(e,t,i)=>{var s;s=function(e,t,s){"use strict";const n=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/oroui/js/mediator.js"),r=i("./bundles/oroui/js/app/views/base/collection-view.js");let a=i("./bundles/oroui/js/app/services/module-config.js").Z(s.id);const l=i("./bundles/oroui/js/app/views/tab-item-view.js");a=n.extend({templateClassName:"nav nav-tabs responsive-tabs"},a);const d=r.extend({listSelector:'[data-name="tabs-list"]',className:"tab-collection oro-tabs clearfix",itemView:l,useDropdown:!1,listen:{"change collection":"onChange"},template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/oroui/templates/tab-collection-container.html"),constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){n.extend(this,n.defaults(n.pick(e,["useDropdown"]),this)),d.__super__.initialize.call(this,e)},onChange:function(e){e.get("active")&&this.collection.each((function(t){t!==e&&t.set("active",!1)}))},_ensureElement:function(){d.__super__._ensureElement.call(this),this.$el.addClass(n.result(this,"className"))},getTemplateData:function(){const e=d.__super__.getTemplateData.call(this);return e.templateClassName=a.templateClassName,e.tabOptions={useDropdown:this.useDropdown},e},render:function(){d.__super__.render.call(this),this.$el.attr("data-layout","separate"),this.initLayout().done(this.handleLayoutInit.bind(this))},handleLayoutInit:function(){o.trigger("widget:doRefresh")}});return d}.call(t,i,t,e),void 0===s||(e.exports=s)},"./bundles/oroui/js/app/views/tab-item-view.js":(e,t,i)=>{var s;s=function(e,t,s){"use strict";const n=i("./bundles/oroui/js/extend/underscore.js"),o=i("./bundles/oroui/js/extend/jquery.js"),r=i("./bundles/oroui/js/app/views/base/view.js");let a=i("./bundles/oroui/js/app/services/module-config.js").Z(s.id);a=n.extend({className:"nav-item",templateClassName:"nav-link"},a);const l=r.extend({tagName:"li",className:a.className,template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/oroui/templates/tab-collection-item.html"),listen:{"change:active model":"updateStates","change:changed model":"updateStates"},events:{"shown.bs.tab":"onTabShown",click:"onTabClick"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){l.__super__.initialize.call(this,e),this.updateStates()},updateStates:function(){this.$el.toggleClass("changed",!!this.model.get("changed"));const e=this.$('[role="tab"]');if(e.attr("aria-selected")!==String(this.model.get("active"))&&e.attr("aria-selected",this.model.get("active")),this.model.get("active")){const e=this.model.get("controlTabPanel")||this.model.get("id");o("#"+e).attr("aria-labelledby",this.model.get("uniqueId"))}},onTabShown:function(e){this.model.set("active",!0),this.model.trigger("select",this.model)},onTabClick:function(e){this.model.trigger("click",this.model)}});return l}.call(t,i,t,e),void 0===s||(e.exports=s)},"./bundles/oroui/js/tools/collection-tools.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/app/models/base/collection.js");return{createFilteredCollection:function(e,i){const n=t.iteratee(i.criteria),o=new(i.collection||s)(e.filter(n),t.omit(i,["criteria"]));return o.listenTo(e,"change add remove reset sort",(function(){o.reset(e.filter(n))})),o}}}.call(t,i,t,e))||(e.exports=s)},"./bundles/oroui/js/tools/text-util.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/underscore.js"),i("./bundles/orotranslation/js/translator.js")],void 0===(n=function(e,t){"use strict";const i=/^((\w{1,3}|\w\.)\s+(\w{1,3}|\w\.)\s+|(\w{1,3}|\w\.?)\s+)(\w+|$)/,s=/(\w+|^)(\s+(\w{1,3}|\w\.)\s+(\w{1,3}|\w\.)|\s+(\w{1,3}|\w\.?))$/,n=new RegExp("\\s+("+t("postpositions").replace("\\","\\\\")+")(\\W|$)","gi"),o=new RegExp("(\\W|^)("+t("prepositions").replace("\\","\\\\")+")((\\s+)("+t("articles").replace("\\","\\\\")+")|)\\s+","gi"),r=t("abbreviate_ignore_list").split("|");return{prepareText:function(t){return e.isString(t)?t=(t=(t=(t=t.replace(i,(function(...e){return e[4]?e[4]+" "+e[5]:e[2]+" "+e[3]+" "+e[5]}))).replace(s,(function(...e){return e[5]?e[1]+" "+e[5]:e[1]+" "+e[3]+" "+e[4]}))).replace(n," $1$2")).replace(o,(function(...e){return e[5]?e[1]+e[2]+" "+e[5]+" ":e[1]+e[2]+" "})):t},abbreviate:function(t,i){if(!e.isString(t))return t;let s=t.split(/\s+/g).map((function(e){return e.replace(/^[!-#%-*,-/:;?@\[-\]_{}"']+|[!-#%-*,-/:;?@\[-\]_{}'"]+$/g,"")}));return s=e.compact(s),s.length<i?t:s.map((function(e){return-1!==r.indexOf(e.toLowerCase())?"":e[0].toUpperCase()})).join("")}}}.apply(t,s))||(e.exports=n)},"./bundles/orouser/js/constants/access-levels.js":e=>{e.exports={NONE:0}},"./bundles/orouser/js/datagrid/action-permissions-field-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/mediator.js"),s=i("./bundles/orouser/js/datagrid/action-permissions-readonly-field-view.js"),n=i("./bundles/orouser/js/datagrid/permission/permission-view.js"),o=s.extend({autoRender:!1,animationDuration:0,className:"field-permission-container",template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/datagrid/action-permissions-field-view.html"),permissionView:n,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){o.__super__.initialize.call(this,e),this.listenTo(this.model.get("permissions"),"change",this.onAccessLevelChange)},onAccessLevelChange:function(e){t.trigger("securityAccessLevelsComponent:link:click",{accessLevel:e.get("access_level"),identityId:e.get("identity"),permissionName:e.get("name"),group:this.model.get("group"),category:this.model.get("group"),isInitialValue:!e.isAccessLevelChanged()})}});return o}.call(t,i,t,e))||(e.exports=s)},"./bundles/orouser/js/datagrid/action-permissions-readonly-field-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/app/views/base/collection-view.js"),s=i("./bundles/orouser/js/datagrid/permission/permission-readonly-view.js"),n=i("./bundles/oroui/js/app/views/base/view.js").extend({autoRender:!1,animationDuration:0,className:"field-permission-container",template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/datagrid/action-permissions-field-view.html"),permissionView:s,constructor:function e(t){e.__super__.constructor.call(this,t)},render:function(){return n.__super__.render.call(this),this.subview("permissions-items",new t({el:this.$("[data-name=field-permissions-items]"),tagName:"ul",className:"action-permissions",animationDuration:0,collection:this.model.get("permissions"),itemView:this.permissionView})),this}});return n}.call(t,i,t,e))||(e.exports=s)},"./bundles/orouser/js/datagrid/action-permissions-readonly-row-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/app/models/base/collection.js"),n=i("./bundles/oroui/js/app/views/base/collection-view.js"),o=i("./bundles/orouser/js/datagrid/permission/permission-readonly-view.js"),r=i("./bundles/orouser/js/datagrid/action-permissions-readonly-field-view.js"),a=i("./bundles/orouser/js/models/role/permission-model.js"),l=i("./bundles/oroui/js/app/views/base/view.js"),d=l.extend({tagName:"tr",className:"grid-row collapsed",autoRender:!1,animationDuration:0,template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/datagrid/action-permissions-row-view.html"),permissionItemView:o,fieldItemView:r,readonlyMode:!0,optionNames:l.prototype.optionNames.concat(["dataCollection","ariaRowsIndexShift"]),constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){d.__super__.initialize.call(this,e);let i=this.model.get("fields");"string"==typeof i&&(i=JSON.parse(i)),t.isArray(i)||(i=t.values(i)),i.length&&t.each(i,(function(e){e.permissions=new s(t.values(e.permissions),{model:a})})),this.model.set("fields",i,{silent:!0})},render:function(){d.__super__.render.call(this);const e=this.model.get("fields");return this.subview("permissions-items",new n({el:this.$("[data-name=action-permissions-items]"),tagName:"ul",className:"action-permissions",animationDuration:0,collection:this.model.get("permissions"),itemView:this.permissionItemView})),e.length>0&&this.subview("fields-list",new n({el:this.$("[data-name=fields-list]"),collection:new s(e),animationDuration:0,itemView:this.fieldItemView})),this},getTemplateData:function(){const e=d.__super__.getTemplateData.call(this);return e.ariaRowIndex=this.getAriaRowIndex(),e.readonlyMode=this.readonlyMode,e.columnsCount=this.collection.length,e},_attributes:function(){return{role:"presentation","aria-rowindex":null}},getAriaRowIndex(){let e=null;const t=this.dataCollection.filter((e=>!0!==e.get("isAuxiliary"))).findIndex((e=>e.cid===this.model.cid));return-1!==t&&(e=t+this.ariaRowsIndexShift),e}});return d}.call(t,i,t,e))||(e.exports=s)},"./bundles/orouser/js/datagrid/action-permissions-row-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/mediator.js"),n=i("./bundles/orouser/js/datagrid/permission/permission-view.js"),o=i("./bundles/orouser/js/datagrid/role-permissions-action-view.js"),r=i("./bundles/orouser/js/datagrid/action-permissions-readonly-row-view.js"),a=i("./bundles/orouser/js/models/role/access-levels-collection.js"),l=i("./bundles/orouser/js/datagrid/action-permissions-field-view.js"),d=r.extend({permissionItemView:n,fieldItemView:l,readonlyMode:!1,constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){d.__super__.initialize.call(this,e);const i=this.model.get("fields");if(i.length){const e=this.model.get("permissions").accessLevels.getRouteName();t.each(i,(function(t){t.permissions.each((function(t){t.accessLevels=new a([],{routeParameters:{oid:t.get("identity").replace(/\\/g,"_"),permission:t.get("name"),routeName:e}})}))}))}this.listenTo(this.model.get("permissions"),"change",this.onAccessLevelChange)},render:function(){d.__super__.render.call(this);const e=new o({el:this.$("[data-name=row-action]"),accessLevels:this.model.get("permissions").accessLevels});return this.subview("row-action",e),this.listenTo(e,"row-access-level-change",(function(e){this.model.get("permissions").each((function(t){t.set(e)}))})),this},onAccessLevelChange:function(e){s.trigger("securityAccessLevelsComponent:link:click",{accessLevel:e.get("access_level"),identityId:e.get("identity"),permissionName:e.get("name"),group:this.model.get("group"),category:this.model.get("group"),isInitialValue:!e.isAccessLevelChanged()})}});return d}.call(t,i,t,e))||(e.exports=s)},"./bundles/orouser/js/datagrid/cell/action-permissions-cell.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/app/views/base/view.js"),s=i("./bundles/orodatagrid/js/extend/backgrid.js");return t.extend({optionNames:["column"],_attributes:s.Cell.prototype._attributes,constructor:function e(t){e.__super__.constructor.call(this,t)}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/orouser/js/datagrid/permission/permission-readonly-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/app/views/base/view.js"),s=i("./bundles/orouser/js/constants/access-levels.js"),n=t.extend({tagName:"li",className:"action-permissions__item dropdown",template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/datagrid/permission/permission-readonly-view.html"),constructor:function e(t){e.__super__.constructor.call(this,t)},getTemplateData:function(){const e=n.__super__.getTemplateData.call(this);return e.noAccess=s.NONE===this.model.get("access_level"),e}});return n}.call(t,i,t,e))||(e.exports=s)},"./bundles/orouser/js/datagrid/permission/permission-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/app/views/base/view.js"),n=i("./bundles/oroui/js/app/views/dropdown-menu-collection-view.js"),o=s.extend({tagName:"li",className:"action-permissions__item dropdown",template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/datagrid/permission/permission-view.html"),events:{"shown.bs.dropdown":"onDropdownOpen","hide.bs.dropdown":"onDropdownClose"},listen:{"change:access_level model":"render"},constructor:function e(t){e.__super__.constructor.call(this,t)},id:function(){return"ActionPermissionsCell-"+this.cid},getTemplateData:function(){const e=o.__super__.getTemplateData.call(this);return e.dropdownTarget="#"+t.result(this,"id"),e.isAccessLevelChanged=this.model.isAccessLevelChanged(),e},render:function(){const e=this.subview("dropdown");this.$el.trigger("tohide.bs.dropdown"),e&&(this.$('[data-toggle="dropdown"]').dropdown("dispose"),e.$el.detach()),o.__super__.render.call(this),e&&this.$('[data-role="dropdown-menu-content"]').replaceWith(e.$el)},onDropdownOpen:function(e){let i=this.subview("dropdown");const s=this.model.accessLevels;i||(i=new n({el:this.$('[data-role="dropdown-menu-content"]'),collection:s,keysMap:{id:"access_level",text:"access_level_label"}}),this.listenTo(i,"selected",this.onAccessLevelSelect),this.listenTo(this.model.accessLevels,"sync",(function(){this.$('[data-toggle="dropdown"]').dropdown("update")})),this.subview("dropdown",i)),s.length||s.fetch({success:function(e){t.each(e.models,(function(t){isNaN(t.get("access_level"))&&e.remove(t)}))}}),this.$(".action-permissions__item-wrapper").addClass("active")},onDropdownClose:function(e){this.$(".action-permissions__item-wrapper").removeClass("active")},onAccessLevelSelect:function(e){this.model.set(e)}});return o}.call(t,i,t,e))||(e.exports=s)},"./bundles/orouser/js/datagrid/role-permissions-action-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/app/views/base/view.js"),n=i("./bundles/oroui/js/app/views/dropdown-menu-collection-view.js"),o=s.extend({className:"dropleft",icon:"",autoRender:!0,template:i("../node_modules/@oroinc/oro-webpack-config-builder/loader/tpl-loader.js!./bundles/orouser/templates/datagrid/role-permissions-action-view.html"),accessLevels:null,action:null,events:{"shown.bs.dropdown":"onDropdownOpen","mouseover .dropdown-toggle":"_showDropdown",mouseleave:"_hideDropdown"},constructor:function e(t){e.__super__.constructor.call(this,t)},initialize:function(e){t.extend(this,t.pick(e,["accessLevels","action"])),o.__super__.initialize.call(this,e)},dispose:function(){this.disposed||(delete this.accessLevels,delete this.action,o.__super__.dispose.call(this))},delegateListeners:function(){o.__super__.delegateListeners.call(this),this.listenTo(this.accessLevels,"sync",(function(){this.$('[data-toggle="dropdown"]').dropdown("update")}))},render:function(){const e=this.subview("dropdown");e&&(this.$('[data-toggle="dropdown"]').dropdown("dispose"),e.$el.detach()),o.__super__.render.call(this),e&&this.$('[data-role="dropdown-menu-content"]').replaceWith(e.$el)},onDropdownOpen:function(e){let t=this.subview("dropdown");const i=this.accessLevels;t||(t=new n({el:this.$('[data-role="dropdown-menu-content"]'),collection:i,keysMap:{id:"access_level",text:"access_level_label"}}),this.listenTo(t,"selected",this.onAccessLevelSelect),this.subview("dropdown",t)),i.length||i.fetch()},onAccessLevelSelect:function(e){this.trigger("row-access-level-change",e),this.$('[data-toggle="dropdown"]').parent().hasClass("show")&&this.$('[data-toggle="dropdown"]').dropdown("toggle")},_showDropdown:function(e){this.$('[data-toggle="dropdown"]').parent().hasClass("show")||this.$('[data-toggle="dropdown"]').dropdown("toggle")},_hideDropdown:function(e){this.$('[data-toggle="dropdown"]').parent().hasClass("show")&&this.$('[data-toggle="dropdown"]').dropdown("toggle"),e.stopPropagation()}});return o}.call(t,i,t,e))||(e.exports=s)},"./bundles/orouser/js/datagrid/roles-datagrid-builder.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/oroui/js/mediator.js"),n=i("./bundles/orouser/js/models/role/permission-model.js"),o=i("./bundles/orouser/js/models/role/access-levels-collection.js"),r=i("./bundles/oroui/js/app/models/base/collection.js"),a=i("./bundles/orouser/js/datagrid/action-permissions-row-view.js"),l=i("./bundles/orouser/js/datagrid/action-permissions-readonly-row-view.js"),d={processDatagridOptions:function(e,i){const s=/\\/g;i.metadata.columns=i.metadata.columns.filter((e=>e.renderable)),i.themeOptions.readonly?(i.metadata.rowActions={},i.themeOptions.rowView=l):i.themeOptions.rowView=a,t.each(i.data.data,(function(e){e.permissions=new r(e.permissions,{model:n});const t={oid:e.identity.replace(s,"_"),permission:""};i.metadata.options.access_level_route&&(t.routeName=i.metadata.options.access_level_route);const a=new o([],{routeParameters:t});e.permissions.accessLevels=a,e.permissions.each((function(e){e.accessLevels=a}))})),e.resolve()},init:function(e,t){t.gridPromise.done((function(i){d.build(i,t),e.resolve()})).fail((function(){e.reject()}))},build:function(e,i){const n={id:i.currentCategoryId||"all"};e.body.filter((function(e){return"all"===n.id||e.get("group")===n.id})),e.body.listenTo(s,"role:entity-category:changed",(function(i){t.extend(n,i),e.body.filter(),e.$el.toggle(e.body.visibleItems.length>0),e.trigger("content:update")}))}};return d}.call(t,i,t,e))||(e.exports=s)},"./bundles/orouser/js/models/role/access-levels-collection.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js");return i("./bundles/oroui/js/app/models/base/routing-collection.js").extend({routeDefaults:{routeName:"oro_security_access_levels"},constructor:function e(...t){e.__super__.constructor.apply(this,t)},parse:function(e,i){return t.map(t.pairs(e),(function(e){return{access_level:parseInt(e[0],10),access_level_label:e[1]}}))},getRouteName:function(){return this._route.get("routeName")}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/orouser/js/models/role/permission-model.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/app/models/base/model.js").extend({_initialAccessLevel:null,constructor:function e(t,i){e.__super__.constructor.call(this,t,i)},initialize:function(e,i){this._initialAccessLevel=this.get("access_level"),t.__super__.initialize.call(this,e,i)},isAccessLevelChanged:function(){return this._initialAccessLevel!==this.get("access_level")}});return t}.call(t,i,t,e))||(e.exports=s)},"./bundles/oroworkflow/js/activation-handler.js":(e,t,i)=>{var s,n;s=[i("./bundles/orotranslation/js/translator.js"),i("./bundles/fosjsrouting/js/router.js"),i("./bundles/orowindows/js/widget/dialog-widget.js")],void 0===(n=function(e,t,i){"use strict";return function(s,n,o){const r=this,a=new i({title:e("oro.workflow.workflowdefinition.activate",{label:o}),url:t.generate("oro_workflow_definition_activate_from_widget",{name:n}),stateEnabled:!1,incrementalPosition:!1,loadingMaskEnabled:!0,dialogOptions:{modal:!0,resizable:!0,width:500,autoResize:!0}});a.on("formSave",(function(e){r.trigger("activation_success",e)})),a.render()}}.apply(t,s))||(e.exports=n)},"./bundles/oroworkflow/js/datagrid/action/workflow-activate-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/orodatagrid/js/datagrid/action/model-action.js"),i("./bundles/oroworkflow/js/activation-handler.js"),i("./bundles/oroui/js/messenger.js")],void 0===(n=function(e,t,i){"use strict";return e.extend({execute:function(){const e=this.datagrid;this.on("activation_success",(function(t){i.notificationFlashMessage("success",t.message),t.deactivatedMessage&&i.notificationFlashMessage("info",t.deactivatedMessage),e.hideLoading(),e.collection.fetch({reset:!0})})),t.call(this,this.getLink(),this.model.get("name"),this.model.get("label"))}})}.apply(t,s))||(e.exports=n)},"./bundles/oroworkflow/js/datagrid/action/workflow-deactivate-action.js":(e,t,i)=>{var s,n;s=[i("./bundles/orodatagrid/js/datagrid/action/model-action.js"),i("./bundles/oroworkflow/js/deactivation-handler.js")],void 0===(n=function(e,t){"use strict";return e.extend({execute:function(){const e=this.datagrid;this.on("deactivation_start",(function(){e.showLoading()})),this.on("deactivation_success",(function(){e.hideLoading(),e.collection.fetch({reset:!0})})),this.on("deactivation_error",(function(t){e.hideLoading()})),t.call(this,this.getLink(),this.model.get("label"))}})}.apply(t,s))||(e.exports=n)},"./bundles/oroworkflow/js/datagrid/workflow-action-permissions-field-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/mediator.js");return i("./bundles/orouser/js/datagrid/action-permissions-field-view.js").extend({constructor:function e(t){e.__super__.constructor.call(this,t)},onAccessLevelChange:function(e){t.trigger("securityAccessLevelsComponent:link:click",{accessLevel:e.get("access_level"),identityId:e.get("identity"),permissionName:e.get("name")})}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/oroworkflow/js/datagrid/workflow-action-permissions-row-view.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/mediator.js"),s=i("./bundles/orouser/js/datagrid/action-permissions-row-view.js"),n=i("./bundles/oroworkflow/js/datagrid/workflow-action-permissions-field-view.js");return s.extend({fieldItemView:n,constructor:function e(t){e.__super__.constructor.call(this,t)},onAccessLevelChange:function(e){t.trigger("securityAccessLevelsComponent:link:click",{accessLevel:e.get("access_level"),identityId:e.get("identity"),permissionName:e.get("name")})}})}.call(t,i,t,e))||(e.exports=s)},"./bundles/oroworkflow/js/datagrid/workflow-datagrid-builder.js":(e,t,i)=>{var s;void 0===(s=function(e){"use strict";const t=i("./bundles/oroui/js/extend/underscore.js"),s=i("./bundles/orouser/js/models/role/permission-model.js"),n=i("./bundles/orouser/js/models/role/access-levels-collection.js"),o=i("./bundles/oroui/js/app/models/base/collection.js"),r=i("./bundles/oroworkflow/js/datagrid/workflow-action-permissions-row-view.js"),a=i("./bundles/orouser/js/datagrid/action-permissions-readonly-row-view.js"),l={processDatagridOptions:function(e,i){const l=/\\/g;i.themeOptions.rowView=i.themeOptions.readonly?a:r,t.each(i.data.data,(function(e){e.permissions=new o(e.permissions,{model:s});const t={oid:e.identity.replace(l,"_"),permission:""};i.metadata.options.access_level_route&&(t.routeName=i.metadata.options.access_level_route);const r=new n([],{routeParameters:t});e.permissions.accessLevels=r,e.permissions.each((function(e){e.accessLevels=r}))})),e.resolve()},init:function(e,t){t.gridPromise.done((function(i){l.build(i,t),e.resolve()})).fail((function(){e.reject()}))},build:function(e,t){}};return l}.call(t,i,t,e))||(e.exports=s)},"./bundles/oroworkflow/js/deactivation-handler.js":(e,t,i)=>{var s,n;s=[i("./bundles/oroui/js/extend/jquery.js"),i("./bundles/orotranslation/js/translator.js"),i("./bundles/oroui/js/modal.js"),i("./bundles/oroui/js/messenger.js")],void 0===(n=function(e,t,i,s){"use strict";return function(n,o,r){const a=this,l=new i({title:t("oro.workflow.workflowdefinition.deactivate",{label:o}),content:t("oro.workflow.workflowdefinition.reset_workflow_data_message"),okText:t("oro.workflow.workflowdefinition.deactivate_button_text")});l.on("ok",(function(){a.trigger("deactivation_start"),e.ajax({url:n,type:"POST",success:function(e){e.message&&!r&&s.notificationFlashMessage("success",e.message),a.trigger("deactivation_success",[e])},error:function(e,t,i){a.trigger("deactivation_error",[e,t,i])}})})),l.open()}}.apply(t,s))||(e.exports=n)}}]);